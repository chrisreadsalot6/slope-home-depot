((self||this)["webpackJsonp@sprinklrjs/chat-web-client"]=(self||this)["webpackJsonp@sprinklrjs/chat-web-client"]||[]).push([[13],{1046:function(e,t,n){"use strict";var r=n(51),c=n.n(r),i=n(234),s=n.n(i),a=n(578),u=n.n(a);const l=(e,t)=>u()(e)&&u()(t)?e-t:s()(e)&&s()(t)?e.localeCompare(t):s()(e)&&u()(t)?parseInt(e,10)-t:u()(e)&&s()(t)?e-parseInt(t,10):-1,o=(e,t)=>{if(c()(t))return!1;return l(t,e)<=-1},d=(e,t)=>{if(c()(t))return!1;return l(t,e)>=1},_=(e,t)=>{if(c()(t))return!1;return 0===l(t,e)};var O=n(231),b=n.n(O),f=n(31),E=n.n(f),h=n(314),T=n(253),I=n(223),S=n(386);var A=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:r}=t,c=I.a.getField(this._filter),i=b()(I.a.getValues(this._filter)),s=Object(h.c)({currentValueMap:e,filter:this._filter});let a;switch(I.a.getFilterType(this._filter)){case S.a.LT:a=o(i,s);break;case S.a.LTE:a=o(i,s)||_(i,s);break;case S.a.GT:a=d(i,s);break;case S.a.GTE:a=d(i,s)||_(i,s);break;case S.a.EQUALS:a=_(i,s);break;case S.a.NOT_EQUALS:a=!_(i,s);break;case S.a.EXISTS:a=!E()(s);break;case S.a.MISSING:a=E()(s);break;default:a=!1}return a&&n&&Object(T.a)(`Range Filter succeed for ${c} with value ${s}`),!a&&r&&Object(T.a)(`Range Filter failed for ${c} with value ${s}`),a},this.clear=()=>{},this._filter=e}};var p=(e,t)=>{if(c()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(T.a)("Wrong regex in filter"),!1}},v=n(838),N=n(8),C=n.n(N),R=n(353),g=n.n(R);var j=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:r}=t,c=I.a.getField(this._filter),i=I.a.getValues(this._filter),s=Object(h.c)({currentValueMap:e,filter:this._filter}),a=C()(I.a.getDetails(this._filter),"valueAdditional.isJsRegex"),u=g()(i,(e=>a?p(e,s):Object(v.a)(e,s)));return u&&n&&Object(T.a)(`Regex Filter succeed for ${c} with value ${s}`),!u&&r&&Object(T.a)(`Regex Filter failed for ${c} with value ${s}`),u},this.clear=()=>{},this._filter=e}};var L=(e,t)=>!c()(t)&&!!e.includes(t);var P=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:r}=t,c=I.a.getField(this._filter),i=I.a.getValues(this._filter),s=Object(h.c)({currentValueMap:e,filter:this._filter}),a=L(i,s);return a&&n&&Object(T.a)(`In Filter succeed for ${c} with value ${s}`),!a&&r&&Object(T.a)(`In Filter failed for ${c} with value ${s}`),a},this.clear=()=>{},this._filter=e}};var m=(e,t)=>!c()(t)&&!e.includes(t);var y=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:r}=t,c=I.a.getField(this._filter),i=I.a.getValues(this._filter),s=Object(h.c)({currentValueMap:e,filter:this._filter}),a=m(i,s);return a&&n&&Object(T.a)(`NotIn Filter succeed for ${c} with value ${s}`),!a&&r&&Object(T.a)(`NotIn Filter failed for ${c} with value ${s}`),a},this.clear=()=>{},this._filter=e}};class F{}F.createFilterAction=e=>{switch(I.a.getFilterType(e)){case S.a.LTE:case S.a.LT:case S.a.GT:case S.a.GTE:case S.a.NOT_EQUALS:case S.a.EXISTS:case S.a.MISSING:return new A(e);case S.a.REGEX:return new j(e);case S.a.CONTAINS:case S.a.IN:return new P(e);case S.a.NIN:return new y(e);default:return new A(e)}};var U=F;var D=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=U.createFilterAction(this._filter)}};var V=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=U.createFilterAction(e)}};var M=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=U.createFilterAction(e)}},w=n(263),k=n.n(w),B=n(315);var G=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=I.a.getDetails(this._filter),r=Object(h.c)({currentValueMap:e,filter:this._filter});let c={[B.a.BUSINESS_HOURS]:r};return!n||E()(n)||k()(n.timeToBusinessHours)||(c={[B.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(c,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const r=(e=>I.a.getFilterType(e)===S.a.IN?b()(I.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:S.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:S.a.GT,values:[0]}):e)(e);this._filter=r,this._unSubscribeFn=n?n(r):null,this._filterAction=U.createFilterAction(r)}};var x=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const r=(e=>I.a.getFilterType(e)===S.a.IN?b()(I.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:S.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:S.a.LTE,values:[0]}):e)(e);this._filter=r,this._unSubscribeFn=n?n(r):null,this._filterAction=U.createFilterAction(r)}};var K=class{constructor(e,t){let{subscribe:n,parentFilter:r}=t;this.matches=(e,t)=>{var n,r,c,i;let s=e;switch(this._parentFilter&&I.a.getField(this._parentFilter)){case B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const t=b()(I.a.getValues(this._parentFilter)),c=null!==(r=null===(n=e[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY][t])||void 0===n?void 0:n.variants)&&void 0!==r?r:[],i=Date.now()-(c[c.length-1].actionTime||0);s=Object.assign(Object.assign({},s),{[B.a.DEPENDENT_DURATION_KEY]:i});break}case B.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const t=b()(I.a.getValues(this._parentFilter)),n=null!==(i=null===(c=e[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY][t])||void 0===c?void 0:c.variants)&&void 0!==i?i:[],r=Date.now()-(n[n.length-1].actionTime||0);s=Object.assign(Object.assign({},s),{[B.a.DEPENDENT_DURATION_KEY]:r});break}}return this._filterAction.matches(s,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._parentFilter=r,this._unSubscribeFn=n?n(e,r):null,this._filterAction=U.createFilterAction(e)}};var Y=class{constructor(e,t){this.matches=(e,t)=>{const n=b()(I.a.getValues(this._filter)),r=e[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],c=this._filterAction.matches({[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:r[n]?n:""},t);if(c){const n=I.a.getDetails(this._filter);if(n&&!E()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return c},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=U.createFilterAction(e),this._dependentFilterAction=null}};var H=class{constructor(e,t){this.matches=(e,t)=>{const n=b()(I.a.getValues(this._filter)),r=e[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY],c=this._filterAction.matches({[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:r[n]?n:""},t);if(c){const n=I.a.getDetails(this._filter);if(n&&!E()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return c},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=U.createFilterAction(e),this._dependentFilterAction=null}},W=n(220);const $="PIXEL";var X=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=C()(I.a.getDetails(this._filter),"valueAdditional.valueType"),r=I.a.getField(this._filter),{scrollDepth:c,scrollPercent:i}=e[r]||W.a,s={[r]:n===$?c:i};return this._filterAction.matches(s,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=U.createFilterAction(e)}};var Q=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(h.c)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null}};var z=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(h.c)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=n?n(e):null}};class q{}q.createFilterAction=(e,t)=>{switch(I.a.getField(e)){case B.a.AVAILABLE_AGENTS:return new V(e,t);case B.a.AGENT_OUT_OF_CAPACITY:return new M(e,t);case B.a.BUSINESS_HOURS:return new G(e,t);case B.a.IS_CONVERSATION_OPEN:return new x(e,t);case B.a.DEPENDENT_DURATION_KEY:return new K(e,t);case B.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new H(e,t);case B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new Y(e,t);case B.a.CURRENT_URL:case B.a.TOTAL_TIME_SPENT:case B.a.ACTIVE_TIME_SPENT:case B.a.INACTIVE_TIME_SPENT:case B.a.DEVICE_TYPE:case B.a.USER_IP_DETAILS_COUNTRY_LONG:case B.a.USER_IP_DETAILS_COUNTRY_SHORT:case B.a.USER_IP_DETAILS_CITY:case B.a.USER_IP_DETAILS_REGION:case B.a.DOES_CONVERSATION_EXIST:case B.a.WORK_QUEUE_WAIT_TIME:return new D(e,t);case B.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case B.a.VERTICAL_PAGE_SCROLL_DEPTH:return new X(e,t);case B.a.TIME_SPENT_ON_SESSION:return new Q(e,t);case B.a.NUM_SNOOZE_ALLOWED:return new z(e,t);default:return Object(h.e)(I.a.getField(e))?new D(e,t):void 0}};var Z=q,J=n(48),ee=n.n(J),te=n(49),ne=n.n(te);var re=class{constructor(e,t){this.matches=(e,t)=>{let n=!0;return ne()(this._filterActions,(r=>!!r.matches(e,t)||(n=!1,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(I.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};var ce=class{constructor(e,t){this.matches=(e,t)=>{let n=!1;return ne()(this._filterActions,(r=>!r.matches(e,t)||(n=!0,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(I.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};let ie=0;class se{}se.createFilterAction=(e,t)=>{const n=(e=>{var t,n;return ie+=1,Object.assign(Object.assign({},e),{id:null!==(n=null===(t=null===e||void 0===e?void 0:e.details)||void 0===t?void 0:t.id)&&void 0!==n?n:ie})})(e),r=Z.createFilterAction(n,t);if(r)return r;switch(I.a.getFilterType(n)){case S.a.AND:return new re(e,t);case S.a.OR:return new ce(e,t);default:return U.createFilterAction(n)}};t.a=se},1071:function(e,t,n){"use strict";var r=n(191),c=n(215),i=n.n(c),s=n(231),a=n.n(s),u=n(8),l=n.n(u),o=n(262),d=n.n(o),_=n(49),O=n.n(_),b=n(355),f=n.n(b),E=(n(200),n(660));n(192);var h=function(){return Object(r.useContext)(E.b)},T=n(223),I=n(220);const S=(e,t)=>(d()(l()(e,t))||I.a).startTime||0,A=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:r}=e;const c=n-(t?Date.now()-t:0);let i;return c>0&&(i=window.setTimeout((()=>{r()}),c)),i};t.a=()=>{const{pagesMetaData:e,currentPageUrl:t}=h(),n=Object(r.useRef)(S(e,t));n.current=S(e,t);const c=Object(r.useRef)({}),s=Object(r.useCallback)(((e,t)=>{const r=T.a.getId(e),s=a()(T.a.getValues(e));return c.current={...c.current,[r]:{timeoutId:A({startTime:n.current,expectedElapsedTime:s,onTimeout:t}),onChangeCallback:t,filterValue:s}},()=>{clearTimeout(l()(c.current,`${r}.timeoutId`)),c.current=i()(c.current,r)}}),[]);f()((()=>{O()(c.current,(e=>{const{timeoutId:t,onChangeCallback:r,filterValue:c}=e;clearTimeout(t),r(),e.timeoutId=A({startTime:n.current,expectedElapsedTime:c,onTimeout:r})}))}),[t]);return{subscribe:s,getValue:Object(r.useCallback)((()=>n.current?Date.now()-n.current:0),[])}}},1199:function(e,t,n){var r=n(123)("length");e.exports=r},1200:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",c="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+c+")"+"?",l="[\\ufe0e\\ufe0f]?",o=l+u+("(?:\\u200d(?:"+[i,s,a].join("|")+")"+l+u+")*"),d="(?:"+[i+r+"?",r,s,a,n].join("|")+")",_=RegExp(c+"(?="+c+")|"+d+o,"g");e.exports=function(e){for(var t=_.lastIndex=0;_.test(e);)++t;return t}},201:function(e,t,n){"use strict";var r=n(191),c=n(555);t.a=function(){return Object(r.useContext)(c.a)}},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(191),c=n(215),i=n.n(c),s=n(554);function a(){const e=Object(r.useContext)(s.c);return Object(r.useMemo)((()=>i()(e,"settings")),[e])}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(191),c=n(348),i=n(197);function s(e){const t=Object(i.c)();return Object(r.useMemo)((()=>Object(c.b)(e,t)),[e,t])}},221:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return _})),n.d(t,"i",(function(){return O})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return f}));var r=n(837),c=n.n(r),i=n(242),s=n(310);function a(e){return{type:e?i.b:i.d,payload:{}}}function u(){return{type:i.k,payload:{}}}const l=c()(a,!0);c()(a,!1);function o(){return{type:i.g,payload:{}}}function d(e){return{type:i.l,payload:e}}function _(e,t,n){return{type:i.t,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function O(e,t){return{type:i.u,payload:{userPreferenceKey:e,value:t}}}const b=e=>({type:s.c,payload:e}),f=e=>{let{value:t}=e;return{type:i.q,payload:{value:t}}}},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1536),c=n(1431);const i=Object(r.a)("field"),s=Object(r.a)("values"),a=Object(r.a)("filterType"),u=Object(r.a)("filters"),l=Object(r.a)("details"),o=Object(r.a)("id");class d{}d.getField=Object(c.a)(i),d.getValues=Object(c.a)(s),d.getFilterType=Object(c.a)(a),d.getFilters=Object(c.a)(u),d.getDetails=Object(c.a)(l),d.getId=Object(c.a)(o)},224:function(e,t,n){"use strict";var r=n(191),c=n(233),i=n.n(c),s=n(5),a=n.n(s),u=n(8),l=n.n(u),o=n(201),d=n(455);t.a=()=>{const{locale:e,language:t}=Object(o.a)();return Object(r.useCallback)(((n,r)=>{const c=l()(n,"langVsTranslatedFieldValues");if(!a()(c))return l()(n,r);let s=l()(c,e)||l()(c,t);return s||(s=i()(c,((e,n)=>Object(d.b)(n)===t))),l()(s,r)||l()(n,r)}),[e,t])}},231:function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},239:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return _})),n.d(t,"s",(function(){return O})),n.d(t,"p",(function(){return b})),n.d(t,"B",(function(){return f})),n.d(t,"A",(function(){return E})),n.d(t,"w",(function(){return h})),n.d(t,"v",(function(){return T})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return S})),n.d(t,"x",(function(){return A})),n.d(t,"y",(function(){return p})),n.d(t,"o",(function(){return v})),n.d(t,"l",(function(){return N})),n.d(t,"n",(function(){return C})),n.d(t,"E",(function(){return R})),n.d(t,"C",(function(){return g})),n.d(t,"D",(function(){return j})),n.d(t,"F",(function(){return L})),n.d(t,"z",(function(){return P})),n.d(t,"k",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return F})),n.d(t,"q",(function(){return U})),n.d(t,"c",(function(){return D})),n.d(t,"r",(function(){return V})),n.d(t,"m",(function(){return M})),n.d(t,"j",(function(){return w}));var r=n(235),c=n(372),i=n(453),s=n(222);const a=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:r.f}},u=(e,t)=>{let{cursor:n,size:c}=t;return t=>({payload:{conversationId:e,cursor:n,size:c},type:r.l,promise:t})},l=e=>{let{conversationId:t,query:n,faqAttachment:c,locale:i}=e;return e=>({payload:{conversationId:t,query:n,faqAttachment:c,locale:i},type:r.B,promise:e})},o=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:r.i,promise:e})},d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:r.h,promise:e})},_=e=>({type:r.j,payload:e}),O=e=>t=>({payload:{conversationId:e},type:r.o,promise:t}),b=e=>({type:r.J,payload:{chatMessage:e,conversationId:s.a.getConversationId(e)}}),f=e=>{let{text:t,conversationId:n,sender:c,disableManualResponse:i,inReplyToChatMessageId:s,maskingDetails:a}=e;return{type:r.bb,payload:{text:t,conversationId:n,sender:c,disableManualResponse:i,inReplyToChatMessageId:s,maskingDetails:a}}},E=e=>{let{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:i}=e;return e=>({type:r.ab,payload:{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:i},promise:e})},h=e=>({type:r.A,payload:e}),T=e=>{let{action:t,conversationId:n,callback:s}=e;const a=Object(i.a)(t.actionId,t.attachment),u=Object(i.c)(t);return(e=>({type:r.y,payload:e}))({type:c.c,payload:{contextId:n,actionId:a.externalCallParams,actionPayload:u},callback:s})},I=e=>{let{action:t,conversationId:n}=e;const r=Object(i.a)(t.actionId,t.attachment);return h({type:c.a,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},S=e=>{let{action:t,conversationId:n}=e;const r=Object(i.a)(t.actionId,t.attachment);return h({type:c.b,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},A=e=>{let{id:t,conversationId:n,messageId:r}=e;return h({type:c.f,payload:{id:t,contextId:n,sprMsgId:r}})},p=e=>{let{id:t,conversationId:n,messageId:r}=e;return h({type:c.h,payload:{id:t,contextId:n,sprMsgId:r}})},v=e=>{let{attachment:t,actionId:n}=e;return e=>{const c=Object(i.a)(n,t);return{type:r.S,payload:{url:c.url,target:c.target},promise:e}}},N=e=>{let{attachment:t,actionId:n}=e;return e=>{const c=Object(i.a)(n,t);return{type:r.p,payload:{phoneNumber:c.phoneNumber},promise:e}}},C=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:c}=e;return{type:r.W,payload:{surveyUrl:t,shouldReplace:n,conversationId:c}}},R=()=>({type:r.Y,payload:{}}),g=()=>({type:r.V,payload:{}}),j=()=>({type:r.Z,payload:{}}),L=e=>{let{actionParams:t,conversationId:n,sender:c,appContext:s,applicationConfig:a,inReplyToChatMessageId:u}=e;return e=>({type:r.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(i.b)(t)}),conversationId:n,sender:c,appContext:s,applicationConfig:a,inReplyToChatMessageId:u},promise:e})},P=e=>{let{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:i}=e;return{type:r.T,payload:{postback:t,conversationId:n,sender:c,inReplyToChatMessageId:i}}},m=(e,t)=>n=>({type:r.M,payload:{conversationId:e,appContext:t},promise:n}),y=e=>{let{conversationId:t,externalCaseId:n,isPhone:c}=e;return{type:r.v,payload:{conversationId:t,externalCaseId:n,isPhone:c}}},F=(e,t,n,c)=>({type:r.s,payload:{conversationId:t,caseId:e,context:n,isPhone:c}}),U=(e,t)=>({type:r.F,payload:{chatMessage:e,conversationId:s.a.getConversationId(e),alternateUserIds:t}}),D=(e,t)=>n=>({type:r.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),V=(e,t)=>({type:r.G,payload:{chatMessageId:t,conversationId:e}});function M(e,t){return{type:r.Q,payload:{conversationId:e,lastReadMessageId:t}}}function w(){return{type:r.C,payload:{}}}},251:function(e,t,n){"use strict";var r=n(191),c=n(219);t.a=()=>{const e=Object(c.a)();return Object(r.useMemo)((()=>e.otherConfigs.settings),[e])}},252:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(191),c=n(845);function i(){return Object(r.useContext)(c.a)}},277:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));const r=/^https?:\/\//i,c=e=>e.match(r)?e:`https://${e}`,i=e=>`tel:${e}`,s=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),a=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),u=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()},l=e=>{const t=null===e||void 0===e?void 0:e.substring(1);return t?t.split("&").reduce((function(e,t){const[n,r]=t.split("="),c=decodeURIComponent(r);return e[n]=c,e}),{}):{}}},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return _}));var r=n(279),c=n(492);const i=e=>{let{ssoId:t,conversationId:n,messageId:c}=e;return e=>({type:r.c,payload:{ssoId:t,conversationId:n,messageId:c},promise:e})};function s(){return{type:r.g,payload:{}}}function a(e){return{type:r.d,payload:{status:e?c.a.CONNECTED:c.a.DISCONNECTED}}}function u(e){let{waitTime:t,reason:n}=e;return{type:r.i,payload:{waitTime:t,reason:n}}}function l(){return{type:r.l,payload:{}}}function o(e){return{type:r.f,payload:e}}function d(){return{type:r.e,payload:{}}}function _(){return{type:r.h,payload:{}}}},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return _}));var r=n(191),c=n.n(r),i=n(213),s=n.n(i),a=n(847),u=n.n(a),l=n(192);const o={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},d=c.a.createContext({notification:void 0,setNotification:s.a}),_=e=>{const[t,n]=Object(r.useState)(void 0),c=u()(),i=Object(r.useCallback)((e=>{c()&&n(e)}),[c]),s=Object(r.useMemo)((()=>({notification:t,setNotification:i})),[t,i]);return Object(l.jsx)(d.Provider,{value:s},e.children)};t.c=d},314:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return h}));var r=n(276),c=n.n(r),i=n(49),s=n.n(i),a=n(33),u=n.n(a),l=n(48),o=n.n(l),d=n(223),_=n(315);const O=(e,t)=>{const n=d.a.getField(e);if(n)return n===t;let r=!1;return s()(d.a.getFilters(e),(e=>!O(e,t)||(r=!0,!1))),r},b=e=>!!e&&!!e.match(/PROFILE\.(\w+)/),f=e=>b(e)?e.match(/PROFILE\.(\w+)/)[1]:"",E=e=>{let{currentValueMap:t,filter:n}=e;const r=d.a.getField(n);return r&&b(r)?t[_.a.PROFILE_CUSTOM_FIELD](n):u()(t[r])?t[r](n):t[r]},h=(e,t)=>{var n,r,i,s;if(!e)return;const a=null!==(r=null===(n=null===e||void 0===e?void 0:e.details)||void 0===n?void 0:n.id)&&void 0!==r?r:c()(),u=t&&-1===a.toString().indexOf("_")?`${t}_${a}`:a;return(null===e||void 0===e?void 0:e.filters)?Object.assign(Object.assign({},e),{details:Object.assign(Object.assign({},null!==(s=null===e||void 0===e?void 0:e.details)&&void 0!==s?s:{}),{id:u}),filters:o()(null===e||void 0===e?void 0:e.filters,(e=>h(e,t)))}):Object.assign(Object.assign({},e),{details:Object.assign(Object.assign({},null!==(i=null===e||void 0===e?void 0:e.details)&&void 0!==i?i:{}),{id:u})})}},315:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",WORK_QUEUE_WAIT_TIME:"WORK_QUEUE_WAIT_TIME",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",DOES_CONVERSATION_EXIST:"DOES_CONVERSATION_EXIST",USER_IP_DETAILS_COUNTRY_LONG:"userIPDetails.countryLong",USER_IP_DETAILS_COUNTRY_SHORT:"userIPDetails.countryShort",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},329:function(e,t,n){"use strict";var r=n(191),c=n(297);t.a=function(){return Object(r.useContext)(c.c)}},340:function(e,t,n){"use strict";var r=n(191),c=n(197),i=n(219),s=n(212),a=n(204),u=n(239);const l=e=>Object(s.w)(Object(a.c)(e));t.a=()=>{const e=Object(c.c)(),t=(Object(i.a)(),Object(c.d)(l)),n=t.loaded;return Object(r.useEffect)((()=>{n||e(Object(u.g)())}),[]),t}},347:function(e,t,n){"use strict";var r=n(191),c=n(836),i=n(442),s=n(223);var a=()=>{const{subscribe:e,getValue:t}=Object(i.a)();return{subscribe:Object(r.useCallback)(((t,n)=>{const r=s.a.getId(t);return e(r,n)}),[e]),getValue:t}},u=n(1071),l=n(197),o=n(496),d=n.n(o),_=n(355),O=n.n(_),b=n(215),f=n.n(b),E=n(48),h=n.n(E),T=n(263),I=n.n(T),S=n(212),A=n(204),p=n(208),v=n(239),N=n(278);const C=e=>Object(S.v)(Object(S.q)(Object(A.c)(e))),R={fetchOpenConversationCount:v.j,initPusherConnection:N.e};var g=()=>{const e=Object(r.useRef)(),t=Object(r.useRef)({}),{fetchOpenConversationCount:n,initPusherConnection:c}=Object(p.a)(R),i=Object(l.d)(C);e.current=i;const a=d()(i);Object(r.useEffect)((()=>{I()(e.current)&&n()}),[]),O()((()=>{h()(t.current,(e=>{e()}))}),[e.current]),O()((()=>{I()(a)&&i&&c()}),[i,a,c]);return{subscribe:Object(r.useCallback)(((e,n)=>{const r=s.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=f()(t.current,r)}}),[]),getValue:Object(r.useCallback)((()=>e.current),[])}},j=n(340);var L=()=>{const e=Object(r.useRef)(),t=Object(r.useRef)({}),n=Object(j.a)().ids.length;e.current=n,O()((()=>{h()(t.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(r.useCallback)(((e,n)=>{const r=s.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=f()(t.current,r)}}),[]),getValue:Object(r.useCallback)((()=>e.current),[])}},P=n(8),m=n.n(P),y=n(371),F=n(351);var U=()=>{const e=Object(r.useRef)(0),t=Object(y.a)();e.current=F.a.getTimeToAvailability(t);const n=Object(r.useRef)({}),c=Object(r.useCallback)((()=>e.current),[]);return{subscribe:Object(r.useCallback)(((t,r)=>{const c=s.a.getId(t),i=m()(t,"details.timeToBusinessHours");let a,u=-1;return!I()(i)&&i>0?u=i:!I()(e.current)&&e.current>0&&(u=e.current),u>=0&&(a=window.setTimeout(r,u)),n.current={...n.current,[c]:a},()=>{clearTimeout(m()(n.current,`${c}.timeoutId`)),n.current=f()(n.current,c)}}),[]),getValue:c}},D=n(294);var V=()=>{const{device:e}=Object(D.a)(),t=Object(r.useRef)({}),n=Object(r.useRef)(e);n.current=e,O()((()=>{h()(t.current,(e=>{e()}))}),[n.current]);const c=Object(r.useCallback)(((e,n)=>{const r=s.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=f()(t.current,r)}}),[]);return{getValue:Object(r.useCallback)((()=>n.current),[]),subscribe:c}},M=n(315);const w={[M.a.USER_IP_DETAILS_CITY]:"city",[M.a.USER_IP_DETAILS_COUNTRY_LONG]:"countryLong",[M.a.USER_IP_DETAILS_COUNTRY_SHORT]:"countryShort",[M.a.USER_IP_DETAILS_REGION]:"region"};var k=()=>{const e=Object(r.useRef)(),t=Object(y.a)();e.current=F.a.getUserIPDetails(t);const n=Object(r.useRef)({});O()((()=>{h()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(r.useCallback)(((e,t)=>{const r=s.a.getId(e);return n.current={...n.current,[r]:t},()=>{n.current=f()(n.current,r)}}),[]),getValue:Object(r.useCallback)((()=>t=>{var n;const r=s.a.getField(t);return null===(n=e.current)||void 0===n?void 0:n[w[r]]}),[])}},B=n(314),G=n(1),x=n(0);var K=()=>{const e=Object(G.a)(),t=Object(r.useRef)(e.userContext),n=Object(r.useRef)({}),c=Object(r.useCallback)((e=>{t.current=e,h()(n.current,(e=>{e()}))}),[]);Object(r.useEffect)((()=>(Object(x.T)("userContext",c),()=>{Object(x.U)("userContext",c)})),[]);return{subscribe:Object(r.useCallback)(((e,t)=>{const r=e.id;return n.current={...n.current,[r]:t},()=>{n.current=f()(n.current,r)}}),[]),getValue:Object(r.useCallback)((()=>e=>{var n,r;const c=e.field,i=Object(B.b)(c);return null===(n=t.current)||void 0===n||null===(r=n[i])||void 0===r?void 0:r[0]}),[])}},Y=n(839),H=n(841),W=n(213),$=n.n(W),X=n(51),Q=n.n(X),z=n(255),q=n(842);const Z=new class{constructor(){this.subscribers={},this.filterPoller=void 0,this.visibilitychangeHandler=()=>{var e;if(document.hidden)null===(e=this.filterPoller)||void 0===e||e.stop();else if(Object.keys(this.subscribers).length>0){var t;null===(t=this.filterPoller)||void 0===t||t.start()}},this.startPolling=()=>{var e;window.document.addEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.start()},this.stopPolling=()=>{var e;window.document.removeEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.stop()},this.subscribe=(e,t)=>{const n=e.id;return this.subscribers[n]={cb:t,filter:{field:e.field,filterType:e.filterType,details:e.details}},1===Object.keys(this.subscribers).length&&this.startPolling(),()=>{delete this.subscribers[n],0===Object.keys(this.subscribers).length&&this.stopPolling()}},this.subscribers={};this.filterPoller=new q.a((async()=>{try{const{data:e}=await z.a.post("livechat/conversation/process-filters",{filterDetails:Object.keys(this.subscribers).reduce(((e,t)=>(e.push({id:t,filter:this.subscribers[t].filter}),e)),[])},{headers:{"x-chat-auto":!0}});Object.keys(e).forEach((t=>{this.subscribers[t].cb(e[t])}))}catch(e){}}),{pollInterval:15e3})}};var J=Object.freeze(Z),ee=n(251),te=n(843);const ne=(()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n}}})(),re="AVAILABLE_AGENTS",ce="AGENT_OUT_OF_CAPACITY",ie="WORK_QUEUE_WAIT_TIME",se={[re]:e=>{const t=F.a.getNoOfAgentsAvailable(e);return e=>{var n,r;return null!==(n=null===(r=e.details)||void 0===r?void 0:r.noOfAgentsAvailable)&&void 0!==n?n:t}},[ce]:e=>{const t=F.a.getNumberOfPendingCases(e);return e=>{var n,r;return null!==(n=null===(r=e.details)||void 0===r?void 0:r.numberOfPendingCases)&&void 0!==n?n:t}},[ie]:e=>{const t=F.a.getWorkQueueWaitTime(e);return e=>{var n,r;return null!==(n=null===(r=e.details)||void 0===r?void 0:r.estimatedWaitTimeForWorkQueue)&&void 0!==n?n:t}}};var ae=e=>{const t=Object(y.a)(),n=se[e];return(e=>{var t,n;const c=null===(t=Object(ee.a)())||void 0===t||null===(n=t.filterPoll)||void 0===n?void 0:n.enable;return Object(te.a)({callback:()=>{J.stopPolling()}}),{getValue:Object(r.useCallback)((()=>e=>ne.get(e.id)),[]),subscribe:Object(r.useCallback)(((t,n)=>{Q()(ne.get(t.id))&&ne.set(t.id,e(t));const r=c?J.subscribe(t,(r=>{const c=e({details:r});ne.get(t.id)!==c&&(ne.set(t.id,c),n())})):$.a;return()=>{r()}}),[c])}})(Object(r.useMemo)((()=>n(t)),[t]))},ue=n(50);var le=()=>{const{getValue:e,subscribe:t}=a(),{getValue:n,subscribe:c}=Object(u.a)(),{getValue:i,subscribe:l}=g(),{getValue:o,subscribe:d}=L(),{getValue:_,subscribe:O}=U(),{getValue:b,subscribe:f}=ae(re),{getValue:E,subscribe:h}=ae(ie),{getValue:T,subscribe:I}=ae(ce),{getValue:S,subscribe:A}=V(),{getValue:p,subscribe:v}=k(),{getValue:N,subscribe:C}=K(),{getValue:R,subscribe:j}=Object(Y.a)(),{getValue:P,subscribe:m}=Object(H.a)();return{getValue:Object(r.useCallback)((()=>({[M.a.CURRENT_URL]:e(),[M.a.TOTAL_TIME_SPENT]:n(),[M.a.IS_CONVERSATION_OPEN]:i(),[M.a.DOES_CONVERSATION_EXIST]:o(),[M.a.AVAILABLE_AGENTS]:b(),[M.a.WORK_QUEUE_WAIT_TIME]:E(),[M.a.AGENT_OUT_OF_CAPACITY]:T(),[M.a.BUSINESS_HOURS]:_(),[M.a.DEVICE_TYPE]:S(),[M.a.USER_IP_DETAILS_CITY]:p(),[M.a.USER_IP_DETAILS_COUNTRY_LONG]:p(),[M.a.USER_IP_DETAILS_COUNTRY_SHORT]:p(),[M.a.USER_IP_DETAILS_REGION]:p(),[M.a.USER_AGENT]:Object(ue.f)(),[M.a.PROFILE_CUSTOM_FIELD]:N(),[M.a.VERTICAL_PAGE_SCROLL_DEPTH]:R(),[M.a.HORIZONTAL_PAGE_SCROLL_DEPTH]:P()})),[e,n,i,o,_,b,E,T,S,p,N,R,P]),subscribe:Object(r.useCallback)(((e,n)=>{if(Object(B.e)(s.a.getField(e)))return C(e,n);switch(s.a.getField(e)){case M.a.TOTAL_TIME_SPENT:return c(e,n);case M.a.CURRENT_URL:return t(e,n);case M.a.IS_CONVERSATION_OPEN:return l(e,n);case M.a.DOES_CONVERSATION_EXIST:return d(e,n);case M.a.AVAILABLE_AGENTS:return f(e,n);case M.a.WORK_QUEUE_WAIT_TIME:return h(e,n);case M.a.AGENT_OUT_OF_CAPACITY:return I(e,n);case M.a.BUSINESS_HOURS:return O(e,n);case M.a.DEVICE_TYPE:return A(e,n);case M.a.USER_IP_DETAILS_CITY:case M.a.USER_IP_DETAILS_COUNTRY_LONG:case M.a.USER_IP_DETAILS_COUNTRY_SHORT:case M.a.USER_IP_DETAILS_REGION:return v(e,n);case M.a.VERTICAL_PAGE_SCROLL_DEPTH:return j(e,n);case M.a.HORIZONTAL_PAGE_SCROLL_DEPTH:return m(e,n);default:return null}}),[t,c,l,d,O,f,h,I,A,v,C,j,m])}},oe=n(220);t.a=(e,t)=>{const{getValue:n,subscribe:i}=le(),s=Object(r.useCallback)((()=>{var e,r;return{...null!==(e=null===t||void 0===t||null===(r=t._getStaticValueMap)||void 0===r?void 0:r.call(t))&&void 0!==e?e:oe.a,...n()}}),[n,null===t||void 0===t?void 0:t._getStaticValueMap]);return Object(c.a)(e,{...t,getValue:s,subscribe:i})}},352:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={INCORRECT_PAYLOAD:"INCORRECT_PAYLOAD",NETWORK_FAILURE:"NETWORK_FAILURE",CHAT_UNAVAILABLE:"CHAT_UNAVAILABLE"}},369:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));const r=new(n(1060).a)({middlewares:[],getContext:()=>Promise.resolve({})}),c=e=>{r.clone(e)};t.a=r},372:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return _}));const r="CALLBACK_ACTION",c="ACTION_START",i="ACTION_STOP",s="MSG_PUBLISHED",a="PROGRESS_PUBLISHED",u="MSG_PUBLISH",l="EVENT_PUBLISH",o="PROGRESS_PUBLISH",d="SESSION_PROCESS_START",_="SESSION_PROCESS_STOP"},386:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},412:function(e,t,n){var r=n(1199),c=n(60),i=n(1200);e.exports=function(e){return c(e)?i(e):r(e)}},413:function(e,t,n){"use strict";t.a={POST_BACK:"POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",CLIENT_ONLY:"CLIENT_ONLY",RUN_GW:"RUN_GW",DIAL:"DIAL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",NEW_CONVERSATION:"NEW_CONVERSATION"}},414:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0);function c(){return Object(r.z)()}},415:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return _}));var r=n(241),c=n(369),i=n(370),s=n.n(i);const a="/livechat/conversation";function u(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return(yield c.a.post(`${a}/chatUsers`,e)).data}))}const l=e=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){return yield c.a.post(`${a}/chatUser`,s()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale","customUser"]))}));function o(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:r=0}=e;return(yield c.a.post(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${r}`)).data}))}function d(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:r=0,roleIds:i=[]}=e;return(yield c.a.post("/livechat/user/spy/search-users",{query:t,size:n,pageNum:r,roleIds:i})).data}))}function _(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return(yield c.a.get(`/livechat/user/fetch/${e}`)).data}))}},453:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return N}));var r=n(49),c=n.n(r),i=n(233),s=n.n(i),a=n(413),u=n(214),l=n(497),o=n(372);const d=e=>t=>t.type===e,_=e=>t=>t.id===e,O=(e,t)=>s()(e,t),b=(e,t)=>O(e.buttons,t),f=(e,t)=>b(t,_(e)),E=(e,t)=>{const n=e.cardAttachmentList;let r;return c()(n,(e=>{const n=b(e,t);if(n)return r=n,!1})),r},h=(e,t)=>E(t,_(e)),T={[a.a.POST_BACK]:(e,t)=>{const n=e;return n.makeExternalCall?[o.c,n.postBackHandlerType]:[n.postBackHandlerType]},[a.a.EXTERNAL]:(e,t)=>{const n=t.attachment;if(n.type===u.c.PROGRESS_BAR){return["CANCEL"===t.actionId?o.b:o.a]}return n.type===u.c.FORM?[l.a.FORM_POST_BACK,o.a]:[l.a.TEXT_POST_BACK,o.a]},[a.a.CLIENT_ONLY]:(e,t)=>t.attachment.type===u.c.VIDEO_CHAT?[t.actionId]:t.attachment.type===u.c.APPOINTMENT?"FETCH_SLOTS"===t.values.type?[l.a.FETCH_APPOINTMENT_TIME_SLOTS]:"RESERVE_SLOT"===t.values.type?[l.a.RESERVE_APPOINTMENT_TIME_SLOT]:[l.a.APPOINTMENT_POST_BACK]:[],[a.a.OPEN_URL]:(e,t)=>t.attachment.type===u.c.CO_BROWSE_INVITE?[l.a.OPEN_AGENT_PRESENT_URL]:[l.a.OPEN_URL]},I={[u.c.CONTACT_DETAILS_FORM]:(e,t)=>t.submit,[u.c.FORM]:(e,t)=>t.submit,[u.c.SECURE_FORM]:(e,t)=>t.submit,[u.c.FEEDBACK_FORM]:(e,t)=>t.submit,[u.c.PROGRESS_BAR]:(e,t)=>{const n=t;return{id:"",title:"",type:a.a.EXTERNAL,params:n.action}},[u.c.PERSISTENT_MENU]:(e,t)=>b(t,_(e)),[u.c.CARD]:(e,t)=>b(t,_(e)),[u.c.RICH_TEXT_CAROUSEL]:h,[u.c.PRODUCT_CARD]:(e,t)=>b(t,_(e)),[u.c.PRODUCT_SHOWCASE_CARD]:(e,t)=>b(t,_(e)),[u.c.INFO_CARD]:(e,t)=>b(t,_(e)),[u.c.PRODUCT_BANNER]:(e,t)=>((e,t)=>{if(e.buttons){const n=O(e.buttons,t);if(n)return n}return E(e,t)})(t,_(e)),[u.c.PRODUCT_LIST]:(e,t)=>b(t,_(e)),[u.c.CO_BROWSE_INVITE]:(e,t)=>b(t,_(e)),[u.c.QUICK_SELECT_CARD]:f,[u.c.QUICK_SELECT_PILLS]:f,[u.c.CAROUSEL]:h,[u.c.APPOINTMENT]:()=>({type:a.a.CLIENT_ONLY,id:"",title:""}),[u.c.VIDEO_CHAT]:()=>({type:a.a.CLIENT_ONLY,title:"",id:""}),[u.c.SURVEY]:(e,t)=>t.surveyButton,[u.c.SURVEY_QUESTION]:(e,t)=>b(t,_(e))};function S(e,t){const n=I[t.type];if(n)return n(e,t)}function A(e){const t=S(e.actionId,e.attachment);if(t)return((e,t)=>{const n=T[e.type];return n?n(e,t):[e.type]})(t,e)}const p=e=>{switch(e.type){case u.c.CARD:return!!b(e,d(a.a.EXTERNAL));case u.c.CAROUSEL:return!!E(e,d(a.a.EXTERNAL));case u.c.FORM:return e.submit.type===a.a.EXTERNAL;default:return!1}},v={[u.c.SECURE_FORM]:e=>e.values.originalData},N=e=>{const t=v[e.attachment.type];if(t)return t(e)}},457:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e&&e[t];const n=t(e,"fullName"),r=t(e,"firstName"),c=t(e,"lastName");if(n)return n;const i=c?` ${c}`:"",s=r||"";return`${s}${i}`}},497:function(e,t,n){"use strict";t.a={TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",REJOIN_CALL:"REJOIN_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",FORM_POST_BACK:"FORM_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",FETCH_APPOINTMENT_TIME_SLOTS:"FETCH_APPOINTMENT_TIME_SLOTS",RESERVE_APPOINTMENT_TIME_SLOT:"RESERVE_APPOINTMENT_TIME_SLOT",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",SURVEY_QUESTION_POST_BACK:"SURVEY_QUESTION_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",OPEN_AGENT_PRESENT_URL:"OPEN_AGENT_PRESENT_URL",ACCOUNT_LINK:"ACCOUNT_LINK",DIAL:"DIAL",RUN_GW:"RUN_GW"}},499:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));const r=313,c=314,i=340,s=394},554:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return M}));var r=n(200),c=n(191),i=n.n(c),s=n(655),a=n.n(s),u=n(55),l=n.n(u),o=n(31),d=n.n(o),_=n(2),O=n.n(_),b=n(280),f=n.n(b),E=n(48),h=n.n(E),T=n(347),I=n(414),S=n(219),A=n(49),p=n.n(A),v=n(654),N=n.n(v),C=n(8),R=n.n(C),g=n(15),j=n.n(g),L=n(314);const P=e=>e?j()(e,((e,t,n)=>"filters"===n?(e[n]=h()(t,(e=>(null!==e&&void 0!==e&&e.filter&&(e.filter=Object(L.a)(e.filter)),e))),e):(e[n]=P(t),e)),e):e,m=(e,t)=>{const n=[];return p()(e,((e,r)=>{"filters"===r?p()(e,(e=>{let{filter:r,value:c}=e;d()(r)||d()(c)||n.push({field:r.field,filterType:r.fieldType||r.filterType,filters:r.filters,values:r.values,details:{...r.details,path:t,value:c}})})):n.push(...m(e,t?`${t}.${r}`:r))})),n};var y=n(617),F=n(1),U=n(192);const D=i.a.createContext(void 0),V=e=>{let{children:t}=e;const{otherConfigs:n,configFilters:r}=Object(S.a)(),i=!!n.theme.styleFilters,s=Object(c.useMemo)((()=>l()(n.theme,Object(F.a)().theme)),[Object(F.a)().theme]),u=Object(I.a)(),{appFilters:o,adaptedAppFilters:_}=Object(c.useMemo)((()=>{var e;const t=Object(y.b)({legacyStyleFilters:P(null===(e=n.theme)||void 0===e?void 0:e.styleFilters),configFilters:r,skin:u});return{appFilters:t,adaptedAppFilters:O()(t)?h()(t,(e=>e.filter)):m(t,"")}}),[u]),b=Object(T.a)(_),E=Object(c.useMemo)((()=>{const e=O()(o)?o:_,t=f()(e,((e,t)=>b[t].hasPassed));if(!d()(t)){if(i){const e=a()(n);return e.theme.styles=(e=>{let{styles:t,passedStyleFilters:n}=e;const r=a()(t);return p()(n,(e=>{e.details&&N()(r,e.details.path,{...R()(r,e.details.path),...e.details.value})})),r})({styles:s.styles,passedStyleFilters:t}),e}return(e=>{let{otherConfigs:t,passedFilters:n}=e;return n.reduce(((e,t)=>{let{value:n}=t;return l()(e,n)}),a()(t))})({otherConfigs:n,passedFilters:t})}return n}),[n,o,_,s,b]);return Object(U.jsx)(D.Provider,{value:E},t)},M=e=>function(t){return Object(U.jsx)(D.Consumer,null,(n=>Object(U.jsx)(e,Object(r.a)({},t,{customization:n}))))};t.c=D},555:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return ne})),n.d(t,"b",(function(){return te}));var r=n(200),c=n(191),i=n.n(c),s=n(197),a=n(194),u=n(15),l=n.n(u),o=n(8),d=n.n(o),_=n(373),O=n.n(_),b=n(233),f=n.n(b),E=n(213),h=n.n(E),T=n(263),I=n.n(T),S=n(208),A=n(219),p=n(206),v=n(329),N=n(1053),C=n(645),R=n(251),g=n(415),j=n(228),L=n(204),P=n(221),m=n(0),y=n(13),F=n(384),U=n(354),D=n(455),V=n(198),M=n(341),w=n.n(M),k=n(49),B=n.n(k),G=n(1),x=n(9),K=n(296);const Y=Object(D.a)(),H=e=>{let{locale:t,reactIntlLocale:n}=e;return n&&K.a[t].numberingSystem?n.concat("-u-nu-",K.a[t].numberingSystem):n};var W=n(297),$=n(310),X=n(352),Q=n(192);const z=Object(D.a)(),q=[$.f],Z=i.a.createContext({locale:z,language:Object(D.b)(z),defaultLocale:z,direction:K.b.LTR,localeDataLoading:!0,changeLocale:h.a}),J={onLocaleDataLoaded:P.d},ee=e=>f()(((e,t)=>O()(l()(t,((t,n)=>{const r=d()(e,`${n}.actionsToShowByVariant`),c=Object(m.A)();return[...t,...c&&(d()(r,c)||d()(r,y.a))||F.a]}),[]),"type"))(e,["allScreens","homeScreen","conversationScreen"]),{type:U.a.CHANGE_LOCALE}),te=e=>{const t=Object(s.d)(L.h),n=Object(j.c)(t)||{},r=Object(A.a)(),i=Object(p.a)(),u=Object(R.a)(),l=(null===n||void 0===n?void 0:n.locale)||(e=>{const t=(null===e||void 0===e?void 0:e.defaultLocale)||Y,n=(null===e||void 0===e?void 0:e.supportedLocales)||[],r=Object(G.a)().locale,c=Object(x.a)(),i=[...n,t],s=r?[r,...c]:c;let a=t;return B()(s,(e=>w()(i,e)?(a=e,!1):w()(i,Object(D.b)(e))?(a=Object(D.b)(e),!1):null)),a})(r),[o,d]=Object(c.useState)({localeDataLoading:!0,localeData:void 0}),_=Object(c.useRef)(!1),{setNotification:O}=Object(v.a)(),{onLocaleDataLoaded:b}=Object(S.a)(J),f=r.defaultLocale||z,E=null===u||void 0===u?void 0:u.externalLocaleData,{errorNotificationMessage:h,successNotificationMessage:T}=ee(i)||{},P=Object(N.a)({externalLocaleData:E}),m=Object(c.useCallback)((async e=>{let{locale:t,shouldSyncWithBackend:r=!0,userInitiated:c=!0,promise:i}=e;c&&d((e=>({...e,localeDataLoading:!0})));try{const{localeData:e}=await P(t);if(r){if((await Object(g.e)({...n,locale:t})).data.locale===n.locale)throw new Error(X.a.INCORRECT_PAYLOAD);c&&T&&O({message:T,type:W.a.SUCCESS})}b({locale:t,data:e.messages}),e&&d((t=>({...t,localeData:e}))),null===i||void 0===i||i.resolve({locale:t})}catch(s){r&&c&&h&&O({message:h,type:W.a.FAILURE}),null===i||void 0===i||i.reject(s.message===X.a.INCORRECT_PAYLOAD?X.a.INCORRECT_PAYLOAD:X.a.NETWORK_FAILURE),Object(V.b)(s)}d((e=>({...e,localeDataLoading:!1})))}),[P,b,T,h,n]),y=Object(c.useCallback)((e=>{const{payload:{locale:t},promise:n}=e;m({locale:t,userInitiated:!1,promise:n})}),[m]);Object(C.a)(q,y),_.current||(_.current=!0,m({locale:l,shouldSyncWithBackend:!1}));const F=Object(c.useMemo)((()=>{var e;const{language:t,direction:n}=Object(N.b)(l);return{...null!==(e=o.localeData)&&void 0!==e?e:{},defaultLocale:f,locale:l,language:t,direction:n,localeDataLoading:o.localeDataLoading,changeLocale:m}}),[f,l,m,o]);return I()(o.localeData)?null:Object(Q.jsx)(Z.Provider,{value:F},Object(Q.jsx)(a.e,{defaultLocale:f,locale:H({locale:F.locale,reactIntlLocale:F.reactIntlLocale}),messages:F.messages},e.children))},ne=e=>function(t){return Object(Q.jsx)(Z.Consumer,null,(n=>Object(Q.jsx)(e,Object(r.a)({},t,{intlContext:n}))))};Z.Consumer},658:function(e,t,n){var r=n(108),c=n(102),i=n(80),s=4294967295,a=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>9007199254740991)return[];var n=s,u=a(e,s);t=c(t),e-=s;for(var l=r(u,t);++n<e;)t(n);return l}},659:function(e,t,n){var r=n(65),c=n(58),i=n(10),s=n(234),a=n(412);e.exports=function(e){if(null==e)return 0;if(i(e))return s(e)?a(e):e.length;var t=c(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},660:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(191),c=n.n(r),i=n(262),s=n.n(i),a=n(267),u=n.n(a),l=n(659),o=n.n(l),d=n(442),_=n(192);const O=c.a.createContext({}),b=Object(r.memo)((e=>{const{getValue:t,subscribe:n}=Object(d.a)(),c=t(),[i,a]=Object(r.useState)((()=>({pagesMetaData:{[c]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:c})));return Object(r.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;a((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:r}=e;const c=Date.now(),i=t.pagesMetaData,a=u()(s()(i[n]),{endTime:{$set:c}});return u()(t,{pagesMetaData:{[n]:{$splice:[[o()(i[n])-1,1,a]]},[r]:{$set:[...i[r]||[],{startTime:c,endTime:void 0}]}},currentPageUrl:{$set:r}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(_.jsx)(O.Provider,{value:i},e.children)}));t.b=O},674:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}n.d(t,"a",(function(){return r}))},836:function(e,t,n){"use strict";var r=n(191),c=n(837),i=n.n(c),s=n(2),a=n.n(s),u=n(31),l=n.n(u),o=n(48),d=n.n(o),_=n(285),O=n.n(_),b=n(658),f=n.n(b),E=n(659),h=n.n(E),T=n(110),I=n.n(T),S=n(51),A=n.n(S),p=n(49),v=n.n(p),N=n(66),C=n.n(N),R=n(223),g=n(1046),j=n(253);t.a=(e,t)=>{const n=Object(r.useRef)(!1);n.current=a()(e);const{getValue:c,defaultValue:s=!0,logOnFailure:u=!1,logOnSuccess:o=!1,subscribe:_}=t,b=Object(r.useRef)({}),E=Object(r.useRef)();E.current=Object(r.useMemo)((()=>new Set(d()(O()(e),(e=>{var t;return null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.id})))),[e]);const[T,S]=Object(r.useState)(0),p=Object(r.useRef)([void 0]),N=Object(r.useRef)(null);Object(r.useEffect)((()=>()=>{N.current&&d()(N.current,(e=>e&&e.clear()))}),[]),N.current=Object(r.useMemo)((()=>(b.current&&v()(b.current,((e,t)=>{var n;let{filterAction:r}=e;null!==(n=E.current)&&void 0!==n&&n.has(t)||(null===r||void 0===r||r.clear(),delete b.current[t])})),l()(e)?null:(p.current=n.current?f()(h()(e),I()(void 0)):[],d()(O()(e),((e,t)=>{var n,r;if(A()(e))return null;if(b.current[null===(n=e.details)||void 0===n?void 0:n.id]){var c;const{filterAction:t,filter:n}=b.current[null===(c=e.details)||void 0===c?void 0:c.id];if(C()(n,e))return t;var s;null===t||void 0===t||t.clear(),delete b.current[null===(s=e.details)||void 0===s?void 0:s.id]}const a=e=>{p.current[t]=R.a.getField(e),S((e=>e+1))},u=g.a.createFilterAction(e,{subscribe:(e,t)=>_(e,i()(a,e),t),getFilterBuilder:g.a.createFilterAction});return null!==(r=e.details)&&void 0!==r&&r.id&&(b.current[e.details.id]={filterAction:u,filter:e}),u}))))),[e,_]);const L=Object(r.useMemo)((()=>N.current?d()(N.current,((e,t)=>e?(Object(j.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(c(),{logOnFailure:u,logOnSuccess:o})):!!s)):[!!s]),[e,c,s,T]);return Object(r.useMemo)((()=>n.current?d()(L,((e,t)=>({hasPassed:e,changeSource:p.current[t]}))):{hasPassed:!!L[0],changeSource:p.current[0]}),[L,p.current])}},837:function(e,t,n){var r=n(86),c=n(820),i=n(653),s=n(573),a=r((function(e,t){var n=s(t,i(a));return c(e,32,void 0,t,n)}));a.placeholder={},e.exports=a},838:function(e,t,n){"use strict";var r=n(51),c=n.n(r);const i=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");t.a=(e,t)=>{if(c()(t))return!1;try{return new RegExp(`^${e.split(/\*+/).map(i).join(".*")}$`).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(191),c=n(48),i=n.n(c),s=n(215),a=n.n(s),u=n(355),l=n.n(u),o=n(840),d=n(223);const _=()=>{const e=Object(o.b)(o.a.VERTICAL),t=Object(r.useRef)({}),n=Object(r.useRef)(e);n.current=e,l()((()=>{i()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const c=Object(r.useCallback)(((e,n)=>{const r=d.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=a()(t.current,r)}}),[]);return{getValue:Object(r.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:c}}},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(191),c=n(287),i=n.n(c),s=n(213),a=n.n(s),u=n(9);const l={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},o=e=>{let{clientWindow:t,scrollDirection:n}=e;const r=t.document;let c,i;if(n===l.HORIZONTAL){const e=r.documentElement.scrollWidth;c=r.documentElement.scrollLeft+r.documentElement.clientWidth,i=e?Math.round(c/e*100):100}else{const e=r.documentElement.scrollHeight;c=r.documentElement.scrollTop+r.documentElement.clientHeight,i=e?Math.round(c/e*100):100}return{scrollDepth:c,scrollPercent:i}},d=e=>{const t=Object(u.b)(),[n,c]=Object(r.useState)((()=>(e=>{let{clientWindow:t,scrollDirection:n}=e;return Object(u.c)(t)?o({clientWindow:t,scrollDirection:n}):{scrollDepth:0,scrollPercent:0}})({clientWindow:t,scrollDirection:e})));return Object(r.useEffect)((()=>{if(Object(u.c)(t)){const n=i()((()=>{const n=o({clientWindow:t,scrollDirection:e});c(n)}),1e3);return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}return a.a}),[]),n}},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(191),c=n(48),i=n.n(c),s=n(215),a=n.n(s),u=n(355),l=n.n(u),o=n(840),d=n(223);const _=()=>{const e=Object(o.b)(o.a.HORIZONTAL),t=Object(r.useRef)({}),n=Object(r.useRef)(e);n.current=e,l()((()=>{i()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const c=Object(r.useCallback)(((e,n)=>{const r=d.a.getId(e);return t.current={...t.current,[r]:n},()=>{t.current=a()(t.current,r)}}),[]);return{getValue:Object(r.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:c}}},842:function(e,t,n){"use strict";t.a=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval+=this.baseInterval),this.poll()}))}),this.interval))},this.start=()=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}}},843:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(844);const c=/^\/logout$/,i=e=>{let{searchParams:t,callback:n}=e;Object(r.a)({route:c,searchParams:t,callback:n})}},844:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(191),c=n(252),i=n(326);const s=e=>{let{route:t,searchParams:n,callback:s}=e;const a=Object(c.a)(),u=Object(i.a)(s);Object(r.useEffect)((()=>{const e=a.listen((e=>{!t.test(e.pathname)||n&&!e.search.includes(n)||u.current()}));return()=>{e()}}),[])}},845:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n(191),c=n.n(r),i=n(192);const s=c.a.createContext(void 0),a=Object(r.memo)((e=>{let{children:t,history:n}=e;const[c,a]=Object(r.useState)(n);return Object(r.useEffect)((()=>{const e=n.listen((()=>{a({...n})}));return()=>e()}),[]),Object(i.jsx)(s.Provider,{value:c},t)}))},847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(191);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}}}]);