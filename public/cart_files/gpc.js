!function(){"use strict";const e="groups="+encodeURIComponent("C0001:0,C0002:0,C0003:0,C0004:1,C0005:0"),t="OptOutOnRequest",o=36525,s="HDPrivacyOptOut",n=e=>{const t=e.getTimezoneOffset(),o=-t>=0?"+":"-";const s=function(e){const t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate())+"T"+s(e.getHours())+":"+s(e.getMinutes())+":"+s(e.getSeconds())+o+s(t/60)+":"+s(t%60)};function r(t=""){return"datetimestamp="+encodeURIComponent(n(new Date(Date.now())))+"&"+e+function(e=""){return e?"; domain="+e:""}(t)}function u(e,s){e(t,r(s),o)}const i={api:"/customer/gpc/v1/preference",call:e=>fetch(i.api,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})},c={key:"gpc",getGPC:()=>{try{return JSON.parse(window.localStorage.getItem(c.key))}catch(e){return null}},setGPC:e=>{try{window.localStorage.setItem(c.key,JSON.stringify(e))}catch(e){}}},a={setCustomer:()=>{a.Customer.isLoggedIn=window.THDCustomer.default.isLoggedIn||!1,a.Customer.svocID=window.THDCustomer.default.svocID||"",a.Customer.mcvisID=window.THDCustomer.default.mcvisID||window.THDCustomer.default.guestUserID||"",a.Customer.userID=window.THDCustomer.default.userID||""},Customer:{},forStorage:e=>{const t=e||{loggedAsGuest:"",userIDs:[]};return t.loggedAsGuest=!a.Customer.isLoggedIn,a.Customer.isLoggedIn&&-1===t.userIDs.indexOf(a.Customer.userID)&&t.userIDs.push(a.Customer.userID),t},forAPI:()=>({mcvisId:a.Customer.mcvisID,svocId:a.Customer.svocID,userId:a.Customer.userID})};var l;if(window.localStorage.getItem(s)&&function(e,t=""){u(e),u(e,function(e=""){let t=e,o=e.split("."),s=o.length;return s>1&&(t=o[s-2]+"."+o[s-1]),t}(t))}(cookieUtils.fed_CreateCookie,window.location.hostname),l=t,document.cookie.split(";").filter((e=>e.includes(l+"="))).length&&"undefined"!=typeof localStorage&&!window.localStorage.getItem(s)&&localStorage.setItem(s,"On"),window.navigator&&window.navigator.globalPrivacyControl){window.THDCustomer&&window.THDCustomer.default&&a.setCustomer();const e=c.getGPC();(!e||a.Customer.isLoggedIn&&!e.userIDs.includes(a.Customer.userID))&&i.call(a.forAPI()).then((t=>{t.ok&&c.setGPC(a.forStorage(e))})).catch((e=>console.log("GPC Request Failed: ",e)))}}();
//# sourceMappingURL=gpc.js.map
