((self||this)["webpackJsonp@sprinklrjs/chat-web-client"]=(self||this)["webpackJsonp@sprinklrjs/chat-web-client"]||[]).push([[92],{1061:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(191),o=n.n(a),i=n(31),r=n.n(i),c=n(49),s=n.n(c),d=n(325),l=n.n(d),u=n(213),b=n.n(u),p=n(197),f=n(271),y=n(245);var O=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId,page:e.page,appId:e.appId}};Object(f.a)({topic:y.e,payload:{data:t}})},v=n(255),g=n(264),h=n(198);const j=new Set([g.a.AGENT_ASSIGNED.id,g.a.VIDEO_CALL_OUTGOING_STARTING.id,g.a.AUDIO_CALL_OUTGOING_STARTING.id,g.a.CALL_ENDED.id,g.a.CALL_MISSED.id,g.a.CALL_DECLINED.id,g.a.CALL_FAILED.id,g.a.CALL_PAGE_MAXIMISED.id,g.a.CALL_PAGE_MINIMISED.id,g.a.ATTACHMENT_BUTTON_CLICKED.id,g.a.SEND_BUTTON_CLICKED.id,g.a.SESSION_ACTIVE.id]);var m=()=>async e=>{if(j.has(e.action.id))return;const t={page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT",sourceSubType:e.sourceSubType,...e.additional};try{await v.a.post("/livechat/prompt/browse/event",t)}catch(n){Object(h.b)(n)}},I=n(294),C=n(251),E=n(208),T=n(278),x=n(207),S=n(327),_=n(1),A=n(0),w=n(552),M=n(406),R=n(192);const P=o.a.createContext(b.a);let N=[];const D=e=>Object(S.c)(Object(x.e)(e)),L=e=>{const t=Object(I.a)(),o=Object(C.a)(),i=Object(a.useRef)(N),[c,d]=Object(a.useState)(!r()(i.current)),u=Object(E.a)(T.c),b=Object(E.a)(T.b),f=Object(p.d)(D),y=Object(A.S)(),v=null===o||void 0===o?void 0:o.sendSessionActiveEvent;return Object(a.useEffect)((()=>{if(c&&f.length){const e={...f[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone,appId:Object(_.a)().appId};((e,t)=>{Object(w.c)((()=>{s()(e,(e=>{e(t)}))}))})(i.current,e),b()}}),[f,c]),Object(a.useEffect)((()=>{y||c||(e=>{var t,a,o,i;const r=[],c=null===e||void 0===e||null===(t=e.analyticsSettings)||void 0===t||null===(a=t.googleAnalytics)||void 0===a?void 0:a.trackerId,s=null===e||void 0===e||null===(o=e.analyticsSettings)||void 0===o||null===(i=o.sprinklrAnalytics)||void 0===i?void 0:i.enabled;return null!==c&&void 0!==c&&c.startsWith("UA-")?r.push(n.e(140).then(n.bind(null,1538)).then((e=>e.default.createTracker({trackerId:c},{canAccessParent:Object(A.Q)()}))).catch((()=>{}))):null!==c&&void 0!==c&&c.startsWith("G-")&&r.push(n.e(77).then(n.bind(null,1539)).then((e=>e.default.createTracker({trackerId:c},{canAccessParent:Object(A.Q)()}))).catch((()=>{}))),s&&r.push(m()),r.push(O()),Promise.all(r)})(o).then((e=>{i.current=l()(e),N=i.current,d(!0)}))}),[]),Object(a.useEffect)((()=>{let e;return v&&(e=M.d.on((e=>{if(e.type===M.e)u({label:g.a.SESSION_ACTIVE.label,action:g.a.SESSION_ACTIVE})}))),()=>{var t;return null===(t=e)||void 0===t?void 0:t()}}),[v]),Object(R.jsx)(P.Provider,{value:u},e.children)};t.b=o.a.memo(L)},1072:function(e,t,n){"use strict";var a=n(191),o=n.n(a),i=n(285),r=n.n(i),c=n(356),s=n(232),d=n(192);var l=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(a.useMemo)((()=>[...r()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),i=Object(s.a)(...n);return Object(d.jsx)(o.a.Fragment,null,e.children(i))};t.a=l},1073:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(213),o=n.n(a),i=n(866);const r=5;function c(e,t){return new Promise(((n,a)=>{setTimeout((()=>{e().then(n,a)}),t)}))}const s={},d=(e,t)=>{s[t]=e,e.catch(o.a).finally((()=>{delete s[t]}))};var l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{maxAttempts:n=r}=t;function a(e){return 1e3*(e?Math.pow(2,Math.min(e-1,n)):0)}function o(e,t){return c(e,a(t)).catch((a=>{if(t===n)throw a;return o(e,t+1)}))}const l=Object(i.a)(e.toString());if(l in s)return s[l];const u=o(e,0);return d(u,l),u};const u=()=>l((()=>n.e(46).then(n.bind(null,1505))),{maxAttempts:3})},1136:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1139:function(e,t,n){var a=n(491);e.exports=function(e,t){for(var n=-1,o=e.length;++n<o&&a(t,e[n],0)>-1;);return n}},1210:function(e,t,n){var a={"./classic/pages":[1427,14,105],"./modern/pages":[1426,14,106]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=1210,e.exports=o},1211:function(e,t,n){"use strict";var a=n(1212);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=a(n(1213));e.exports=t.default},1212:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1213:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1214:function(e,t,n){"use strict";function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))}},1215:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(243)),o=c(n(191)),i=c(n(293)),r=n(860);n(861);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var d="exited";t.EXITED=d;var l="entering";t.ENTERING=l;var u="entered";t.ENTERED=u;var b="exiting";t.EXITING=b;var p=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var o,i=n.transitionGroup,r=i&&!i.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?r?(o=d,a.appearStatus=l):o=u:o=t.unmountOnExit||t.mountOnEnter?s:d,a.state={status:o},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getChildContext=function(){return{transitionGroup:null}},a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:d}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==u&&(t=l):n!==l&&n!==u||(t=b)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:s})},r.performEnter=function(e,t){var n=this,a=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),r=o?i.appear:i.enter;t||a?(this.props.onEnter(e,o),this.safeSetState({status:l},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,r,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},r.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:b},(function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,(function(){t.safeSetState({status:d},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:d},(function(){t.props.onExited(e)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var a=null==t&&!this.props.addEndListener;e&&!a?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,a=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return n(e,a);var i=o.default.Children.only(n);return o.default.cloneElement(i,a)},a}(o.default.Component);function f(){}p.contextTypes={transitionGroup:a.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var y=(0,r.polyfill)(p);t.default=y},1216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(357),o=a.__importStar(n(191)),i=n(191),r=a.__importDefault(n(1217)),c=a.__importDefault(n(1218));t.default=function(e){return function(t){var n,s;s=o.isValidElement(t)?(n=t).props:t;var d=r.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),l=d[0],u=d[1],b=i.useRef(null),p=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},f=function(){return u({paused:!1})},y=function(){return u({paused:!0})},O=function(){var e=b.current;e&&u({muted:e.muted,volume:e.volume})},v=function(){var e=b.current;if(e){var t=e.duration,n=e.buffered;u({duration:t,buffered:c.default(n)})}},g=function(){var e=b.current;e&&u({time:e.currentTime})},h=function(){var e=b.current;e&&u({buffered:c.default(e.buffered)})};n=n?o.cloneElement(n,a.__assign(a.__assign({controls:!1},s),{ref:b,onPlay:p(s.onPlay,f),onPause:p(s.onPause,y),onVolumeChange:p(s.onVolumeChange,O),onDurationChange:p(s.onDurationChange,v),onTimeUpdate:p(s.onTimeUpdate,g),onProgress:p(s.onProgress,h)})):o.createElement(e,a.__assign(a.__assign({controls:!1},s),{ref:b,onPlay:p(s.onPlay,f),onPause:p(s.onPause,y),onVolumeChange:p(s.onVolumeChange,O),onDurationChange:p(s.onDurationChange,v),onTimeUpdate:p(s.onTimeUpdate,g),onProgress:p(s.onProgress,h)}));var j=!1,m={play:function(){var e=b.current;if(e&&!j){var t=e.play();if("object"===typeof t){j=!0;var n=function(){j=!1};t.then(n,n)}return t}},pause:function(){var e=b.current;if(e&&!j)return e.pause()},seek:function(e){var t=b.current;t&&void 0!==l.duration&&(e=Math.min(l.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=b.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,u({volume:e}))},mute:function(){var e=b.current;e&&(e.muted=!0)},unmute:function(){var e=b.current;e&&(e.muted=!1)}};return i.useEffect((function(){var e=b.current;e&&(u({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&m.play())}),[s.src]),[n,l,m,b]}}},1217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(191);t.default=function(e){void 0===e&&(e={});var t=a.useState(e),n=t[0],o=t[1];return[n,a.useCallback((function(e){o((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[o])]}},1218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1219:function(e,t,n){var a=n(491),o=n(80),i=Math.max;e.exports=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var c=null==n?0:o(n);return c<0&&(c=i(r+c,0)),a(e,t,c)}},1220:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1221:function(e,t,n){var a=n(1222),o=n(32),i=/[&<>"']/g,r=RegExp(i.source);e.exports=function(e){return(e=o(e))&&r.test(e)?e.replace(i,a):e}},1222:function(e,t,n){var a=n(500)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=a},1530:function(e,t,n){"use strict";var a=n(309),o=n(445),i=n(486),r=n(561),c=Number.isInteger||function(e){return e<<0===e},s=n(792),d=n(1179),l=Object(o.a)((function e(t,n,a){if(0===t.length)return n;var o=t[0];if(t.length>1){var l=!Object(d.a)(a)&&Object(i.a)(o,a)?a[o]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,l)}if(c(o)&&Object(r.a)(a)){var u=[].concat(a);return u[o]=n,u}return Object(s.a)(o,n,a)})),u=n(1062),b=n(791),p=Object(a.a)((function(e){return Object(u.a)(Object(b.a)(e),l(e))}));t.a=p},1534:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return C}));var a=n(638),o=n.n(a),i=n(565),r=n.n(i),c=n(8),s=n.n(c),d=n(31),l=n.n(d),u=n(1),b=n(0),p=n(805),f=n(747),y=n(642),O=n(275),v=n(809),g=n(308),h=n(292),j=n(810);var m=n(856),I=n(552);const C=()=>{if(function(){async function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Object(f.a)(p.a.getQueue(),e,...n)}const t=Object(u.e)();e.q=t?t.q:[],e.loaded=!0,Object(u.b)().sprChat=e}(),Object(b.P)()){const e=Object(b.z)();m.a.preload(e)}const e=Object(u.e)();p.a.addCmdToQueue(p.a.getQueue(),...e.q),async function(){const e=Object(u.a)();let t,a;try{if(l()(e))throw new Error;await Object(y.g)(e),await Object(y.h)({getSessionToken:()=>Object(h.a)(e.appId)});const[o,i]=await Object(y.a)(e);if("rejected"===o.status)throw new Error;if(t=o.value,"rejected"===i.status)throw i.reason;a=i.value,Object(j.a)(a,t),Object(y.c)(t),await Object(y.h)({applicationConfig:t,handshakeDetails:a}),t.hasPrompts&&n.e(52).then(n.bind(null,1502)).then((e=>{let{default:n}=e;n(t,a)})),(0,(await Promise.resolve().then(n.bind(null,746))).default)(null,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:y.f})}catch(o){const i=O.a.getUserSettings(e);Object(g.e)(o)&&i&&v.a.getOneTimeToken(i)?(0,(await Promise.resolve().then(n.bind(null,746))).default)(o,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:y.f}):await Object(y.e)()}}();const{meetingId:t,user:a,otp:i}=Object(u.a)(),c=s()(a,"oneTimeToken");l()(t)&&l()(c)&&l()(i)||e("open");const{autoTrigger:d}=Object(u.a)();let C;C=!0===d?0:o()(d)?1e3*Math.max(d,0):null,r()(C)||setTimeout((()=>{e("openNewConversation")}),C),Object(I.c)((()=>Promise.resolve().then(n.bind(null,746))))}},216:function(e,t,n){"use strict";var a=n(191),o=n(1061);t.a=function(){return Object(a.useContext)(o.a)}},217:function(e,t,n){"use strict";var a=n(194);t.a=Object(a.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"},messageDeleteDescription:{id:"messageDeleteDescription",defaultMessage:"This message was deleted"},confirmationDialog:{id:"confirmationDialog",defaultMessage:"Confirmation dialog"},close:{id:"close",defaultMessage:"Close"},openChat:{id:"openChat",defaultMessage:"Open chat"}})},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(191);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},245:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"j",(function(){return O}));const a="unreadCountChanged",o="externalEventTriggered",i="externalCallback",r="loaded",c="loadCompleted",s="closed",d="availabilityChanged",l="promptActionTriggered",u="mediaShown",b="mediaClosed",p="eventTriggered",f="registerDeviceTriggered",y="unregisterDeviceTriggered",O="onPermissionSeeked"},271:function(e,t,n){"use strict";var a=n(625);const o=new(n(631).a);o.on((e=>{const{topic:t,payload:n={},callback:o}=e;t&&Object(a.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request,shouldLogEvent:n.shouldLogEvent},callback:o})})),t.a=function(e){o.emit(e)}},273:function(e,t,n){"use strict";var a=n(191);const o={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,i]=Object(a.useState)();Object(a.useLayoutEffect)((()=>{const a=[];if(n){if(e.MutationObserver){const i=new e.MutationObserver(t);i.observe(n,o),a.push((()=>i.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),a.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));a.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},282:function(e,t,n){"use strict";var a=n(239);n.d(t,"a",(function(){return a.f})),n.d(t,"b",(function(){return a.g})),n.d(t,"c",(function(){return a.h})),n.d(t,"d",(function(){return a.l})),n.d(t,"e",(function(){return a.n})),n.d(t,"f",(function(){return a.o})),n.d(t,"g",(function(){return a.q})),n.d(t,"h",(function(){return a.r})),n.d(t,"i",(function(){return a.t})),n.d(t,"j",(function(){return a.u})),n.d(t,"k",(function(){return a.v})),n.d(t,"l",(function(){return a.w})),n.d(t,"m",(function(){return a.x})),n.d(t,"n",(function(){return a.y})),n.d(t,"o",(function(){return a.z})),n.d(t,"p",(function(){return a.A})),n.d(t,"q",(function(){return a.C})),n.d(t,"r",(function(){return a.D})),n.d(t,"s",(function(){return a.E})),n.d(t,"t",(function(){return a.F}));n(677)},286:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a=n(1536),o=n(1515),i=n(1431);const r=Object(a.a)("conversationScreen"),c=Object(a.a)("callScreen"),s=Object(a.a)("videoCall"),d=Object(a.a)("audioCall"),l=Object(a.a)("settings"),u=Object(a.a)("trigger"),b=Object(a.a)("proactivePrompt"),p=Object(a.a)("minimizeChatBoxOnCloseInPhone"),f=Object(a.a)("header"),y=Object(a.a)("label"),O=Object(a.a)("openInFullScreen"),v=Object(a.a)("label"),g=Object(a.a)("defaultHidden"),h=Object(a.a)("initiallyHidden"),j=Object(a.a)("hideWhenOpen"),m=Object(a.a)("canManuallyRemove"),I=Object(a.a)("invisibilityCriteria"),C=Object(a.a)("animation"),E=Object(a.a)("contactDetailsMessage"),T=Object(a.a)("maximumOpenConversations"),x=Object(a.a)("autoLoginSSOId"),S=Object(a.a)("hour12"),_=Object(a.a)("externalLocaleData"),A=Object(a.a)("homeScreen"),w=Object(a.a)("conversationCard"),M=Object(a.a)("hideWavingHandIcon"),R=Object(a.a)("shouldShow"),P=Object(a.a)("agents"),N=Object(a.a)("button"),D=Object(a.a)("enableIndividualMessageDismissal"),L=Object(a.a)("infoCard"),k=Object(a.a)("existingConversationCard"),U=Object(a.a)("showHeader");class G{}G.getDefaultMessages=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.lastMessage},G.getWaitTimeConfig=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.waitTimeConfig},G.getSurveyActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.surveyScreen)||void 0===t?void 0:t.actionsToShowByVariant},G.getActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionsToShowByVariant},G.getConversationActionOnPageCloseByScope=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionOnPageCloseByScope},G.shouldShowSenderNameInConversationScreen=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.showSenderName},G.getFooterActionsToShow=e=>{var t,n;return null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.actionsToShow},G.getActionOnPageCloseByScope=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.actionOnPageCloseByScope},G.getAnalyticsSettings=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.analyticsSettings},G.hour12Enabled=Object(o.a)(Object(i.a)(S),Object(i.a)(l)),G.conversationTagsEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.conversationTagsEnabled},G.showCaseNumberEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.showCaseNumber},G.isSprinklrAnalyticsEnabled=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.sprinklrAnalytics)||void 0===a?void 0:a.enabled},G.getGoogleTrackerId=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.googleAnalytics)||void 0===a?void 0:a.trackerId},G.getMaximumOpenConversations=Object(o.a)(Object(i.a)(T),Object(i.a)(l)),G.getDisableManualNewConversation=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.disableManualNewConversation},G.getUserPreferences=Object(i.a)(l),G.getContactDetailsMessage=Object(o.a)(Object(i.a)(E),Object(i.a)(r)),G.getTriggerConfig=Object(i.a)(u),G.getInvisibilityCriteriaOfTrigger=Object(o.a)(Object(i.a)(I),G.getTriggerConfig),G.getAnimationInfoOfTrigger=Object(o.a)(Object(i.a)(C),G.getTriggerConfig),G.getTriggerLabel=Object(o.a)(Object(i.a)(v),G.getTriggerConfig),G.isChatTriggerHidden=Object(o.a)(Object(i.a)(g),Object(i.a)(u)),G.isChatTriggerInitiallyHidden=Object(o.a)(Object(i.a)(h),Object(i.a)(u)),G.isTriggerHiddenWhenMaximised=Object(o.a)(Object(i.a)(j),Object(i.a)(u)),G.canTriggerBeManuallyRemoved=Object(o.a)(Object(i.a)(m),Object(i.a)(u)),G.getAutoLoginSSOId=Object(o.a)(Object(i.a)(x),Object(i.a)(l)),G.isDebugModeEnabled=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.enableDebugMode},G.getExternalLocaleData=Object(o.a)(Object(i.a)(_),Object(i.a)(l)),G.shouldHideWavingHandIcon=Object(o.a)(Object(i.a)(M),Object(i.a)(w),Object(i.a)(A)),G.shouldShowAgents=Object(o.a)(Object(i.a)(R),Object(i.a)(P),Object(i.a)(w),Object(i.a)(A)),G.getAgents=Object(o.a)(Object(i.a)(P),Object(i.a)(w),Object(i.a)(A)),G.shouldShowHeaderInExistingConversationCard=Object(o.a)(Object(i.a)(U),Object(i.a)(k),Object(i.a)(A)),G.isMinimizeOnCloseInPhoneForVideoCall=Object(o.a)(Object(i.a)(p),Object(i.a)(s)),G.getNewConversationButton=Object(o.a)(Object(i.a)(N),Object(i.a)(w),Object(i.a)(A)),G.isMinimizeOnCloseInPhoneForAudioCall=Object(o.a)(Object(i.a)(p),Object(i.a)(d)),G.shouldCallOpenInFullScreen=Object(o.a)(Object(i.a)(O),Object(i.a)(c)),G.getVideoCallHeaderLabel=Object(o.a)(Object(i.a)(y),Object(i.a)(f),Object(i.a)(s)),G.getAudioCallHeaderLabel=Object(o.a)(Object(i.a)(y),Object(i.a)(f),Object(i.a)(d)),G.getPromptEnableIndividualMessageDismissal=Object(o.a)(Object(i.a)(D),Object(i.a)(b)),G.getChatMessageComposerMaxCharacters=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.maxCharacters},G.getChatMessageComposerSendButton=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.sendButton},G.shouldHideOnDisableManualResponse=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.hideOnDisableManualResponse},G.getInfoCard=Object(o.a)(Object(i.a)(L),Object(i.a)(r))},298:function(e,t,n){"use strict";var a=n(854),o=n(191);t.a=function(){return Object(o.useContext)(a.a)}},299:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(191),o=n(863);const i=()=>Object(a.useContext)(o.a)},311:function(e,t,n){"use strict";n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"k",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"s",(function(){return d})),n.d(t,"p",(function(){return l})),n.d(t,"t",(function(){return u})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"u",(function(){return O})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return I})),n.d(t,"g",(function(){return C}));const a="NEW_MESSAGE",o="MESSAGE_UPDATED",i="EXTERNAL_EVENT",r="CHAT_USER_UPDATED",c="CHAT_USER_START_TYPING",s="CHAT_USER_STOP_TYPING",d="UI_CONTROL",l="LOCK_CONVERSATIONS",u="UNLOCK_CONVERSATIONS",b="CONVERSATION_UPDATED",p="CO_BROWSE_STATUS",f="ADD_TO_CART",y="EXECUTE_ENDPOINT",O="USER_SESSION_EXPIRED",v="VIDEO_CALL_STARTING",g="VIDEO_CALL_ENDED",h="VIDEO_CALL_TOGGLE",j="VIDEO_CALL_OFFER_ACCEPTED",m="VIDEO_CALL_DECLINED",I="VIDEO_CALL_MISSED",C="VIDEO_PARTICIPANT_UPDATED"},324:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(8),o=n.n(a),i=n(1536),r=n(1431),c=n(1515);const s=Object(i.a)("otherConfigs"),d=Object(i.a)("workQueueId"),l=Object(i.a)("cards"),u=Object(i.a)("partnerId"),b=Object(i.a)("name"),p=Object(i.a)("id"),f=Object(i.a)("accountUserId"),y=Object(i.a)("filter"),O=Object(i.a)("visibilityConfig"),v=Object(i.a)("noDisplayConfig"),g=Object(i.a)("triggerAnimationConfig"),h=Object(i.a)("defaultLocale"),j=Object(i.a)("supportedLocales"),m=Object(i.a)("callConfiguration"),I=Object(i.a)("autoExpireUserSessionTimeInMinutes");class C{}C.getCustomizationConfig=Object(r.a)(s),C.getWorkQueueId=Object(r.a)(d),C.getCards=Object(r.a)(l),C.getParnterId=Object(r.a)(u),C.getAppId=Object(r.a)(p),C.getAccountUserId=Object(r.a)(f),C.getVisibilityConfigFilter=Object(c.a)(Object(r.a)(y),Object(r.a)(O)),C.getNoDisplayConfigFilter=Object(c.a)(Object(r.a)(y),Object(r.a)(v)),C.getTriggerAnimationConfigFilter=Object(c.a)(Object(r.a)(y),Object(r.a)(g)),C.getDefaultLocale=Object(r.a)(h),C.getSupportedLocales=Object(r.a)(j),C.getAccountDisplayName=Object(r.a)(b),C.getCallConfiguration=Object(r.a)(m),C.getAutoExpireUserSessionTimeInMinutes=Object(r.a)(I),C.getAudioCallConfiguration=e=>{const t=C.getCallConfiguration(e);return o()(t,"audioConfig")||e.audioChatConfiguration},C.getVideoCallConfiguration=e=>{const t=C.getCallConfiguration(e);return o()(t,"videoConfig")||e.videoChatConfiguration},C.getCallAccountId=e=>{const t=C.getCallConfiguration(e);return o()(t,"accountId")||e.videoChatProviderAccountId}},330:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"x",(function(){return l})),n.d(t,"q",(function(){return u})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"u",(function(){return h})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return m})),n.d(t,"w",(function(){return I})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return E})),n.d(t,"p",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"k",(function(){return S}));var a=n(451);function o(e){return{type:a.g,payload:e}}function i(e){return{type:a.h,payload:e}}function r(e){return{type:a.m,payload:e}}function c(e){return{type:a.t,payload:e}}function s(e){return{type:a.i,payload:e}}function d(e){return{type:a.p,payload:e}}function l(e){return{type:a.y,payload:e}}function u(e){return{type:a.w,payload:e}}function b(e){return{type:a.c,payload:e}}function p(e){return{type:a.d,payload:e}}function f(e){return{type:a.f,payload:e}}function y(e){return{type:a.e,payload:e}}function O(e){return{type:a.n,payload:e}}function v(e){return{type:a.b,payload:e}}function g(e){return{type:a.o,payload:e}}function h(e){return{type:a.l,payload:e}}function j(e){return{type:a.s,payload:e}}function m(e){return{type:a.u,payload:e}}function I(e){return{type:a.a,payload:e}}function C(e){return{type:a.j,payload:e}}function E(e){return{type:a.q,payload:e}}function T(e){return{type:a.v,payload:e}}function x(e){return{type:a.k,payload:e}}function S(e){return{type:a.r,payload:e}}},342:function(e,t,n){"use strict";var a=n(771);n.d(t,"a",(function(){return a.a}))},356:function(e,t,n){"use strict";var a=n(191),o=n(273);t.a=(e,t)=>{const[n,i]=Object(a.useState)(),r=Object(o.a)(e,t);Object(a.useLayoutEffect)((()=>{const a=[];if(n)if(e.ResizeObserver){const o=new e.ResizeObserver(t);o.observe(n),a.push((()=>o.disconnect()))}else r(n);return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},358:function(e,t,n){"use strict";t.a={CONVERSATION:"CONVERSATION",BANNER:"BANNER",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",INFO_CARD:"INFO_CARD",STATUS_CARD:"STATUS_CARD",CONVERSATION_HISTORY:"CONVERSATION_HISTORY"}},359:function(e,t,n){"use strict";n.d(t,"f",(function(){return E})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return _})),n.d(t,"g",(function(){return A})),n.d(t,"d",(function(){return w}));n(31);var a=n(8),o=n.n(a),i=n(233),r=n.n(i),c=n(263),s=n.n(c),d=n(1219),l=n.n(d),u=n(49),b=n.n(u),p=n(458),f=n(327),y=n(207),O=n(212),v=n(339),g=n(312),h=n(52),j=n(0);const m=/^CASE_(\w+)/,I=/^CONVERSATION_(\w+)/,C=e=>e&&!!e.match(I),E=e=>e&&!!e.match(m),T=e=>E(e)?e.match(m)[0].split("_")[1]:void 0;function x(e){let{chatState:t,chatConversationsState:n,customizationSettings:a,getLocaleMessage:i}=e;const r=Object(O.q)(n),c=Object(f.a)(t),d=Object(f.d)(t),l=null===a||void 0===a?void 0:a.maximumOpenConversations,u=o()(l,"limit"),b=Object(O.v)(r),p=!!u&&!s()(b)&&u<=b,y=!!o()(l,"replaceNewConversationButton");let v;return c?v=d:p&&(v=y?void 0:i(l,"label")),{isLocked:c||p,lockReason:v}}const S=(e,t)=>{const n=r()(g.a.getReadStatusList(e),(e=>e.userId===t));return o()(n,"unreadCount",0)},_=e=>{const t=Object(y.c)(e),n=Object(O.q)(t),a=Object(v.b)().location.pathname,o=Object(p.a)(a,{path:"/conversation/:conversationId/:transientId?"});if(!o)return{isConversationPath:!1,conversationId:void 0};const i=null===o||void 0===o?void 0:o.params.conversationId,r=null===o||void 0===o?void 0:o.params.transientId;if("survey"===r)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:r||h.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(O.b)(n)?Object(O.e)(Object(O.w)(t))||h.e:void 0}}if(C(i))return{isConversationPath:!0,conversationId:i};const c=T(i);return E(i)&&c?{isConversationPath:!0,conversationId:Object(O.j)(n,c)}:{isConversationPath:!0,conversationId:i}},A=(e,t)=>-1===l()(Object(O.r)(e),t),w=e=>{const t=e.chatConversations.conversations.byId;let n=e.chatConversations.conversations.ids;if(Object(j.E)()){const{conversationId:t}=_(e);if(!t)return!1;n=[t]}let a=!1;return b()(n,(e=>{if(t[e]&&!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return a=!0,!1})),a}},365:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(200),o=(n(191),n(15)),i=n.n(o),r=n(1049),c=n(210),s=n(193);const d=Object(s.a)("div",{target:"ex7k1ut0"})({name:"1txt44t",styles:"top:0;left:0;margin:0;padding:0;overflow:hidden;position:absolute;width:100%;height:100%;background-color:var(--spr-lc-bgc-9);"}),l=Object(s.a)("div",{target:"ex7k1ut1"})({name:"3f9jy3",styles:"top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);"});var u=n(192);var b=()=>Object(u.jsx)(d,null,Object(u.jsx)(l,null,Object(u.jsx)(c.c,null))),p=n(201),f=n(251);var y=e=>{const{direction:t,localeDataLoading:n}=Object(p.a)(),o=Object(f.a)(),c=(e=>i()(e,((e,t,n)=>(e[n]=i()(t,((e,t)=>{let{type:n,src:a}=t;return"SCRIPT"===n?`${e} <script defer src="${a}"><\/script>`:"CSS"===n?`${e} <link rel="stylesheet" href="${a}">`:e}),""),e)),{}))(null===o||void 0===o?void 0:o.externalResources),{shouldHideLocaleLoader:s,...d}=e;return Object(u.jsx)(r.a,Object(a.a)({},d,{direction:t,externalResources:c}),e.children,!s&&n&&Object(u.jsx)(b,null))}},368:function(e,t,n){"use strict";var a=n(191),o=n(847),i=n.n(o),r=n(846);var c=function(){return Object(a.useContext)(r.a)};t.a=e=>{const[t,n]=c(),o=i()(),r=Object(a.useCallback)((t=>{o()&&n({stateKey:e,state:t})}),[e,n,o]);return Object(a.useEffect)((()=>()=>{n({stateKey:e,state:null})}),[]),[t&&t.stateKey===e?t.state:null,r]}},374:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={CONVERSATION:"CONVERSATION",CONVERSATION_LIST:"CONVERSATION_LIST",HOME:"HOME",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",KNOWLEDGE_BASE_LIST:"KNOWLEDGE_BASE_LIST",SURVEY:"SURVEY",GUIDED_WORKFLOW:"GUIDED_WORKFLOW",401:"401",LOGOUT:"LOGOUT"}},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a=n(193),o=n(195);const i=Object(a.a)("div",{target:"e6slia10"})("min-height:",(e=>Object(o.d)("header.minHeight")(e)),";padding:",(e=>Object(o.g)("header.padding")(e)),";display:flex;justify-content:flex-end;align-items:center;"),r=Object(a.a)("div",{target:"e6slia11"})("width:100%;",(e=>!e.isContained&&{backgroundColor:`${Object(o.d)("header.backgroundColor")(e)}`,backgroundImage:`${Object(o.d)("header.gradients")(e)}`,borderBottom:`${Object(o.d)("header.borderBottom")(e)}`,padding:"var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) 0 var(--spr-lc-safe-area-left)"}),""),c=e=>Object(o.d)("header.lg.paddingTop",0)(e)+Object(o.d)("header.lg.paddingBottom",0)(e)+Object(o.d)("header.lg.logo.height",0)(e)+Object(o.d)("header.lg.logo.marginTop",0)(e)+Object(o.d)("header.lg.logo.marginBottom",0)(e)+Object(o.d)("header.lg.description.marginTop",0)(e)+Object(o.d)("header.lg.description.marginBottom",0)(e)+52},392:function(e,t,n){"use strict";n.d(t,"s",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"p",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"o",(function(){return u})),n.d(t,"m",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"l",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return m})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return C}));var a=n(453),o=n(575);function i(){return{type:o.n,payload:{}}}function r(e){return{type:o.j,payload:e}}function c(){return{type:o.o,payload:{}}}function s(){return{type:o.r,payload:{}}}function d(e){return{type:o.h,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function l(e){return{type:o.i,payload:e}}function u(e){return{type:o.d,payload:e}}function b(e){return{type:o.g,payload:e}}function p(e){return{type:o.a,payload:e}}function f(e){return{type:o.b,payload:e}}function y(e){return{type:o.e,payload:e}}function O(e){return{type:o.c,payload:e}}function v(e){return{type:o.f,payload:e}}function g(e){return{type:o.p,payload:e}}function h(e){return{type:o.q,payload:e}}function j(e){return{type:o.l,payload:e}}function m(e){return{type:o.m,payload:e}}const I=e=>({type:o.k,payload:e}),C=e=>{let{conversationId:t,messageId:n,buttonId:i,attachment:r}=e;return e=>{const c=Object(a.a)(i,r);return{type:o.s,payload:{conversationId:t,messageId:n,url:c.url},promise:e}}}},393:function(e,t,n){"use strict";var a=n(191),o=n.n(a),i=n(496),r=n.n(i),c=n(263),s=n.n(c),d=n(588),l=n(192);const u=e=>{let{shouldPlay:t,unreadCount:n,children:i}=e;const{play:c}=Object(d.b)(),u=r()(n);return Object(a.useEffect)((()=>{!s()(u)&&n&&t&&n>u&&c(d.a.MESSAGE)}),[n,c,u,t]),Object(l.jsx)(o.a.Fragment,null,i)};t.a=o.a.memo(u)},409:function(e,t,n){"use strict";n.d(t,"K",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"R",(function(){return s})),n.d(t,"M",(function(){return d})),n.d(t,"X",(function(){return l})),n.d(t,"W",(function(){return u})),n.d(t,"ab",(function(){return b})),n.d(t,"bb",(function(){return p})),n.d(t,"Z",(function(){return f})),n.d(t,"g",(function(){return y})),n.d(t,"L",(function(){return O})),n.d(t,"cb",(function(){return v})),n.d(t,"Y",(function(){return g})),n.d(t,"V",(function(){return h})),n.d(t,"Q",(function(){return j})),n.d(t,"N",(function(){return m})),n.d(t,"b",(function(){return I})),n.d(t,"y",(function(){return C})),n.d(t,"l",(function(){return E})),n.d(t,"J",(function(){return T})),n.d(t,"v",(function(){return x})),n.d(t,"D",(function(){return S})),n.d(t,"q",(function(){return _})),n.d(t,"G",(function(){return A})),n.d(t,"s",(function(){return w})),n.d(t,"C",(function(){return M})),n.d(t,"p",(function(){return R})),n.d(t,"x",(function(){return P})),n.d(t,"k",(function(){return N})),n.d(t,"I",(function(){return D})),n.d(t,"u",(function(){return L})),n.d(t,"z",(function(){return k})),n.d(t,"m",(function(){return U})),n.d(t,"a",(function(){return G})),n.d(t,"P",(function(){return B})),n.d(t,"h",(function(){return $})),n.d(t,"O",(function(){return F})),n.d(t,"T",(function(){return V})),n.d(t,"F",(function(){return z})),n.d(t,"i",(function(){return H})),n.d(t,"w",(function(){return W})),n.d(t,"j",(function(){return q})),n.d(t,"E",(function(){return X})),n.d(t,"r",(function(){return K})),n.d(t,"A",(function(){return Y})),n.d(t,"n",(function(){return Q})),n.d(t,"B",(function(){return Z})),n.d(t,"o",(function(){return J})),n.d(t,"H",(function(){return ee})),n.d(t,"t",(function(){return te})),n.d(t,"S",(function(){return ne})),n.d(t,"U",(function(){return ae}));const a="open",o="close",i="enable",r="disable",c="clearSession",s="sendExternalEvent",d="openNewConversation",l="updateConversationContext",u="updateClientContext",b="updateUserContext",p="updateUserSettings",f="updateThemeMode",y="getAvailableAgents",O="openExistingConversation",v="updateWidget",g="updateLocale",h="updateCart",j="removeFromCart",m="openNewPrompt",I="clearPrompt",C="onClose",E="offClose",T="onUnreadCountChange",x="offUnreadCountChange",S="onExternalEvent",_="offExternalEvent",A="onPromptAction",w="offPromptAction",M="onEvent",R="offEvent",P="onAvailabilityChange",N="offAvailabilityChange",D="onShowMedia",L="offShowMedia",k="onCloseMedia",U="offCloseMedia",G="addFilterToEvaluate",B="removeFilterToEvaluate",$="goBack",F="registerDevice",V="unregisterDevice",z="onNotification",H="grantPermission",W="onLoad",q="offLoad",X="onLoadComplete",K="offLoadComplete",Y="onDeviceRegister",Q="offDeviceRegister",Z="onUnregisterDevice",J="offUnregisterDevice",ee="onSeekPermission",te="offSeekPermission",ne="subscribeToUpdate",ae="unsubscribeToUpdate"},416:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},417:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"n",(function(){return u})),n.d(t,"v",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"x",(function(){return m})),n.d(t,"l",(function(){return I})),n.d(t,"u",(function(){return C})),n.d(t,"f",(function(){return E})),n.d(t,"t",(function(){return T})),n.d(t,"p",(function(){return x})),n.d(t,"k",(function(){return S})),n.d(t,"y",(function(){return _})),n.d(t,"w",(function(){return A})),n.d(t,"q",(function(){return w})),n.d(t,"s",(function(){return M})),n.d(t,"m",(function(){return R})),n.d(t,"r",(function(){return P})),n.d(t,"o",(function(){return N}));var a=n(241),o=n(369),i=n(630),r=n(641),c=n(308);const s=new i.a,d="/livechat/conversation";function l(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:i}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){let e=`${d}/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),i&&i.after&&(e=`${e}&after=${i.after}`),i&&i.before&&(e=`${e}&before=${i.before}`);return(yield o.a.post(e)).data}))}function u(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const t=`${d}/spy-conversations`,{userIds:n=[],roleIds:a=[],pageNum:i,size:r=10}=e;return(yield o.a.post(t,{userIds:n,roleIds:a,page:{page:i,size:r}})).data}))}function b(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{httpHeaders:n,multiSubmitResponseUrl:a}=e;return(yield s.post(a,t,{headers:Object.assign(Object.assign({},n),{"Content-Type":"application/json"}),baseURL:""})).data}))}function p(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/fetch/${e}`)).data}))}function f(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/fetch/case/${e}`)).data}))}function y(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/fetch/externalCase/${e}`)).data}))}function O(e,t){let{size:n,cursor:i}=t;return Object(a.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),i&&t.push({key:"cursor",value:i}),t.push({key:"includeMaskedDeletedMessages",value:!0});const a=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield o.a.post(`${d}/fetchMessages?${a}`)).data}))}function v(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield o.a.post(`${d}/closeConversation?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(c.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function g(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield o.a.post(`${d}/closeAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(c.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function h(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield o.a.post(`${d}/delete?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(c.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function j(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield o.a.post(`${d}/deleteAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(c.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function m(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/updateDisclaimer/${e}?disclaimerStatus=${t}`)).data}))}function I(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield o.a.post(`${d}/fetchMessage`,void 0,{params:n,backoff:!0})).data}))}function C(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/send`,e)).data}))}function E(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function T(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function x(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/new`,e)).data}))}function S(e,t,n,i){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/suggestions`,Object.assign({conversationId:e,query:t,locale:i},n))).data}))}function _(e){let{context:t,updateLatest:n,payload:a}=e;return r.a.info({chatConversationId:null===a||void 0===a?void 0:a.conversationId,message:`${null===a||void 0===a?void 0:a.conversationId}: Update latest conversation context service called`,additionalDetails:{actionPayload:a}}),o.a.post(`${d}/updateConversationDetails?updateLatest=${n}`,t)}function A(e){let{conversationId:t,context:n,payload:a}=e;return r.a.info({chatConversationId:t,message:`${t}: Update conversation context service called`,additionalDetails:{actionPayload:a}}),o.a.post(`${d}/updateConversationDetails?conversationId=${t}`,n)}function w(e){return o.a.post(`${d}/cancelAsset/${e}`)}function M(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return o.a.post(`${d}/markSurveyOpened/${e}`)}))}function R(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/fetchNumberOfOpenConversations`)).data}))}function P(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return o.a.post(`${d}/markTimeOfDelivery?messageIds=${e.join(",")}`)}))}function N(e){let{messageId:t,conversationId:n,text:i,language:r,additional:c}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${d}/generateVoiceNote`,{messageId:t,tempConversationId:n,text:i,language:r,additional:c})).data}))}},456:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(243));var a=c(n(1211)),o=c(n(1214)),i=c(n(191)),r=c(n(1215));n(861);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},u=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).onEnter=function(e,n){var a=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),d(e,a),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,a),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,i=n?a+" "+o:o;t.removeClasses(e,n?"appear":"enter"),d(e,i),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),d(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),d(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,a="string"===typeof n,o=a?(a&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:a?o+"-active":n[e+"Active"],doneClassName:a?o+"-done":n[e+"Done"]}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,o=n.activeClassName,i=n.doneClassName;a&&l(e,a),o&&l(e,o),i&&l(e,i)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,d(e,t))},o.render=function(){var e=s({},this.props);return delete e.classNames,i.default.createElement(r.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(i.default.Component);u.defaultProps={classNames:""},u.propTypes={};var b=u;t.default=b,e.exports=t.default},458:function(e,t,n){"use strict";var a=n(870),o=n.n(a),i={},r=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,a=i[n]||(i[n]={});if(a[e])return a[e];var c=[],s={re:o()(e,c,t),keys:c};return r<1e4&&(a[e]=s,r++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var a=t,o=a.path,i=a.exact,r=void 0!==i&&i,s=a.strict,d=void 0!==s&&s,l=a.sensitive,u=void 0!==l&&l;if(null==o)return n;var b=c(o,{end:r,strict:d,sensitive:u}),p=b.re,f=b.keys,y=p.exec(e);if(!y)return null;var O=y[0],v=y.slice(1),g=e===O;return r&&!g?null:{path:o,url:"/"===o&&""===O?"/":O,isExact:g,params:f.reduce((function(e,t,n){return e[t.name]=v[n],e}),{})}}},480:function(e,t,n){"use strict";n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return P}));var a=n(214),o=n(272),i=n(222),r=n(438),c=n(1536),s=n(1431);const d=Object(c.a)("height"),l=Object(c.a)("width"),u=Object(c.a)("url"),b=Object(c.a)("fileToken");class p extends r.a{setHeight(e){return this.set(d,e)}setWidth(e){return this.set(l,e)}setUrl(e){return this.set(u,e)}setFileToken(e){return e?this.set(b,e):this}}p.getUrl=Object(s.a)(u);var f=n(341),y=n.n(f);const O=Object(c.a)("title");class v extends p{constructor(e){super(e),this.setType(a.c.IMAGE)}setTitle(e){return this.set(O,e)}}function g(e){return(new v).setHeight(e.height).setWidth(e.width).setUrl(e.url).setTitle(e.title).build()}const h=Object(c.a)("previewImageUrl"),j=Object(c.a)("title"),m=Object(c.a)("previewFileToken");class I extends p{constructor(e){super(e),this.setType(a.c.VIDEO)}setPreviewImageUrl(e){return this.set(h,e)}setTitle(e){return this.set(j,e)}setPreviewImageToken(e){return e?this.set(m,e):this}}function C(e){return(new I).setUrl(e.url).setHeight(e.height).setWidth(e.width).setPreviewImageUrl(e.previewImageUrl).setTitle(e.title).build()}function E(e){let{chatMessage:t,url:n,token:a}=e;const r=o.a.getAttachment(i.a.getMessagePayload(t));let c;c=a?new I(r).setPreviewImageToken(a).build():new I(r).setPreviewImageUrl(n).build();const s=new o.a(i.a.getMessagePayload(t)).setAttachment(c).build();return new i.a(t).setMessagePayload(s).build()}function T(e){return(new v).setHeight(e.height).setWidth(e.width).setUrl(e.previewImageUrl).build()}I.getPreviewImageUrl=Object(s.a)(h);const x=Object(c.a)("title"),S=Object(c.a)("documentType");class _ extends p{constructor(e){super(e),this.setType(a.c.DOCUMENT)}setTitle(e){return this.set(x,e)}setDocumentType(e){return this.set(S,e)}}function A(e){return(new _).setUrl(e.url).setTitle(e.title).setDocumentType(e.documentType).build()}const w=Object(c.a)("title"),M=Object(c.a)("mimeType");class R extends p{constructor(e){super(e),this.setType(a.c.AUDIO)}setTitle(e){return this.set(w,e)}setMimeType(e){return this.set(M,e)}}function P(e){return(new R).setUrl(e.url).setTitle(e.title).setMimeType(e.mimeType).build()}function N(e){let{chatMessage:t,url:n,token:c}=e;const s=o.a.getAttachment(i.a.getMessagePayload(t));if(!s||!function(e){return y()(a.b,r.a.getType(e))}(s))return t;const d=new p(s);c&&d.setFileToken(c),d.setUrl(c?void 0:n);const l=new o.a(i.a.getMessagePayload(t)).setAttachment(d.build()).build();return new i.a(t).setMessagePayload(l).build()}},482:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return x}));var a=n(191),o=n.n(a),i=n(672),r=n.n(i),c=n(197),s=n(213),d=n.n(s),l=n(665),u=n(589),b=n(251);const p=()=>{const e=Object(b.a)();return!(null===e||void 0===e||!e.enableSoundNotification)};var f=n(204),y=n(258);const O=e=>Object(y.e)(Object(f.b)(e));var v=n(656),g=n(219),h=n(207),j=n(228),m=n(192);const I={MESSAGE:"message",AGENT_ASSIGNMENT:"agentAssignment",CALL:"call"},C=o.a.createContext({play:d.a,pause:d.a}),E={[I.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[I.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3",[I.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},T=(e,t)=>{var n,a,o;return null!==(n=null===e||void 0===e||null===(a=e.allScreens)||void 0===a||null===(o=a.notifications)||void 0===o?void 0:o[t])&&void 0!==n?n:E[t]},x=e=>{let{children:t}=e;const{otherConfigs:n}=Object(g.a)(),o=Object(c.d)(h.h),i=Object(j.d)(o),s=Object(v.a)({category:"LIVE_CHAT",userId:i}),[d,,b,f]=r()({src:"","data-testid":"messageAudio",preload:"none"}),[y,,E,x]=r()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),[S,,_,A]=r()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),w=Object(u.a)(),M=(()=>{const e=Object(c.d)(O).enableSoundNotification.enabled,t=p();return e&&t})(),R=p(),P=Object(a.useCallback)((()=>{f.current&&(f.current.src=T(n,I.MESSAGE)),x.current&&(x.current.src=T(n,I.AGENT_ASSIGNMENT)),A.current&&(A.current.src=T(n,I.CALL))}),[]),N=Object(a.useCallback)((e=>{switch(e){case I.MESSAGE:return M?b.play():Promise.resolve();case I.AGENT_ASSIGNMENT:return E.play();case I.CALL:return _.play()}return Promise.resolve()}),[b,E,_,M]),D=Object(a.useCallback)((e=>{const t=N(e);"object"===typeof t&&t.catch((t=>s.warning(`Sound Notification Failed for ${e}:  ${t}`)))}),[N]),L=Object(a.useCallback)((e=>{switch(e){case I.MESSAGE:return b.pause();case I.AGENT_ASSIGNMENT:return E.pause();case I.CALL:return _.pause()}}),[b,E,_]),k=Object(a.useMemo)((()=>({play:D,pause:L})),[D,L]);return Object(m.jsx)(C.Provider,{value:k},Object(m.jsx)(l.b,{onClick:P},R&&d,w&&y,w&&S,t))};t.c=C},488:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(568);const o=e=>{let{file:t,conversationId:n,sender:o,inReplyToChatMessageId:i}=e;return{type:a.b,payload:{file:t,conversationId:n,chatUserId:o,inReplyToChatMessageId:i}}},i=e=>{let{initialMessages:t,createCase:n,conversationContext:o,silent:i,assignToUser:r,additional:c}=e;return e=>({type:a.c,payload:{initialMessages:t,createCase:n,assignToUser:r,silent:i,conversationContext:o,additional:c},promise:e})},r=(e,t)=>{let{conversationId:n,externalCaseId:o}=e;return{type:a.a,payload:{conversationId:n,externalCaseId:o},promise:t}}},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const a="@commerce/ADD_TO_CART",o="@commerce/UPDATE_CART",i="@commerce/REMOVE_FROM_CART"},490:function(e,t,n){var a=n(36),o=n(126),i=n(83),r=n(811),c=n(1139),s=n(84),d=n(32);e.exports=function(e,t,n){if((e=d(e))&&(n||void 0===t))return o(e);if(!e||!(t=a(t)))return e;var l=s(e),u=s(t),b=c(l,u),p=r(l,u)+1;return i(l,b,p).join("")}},500:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},501:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c}));const a=["video/mp4","video/quicktime"],o=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],i=[...o,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],r=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},565:function(e,t){e.exports=function(e){return null===e}},568:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const a="@conversation/NEW_CONVERSATION_OPEN",o="@conversation/EXISTING_CONVERSATION_OPEN",i="@conversation/MEDIA_SEND"},579:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var a=n(191),o=n.n(a),i=n(197),r=n(368),c=n(406),s=n(242),d=n(0),l=n(192);const u="sessionExpiryModal",b=o.a.createContext(null),p=Object(a.memo)((e=>{const[t,n]=Object(a.useState)(null),[o,p]=Object(r.a)(u),f=Object(i.c)(),y=Object(d.Q)();return Object(a.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[y]),Object(a.useEffect)((()=>{if(t)return y&&f({type:s.d}),void p(!0);o&&p(!1)}),[t]),Object(l.jsx)(b.Provider,{value:t},e.children)}));t.c=b},583:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(193),o=n(195);const i=Object(a.a)("div",{target:"e13xym9v0"})((e=>({backgroundColor:Object(o.d)("header.lg.backgroundColor",Object(o.d)("header.backgroundColor")(e))(e),backgroundImage:Object(o.d)("header.lg.gradients")(e)})),";padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"),r=Object(a.a)("div",{target:"e13xym9v1"})("border-radius:",Object(o.d)("card.borderRadius"),";background-color:var(--spr-lc-bgc-16);")},584:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(193),o=n(195),i=n(391);const r=32,c=Object(a.a)("div",{target:"e1b8encq0"})("background-color:",(e=>Object(o.d)("header.lg.backgroundColor",Object(o.d)("header.backgroundColor")(e))(e)),";background-image:",Object(o.d)("header.lg.gradients"),";padding:",Object(o.g)("header.lg.padding"),";padding-bottom:",(e=>r+Object(o.d)("header.lg.paddingBottom")(e)),"px;height:",(e=>e.height||(e=>Object(i.c)(e)+r)(e)),"px;transition:",(e=>e.showTransition&&"height 0.2s ease-out"),";"),s=Object(a.a)("div",{target:"e1b8encq1"})({name:"anqr8i",styles:"width:100%;height:100%;padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"})},585:function(e,t,n){"use strict";var a=n(206);t.a=()=>{var e;return!(null===(e=Object(a.a)().trigger)||void 0===e||!e.useCustomTrigger)}},586:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(191);var a=n(192);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function i(e){return Object(a.jsx)("svg",o({viewBox:"0 0 14 14","data-icon-name":"Chevron",focusable:"false"},e),Object(a.jsx)("path",{d:"M13.728 4.935a.931.931 0 00-1.316 0L7 10.346l-5.41-5.41a.932.932 0 00-1.318 0 .929.929 0 000 1.315l6.07 6.07a.931.931 0 001.316 0l6.07-6.07a.931.931 0 000-1.315z"}))}},587:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(285),o=n.n(a);let i;function r(e,t){const n=o()(e);return function(e,t,n){return[...Array(n)].map(((n,a)=>(a+t)%e.length)).map((t=>e[t]))}(n,function(e){return i||(i=Math.floor(Math.random()*e.length)),i}(n),t)}},588:function(e,t,n){"use strict";var a=n(191),o=n(482);n.d(t,"a",(function(){return o.b})),t.b=function(){return Object(a.useContext)(o.c)}},589:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(219),o=n(324);const i=()=>{const e=Object(a.a)();return!!e&&!!o.a.getCallAccountId(e)}},590:function(e,t,n){"use strict";t.a={INIT:0,STARTED:1,COMPLETED:2,ABORTED:3,ERROR:4,PAUSE:5}},624:function(e,t,n){"use strict";var a=n(200),o=n(193),i=(n(191),n(194)),r=n(217),c=n(192);var s=e=>Object(c.jsx)("div",{className:"sr-only"},Object(c.jsx)(i.b,Object(a.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const d=Object(o.a)("div",{target:"eobaybk0"})({name:"3zfe4h",styles:"background:var(--spr-lc-bgc-15);color:var(--spr-lc-c-15);font-size:var(--spr-lc-fs-xs);font-weight:600;border-radius:50%;"}),l=Object(i.g)({moreThanTenNotifications:{id:"moreThanTenNotifications",defaultMessage:"{value}+"}});t.a=function(e){return Object(c.jsx)(d,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(c.jsx)(s,{message:1===e.count?r.a.newNotification:r.a.newNotifications,unreadCount:e.count}),(t=e.count)>=10?Object(c.jsx)(i.b,Object(a.a)({},l.moreThanTenNotifications,{values:{value:Object(c.jsx)(i.c,{value:9})}})):Object(c.jsx)(i.c,{value:t}));var t}},625:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return m}));var a=n(350),o=n.n(a),i=n(49),r=n.n(i),c=n(33),s=n.n(c),d=n(234),l=n.n(d),u=n(253),b=n(641),p=n(245),f=n(807),y=n.n(f);const O=[p.c,p.m,p.b],v=(()=>{const e={};return{shouldStoreInCache:e=>O.includes(e),shouldCallSubscriberOnSubscribe:t=>O.includes(t)&&(t=>y()(e,t))(t),setCache:(t,n)=>{e[t]=n},getCache:t=>e[t]}})(),g={};function h(e,t){const{topic:n,subscriber:a}=t;if(l()(n)&&s()(a)){const e=g[n];g[n]=e?[...e,a]:[a]}v.shouldCallSubscriberOnSubscribe(n)&&a(v.getCache(n))}function j(e,t){const{topic:n,subscriber:a}=t;if(l()(n)&&s()(a)){const e=g[n],t=o()(e,(e=>e===a));-1!==t&&(e.splice(t,1),g[n]=e)}}function m(e){let{topic:t,payload:n,callback:a}=e;const o=g[t];if(n.shouldLogEvent){var i,c,s,d;const e=null===n||void 0===n||null===(i=n.request)||void 0===i?void 0:i.conversationId;b.a.info({chatConversationId:e,message:`${e?`${e} : `:""}${null!==n&&void 0!==n&&null!==(c=n.response)&&void 0!==c&&c.error?"Error":"Success"} event published - ${t}`,additionalDetails:{params:null===n||void 0===n?void 0:n.request,result:(null===n||void 0===n||null===(s=n.response)||void 0===s?void 0:s.error)||(null===n||void 0===n||null===(d=n.response)||void 0===d?void 0:d.data),subscriberCount:(null===o||void 0===o?void 0:o.length)||0}})}v.shouldStoreInCache(t)&&v.setCache(t,n),r()(o,((e,t)=>{try{e(n,a)}catch(o){Object(u.a)(o)}}))}},638:function(e,t,n){var a=n(3).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}},639:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));const a="AVAILABLE",o="UN_AVAILABLE",i="PENDING";let r=i;const c=e=>{r=e?a:o},s=()=>r===o,d=()=>r===i},640:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));const a={PENDING:"PENDING",SUCCESS:"SUCCESS",FAIL:"FAIL",EXPIRED:"EXPIRED"};let o=a.PENDING;const i=e=>{o=e},r=()=>o===a.PENDING,c=()=>o===a.FAIL,s=()=>o===a.EXPIRED},641:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(241),o=n(567),i=n(369);const r=new o.a((e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return(yield i.a.post("/livechat/logging/log/event",e)).data}))),{batch:!0,adapter:e=>{const{message:t,chatConversationId:n,additionalDetails:a}=e;return{logMessage:t,logTime:Date.now(),additionalDetails:a,chatConversationId:n}}})},642:function(e,t,n){"use strict";n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return M})),n.d(t,"g",(function(){return R})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return L})),n.d(t,"f",(function(){return k})),n.d(t,"e",(function(){return U})),n.d(t,"d",(function(){return G}));var a=n(31),o=n.n(a),i=n(215),r=n.n(i),c=n(8),s=n.n(c),d=n(807),l=n.n(d),u=n(437),b=n(255),p=n(324),f=n(286),y=n(292),O=n(618),v=n(0),g=n(50),h=n(761),j=n(244),m=n(198),I=n(640),C=n(639),E=n(271),T=n(747),x=n(566),S=n(9),_=n(220),A=n(245);const w=async e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:a}=e;if(a&&Object(b.b)({getSessionToken:a}),t&&(Object(b.b)({userId:t.chatUser.userId}),await Object(b.c)({wafScriptUrl:t.wafScriptUrl})),n){const e=p.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(b.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},M=e=>{const t=!!f.a.isDebugModeEnabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}},R=async e=>{const t=e.appId,n=e.user,a=null===n||void 0===n?void 0:n.authToken;if(l()(n,"isSSOAuthorized")){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return _.a})(await Object(y.a)(t));Object(j.b)(e.chatUserId)&&await Object(y.h)(t)}a&&(await Object(y.h)(t),await Object(y.l)(t,a))};async function P(e){const{appId:t,user:n,userContext:a,sessionOrigin:i,customUser:c,otp:d,locale:l,meetingId:u,deflectionToken:b}=e,p=r()(n,["authToken","isSSOAuthorized","oneTimeToken"]);let f,v;if(!!i){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,a;try{t=await Object(y.b)(e,O.d)}catch(r){console.warn(r)}try{n=await Object(y.b)(e,O.a)}catch(r){console.warn(r)}try{a=await Object(y.b)(e,O.b)}catch(r){console.warn(r)}const o=n||a||t;let i=a||t;return i=i===o?void 0:i,{primaryToken:o,secondaryToken:i}}(t);f=e,v=n}else f=await Object(y.e)(t);const h={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:f,secondaryChatToken:v,page:Object(g.b)(),pageTitle:Object(g.c)(),referralPage:Object(g.d)(),timezone:Object(g.g)(),userAgent:Object(g.f)(),enforcedLocale:l,fallbackLocales:Object(S.a)(),meetingId:u,otp:d,customUser:c,deflectionToken:b};if(!o()(p)){const{id:e,hash:t,...n}=p;Object.assign(h,{chatUser:{userId:e,...n},chatUserSignature:t})}return o()(a)||Object.assign(h,{customContext:a}),h}const N=async e=>Object(u.c)(e),D=async e=>{const t=await Object(u.a)(await P(e));if(!!e.sessionOrigin&&await(async e=>{try{await Object(y.i)(e,O.d)}catch(t){console.warn(t)}try{await Object(y.i)(e,O.b)}catch(t){console.warn(t)}})(e.appId),await Object(y.l)(e.appId,t.chatSessionToken),!t.userPreferences){const e=await Object(y.g)(t.chatUser.userId);return{...t,userPreferences:e}}return t},L=async e=>{const[t,n]=await Promise.allSettled([N(e),D(e)]);if("rejected"===t.status||"rejected"===n.status)return[t,n];const a=t.value;if(n.value.chatUser.locale=n.value.chatUser.locale||a.defaultLocale,Object(v.Q)()||!Object(h.a)(a))return[t,n];try{var o;const e=null===(o=a.otherConfigs.settings)||void 0===o?void 0:o.autoLoginSSOId;e&&await Object(h.b)({ssoId:e})}catch(r){Object(m.b)(r)}const i=await D(e);return i.chatUser.locale=i.chatUser.locale||a.defaultLocale,[t,{value:i,status:"fulfilled"}]},k=e=>{x.a.on(e),Object(I.e)(I.a.SUCCESS)},U=async()=>{Object(I.e)(I.a.FAIL),Object(C.c)(!1),await Object(T.b)(),Object(E.a)({topic:A.b,payload:{error:!0}})},G=()=>{Object(I.e)(I.a.EXPIRED)}},666:function(e,t,n){"use strict";var a=n(191),o=n(197),i=n(230),r=n(313),c=n(207),s=n(228),d=n(238),l=n(567);const u=(new i.a).setUrl("/video-chat/conversation/log/event").setType(d.a.POST).build(),b="AUDIO_CALL",p="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:i}=e;const[d]=Object(r.a)(u,{ignoreResults:!0}),f=Object(a.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),d(e)}),[d]),y=Object(o.d)(c.h),O=Object(s.d)(y),v=i?b:p,g=Object(a.useCallback)((e=>{const{message:a}=e;return{videoConversationId:t,logMessage:`USER: ${a}`,loggerSnUserId:O,category:v,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,O,v]),h=Object(a.useMemo)((()=>new l.a(f,{batch:!0,adapter:g,skip:!t})),[f,g,t]);return Object(a.useEffect)((()=>()=>{h.cleanup()}),[]),h}},667:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(209);const o=Object(a.a)((()=>Promise.all([n.e(5),n.e(18)]).then(n.bind(null,1430))))},668:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(191),o=n.n(a),i=n(213),r=n.n(i),c=n(855),s=n(192);const d={debug:r.a,info:r.a,error:r.a,warning:r.a},l=o.a.createContext(d),u=e=>{let{videoConversationId:t,conversationId:n,children:a}=e;const o=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(l.Provider,{value:o},a)}},669:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(193),o=n(196);const i=Object(a.a)("div",{target:"e18hq32b0"})((e=>Object(o.b)(e)),";")},670:function(e,t,n){"use strict";var a=n(618),o=n(275),i=n(1);const r=e=>`spr-cobrowse-state_${e}`,c=!!o.a.getSessionOrigin(Object(i.a)());t.a={get:async e=>{try{const t=r(e);if(!c)return a.d.getItem(t);const n=await a.c.getItem(t);if(!n){const e=await a.d.getItem(t);if(e)return a.d.removeItem(t),await a.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>c?a.c.setItem(r(e),t):a.d.setItem(r(e),t),remove:e=>c?a.c.removeItem(r(e)):a.d.removeItem(r(e))}},671:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(191),o=n(862);const i=()=>"MOBILE"===Object(a.useContext)(o.a)},672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(357).__importDefault(n(1216)).default("audio");t.default=a},673:function(e,t,n){"use strict";var a=n(191),o=n(219),i=n(206),r=n(0),c=n(358);const s=new Set([c.a.CONVERSATION,c.a.KNOWLEDGE_BASE,c.a.CONVERSATION_HISTORY]);t.a=()=>{var e,t,n;const d=Object(o.a)(),l=Object(i.a)(),u=Object(r.j)(),b=null===(e=d.cardConfigs)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.cards,p=(null===l||void 0===l||null===(n=l.homeScreen)||void 0===n?void 0:n.conversationCard)||{},f=(null===d||void 0===d?void 0:d.cards)||[],y=Object(a.useMemo)((()=>[{type:c.a.CONVERSATION,id:c.a.CONVERSATION,...p},...f]),[p,f]);return Object(a.useMemo)((()=>u?(null!==b&&void 0!==b?b:y).filter((e=>s.has(e.type))):null!==b&&void 0!==b?b:y),[u,b,y])}},677:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(235);const o=(e,t)=>{const n={conversationId:t};return e?{type:a.db,payload:n}:{type:a.eb,payload:n}}},678:function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return I}));var a=n(31),o=n.n(a),i=n(8),r=n.n(i),c=n(452),s=n(237),d=n(214),l=n(574),u=n(236),b=n(451),p=n(212);const f=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),y=e=>e===s.e.WAITING,O=e=>e===s.g.WAITING?s.g.WAITING:s.g.SETUP,v=(e,t)=>((e,t)=>{switch(e.state){case l.a.CALL_INITIATED:case l.a.CALL_STARTING:return t.WAITING;case l.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.e:s.g),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?u.a.AUDIO_CALL_JOIN_CTA_CLICKED:u.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?u.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:u.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},h=e=>{let{callDetails:t}=e;return!o()(t)},j=e=>t=>(t.type===b.x||t.type===b.e)&&r()(t,"payload.videoConversationId")===e,m=e=>t=>(t.type===b.l||t.type===b.e)&&r()(t,"payload.videoConversationId")===e,I=(e,t,n)=>Object(p.m)(e,t).items.find((e=>{var t,a;return(null===(a=null===(t=e.messagePayload)||void 0===t?void 0:t.attachment)||void 0===a?void 0:a.type)===d.c.VIDEO_CHAT&&e.messagePayload.attachment.videoChatConversationId===n}))},679:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(15),o=n.n(a),i=n(680),r=n.n(i);const c=/%%\[(\w+)\]/g,s=(e,t)=>e?r()(e,c,((e,n)=>Object.prototype.hasOwnProperty.call(t,n)?t[n]:e)):"",d=(e,t)=>e&&"string"!==typeof e?o()(e,((e,n,a)=>(e[a]=s(n,t),e)),{}):s(e,t)},680:function(e,t,n){var a=n(32);e.exports=function(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},681:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(31),o=n.n(a),i=n(15),r=n.n(i);const c=(e,t)=>r()(t,((e,t)=>{if(!t)return e;const n="*".repeat(null===t||void 0===t?void 0:t.length);return e.replace(t,n)}),e),s=e=>{let{text:t,maskingConfigs:n}=e;if(!t)return{};const{maskedText:a,maskedValues:i}=r()(n,((e,t)=>{let n;try{n=new RegExp(t.jsRegex,"g")}catch(i){return e}const{updatedText:a,capturedGroups:o}=((e,t,n,a)=>{let o=e.exec(t),i=t;const r={};for(;o&&0!==o[0].length;)n&&o.groups&&Object.entries(o.groups).forEach((e=>{var t;let[n,i]=e;r[n]=null!==(t=r[n])&&void 0!==t?t:[];let c={};if(a){const e=o.index;c={startIndex:e,endIndex:e+i.length-1}}r[n].push({...c,value:i})})),i=c(i,o),o=e.exec(i);return{capturedGroups:r,updatedText:i}})(n,e.maskedText,t.saveMaskedData,t.showAgentUnmaskedData);return{maskedText:a,maskedValues:{...e.maskedValues,...o}}}),{maskedText:t,maskedValues:{}});return{maskedText:a,maskedValues:o()(i)?void 0:i}}},682:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l}));var a=n(760),o=n(351),i=n(259),r=n(324);const c=(e,t)=>`${r.a.getParnterId(t)}_${r.a.getAppId(t)}_${i.a.getId(o.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let s;const d=(e,t)=>{const n=o.a.getChatSessionToken(e),i=c(e,t),r=o.a.getInboxServerUrl(e),d=o.a.getUserInbox(e),l=null===e||void 0===e?void 0:e.fanPublishTopic;return s=new a.a({userName:n,clientId:i,inboxServerUrl:r,userInbox:d,fanPublishTopic:l}),s},l=()=>s},746:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Fv})),n.d(t,"reInitApp",(function(){return Vv}));var a=n(191),o=n.n(a),i=n(293),r=n.n(i),c=n(278),s=n(192),d=n(197),l=n(1061),u=n(1067),b=n(355),p=n.n(b),f=n(219),y=n(371),O=n(347),v=n(324),g=n(258),h=n(204),j=n(271),m=n(253),I=n(747),C=n(639),E=n(245),T=n(0);const x=e=>Object(g.c)(Object(h.b)(e)),S=e=>{const t=Object(y.a)(),n=Object(f.a)(),o=Object(d.d)(x),i=Object(T.P)(),r=v.a.getVisibilityConfigFilter(n),{hasPassed:c}=Object(O.a)(i?void 0:r,{logOnSuccess:!0,defaultValue:!1}),s=!c&&o;return Object(a.useEffect)((()=>{c&&Object(m.a)("Sprinklr Chat hidden by visibility criteria"),o||Object(m.a)("Sprinklr Chat disabled by sdk"),Object(C.c)(s),Object(j.a)({topic:E.c,payload:{data:{isChatVisible:s}}})}),[c,o,s]),Object(a.useEffect)((()=>((async()=>{await Object(I.b)(),Object(j.a)({topic:E.a,payload:{}}),Object(j.a)({topic:E.b,payload:{error:!1}})})(),()=>{Object(j.a)({topic:E.c,payload:{data:{isChatVisible:!1}}})})),[]),p()((()=>{Object(I.b)()}),[t]),s?e.children:null};var _=o.a.memo(S),A=n(579),w=n(657);const M=e=>Object(s.jsx)(w.a,{history:e.history},Object(s.jsx)(A.b,null,e.children));var R=n(576),P=n(554),N=n(200),D=n(194),L=n(252),k=n(202),U=n(849),G=n(256),B=n(193),$=n(390),F=n(365),V=n(852),z=n(582),H=n(195),W=n(196);const q=e=>Object(s.css)("fill:",Object(H.a)("white")({theme:e}),";height:100%;width:100%;"),X=Object(B.a)("div",{target:"e12trxni0"})("position:fixed;top:0;left:0;z-index:",(e=>Object(H.d)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(H.d)("frame.translateZ")(e)),"px) !important;height:100%;width:100%;"),K=Object(B.a)(F.a,{target:"e12trxni1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),Y=e=>Object(s.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object($.l)(.2,Object(H.a)("charcoal")({theme:e})),";}"),Q=Object(B.a)(z.c,{target:"e12trxni2"})({name:"hgqvtn",styles:"width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"}),Z=Object(B.a)(z.c,{target:"e12trxni3"})({name:"uwwqev",styles:"width:100%;height:100%;"}),J=Object(B.a)(V.a,{target:"e12trxni4"})("margin-top:var(--spr-lc-safe-area-top);",(e=>{let{isPhone:t,direction:n}=e;return t?`${Object(W.d)("right: calc(20px + var(--spr-lc-safe-area-right))","left: calc(20px + var(--spr-lc-safe-area-left))")({direction:n})};`:`${Object(W.d)("right: calc(40px + var(--spr-lc-safe-area-right))","left: calc(40px + var(--spr-lc-safe-area-left))")({direction:n})};`}),"");var ee=n(203),te=n(201),ne=n(199),ae=n(416);const oe=Object(D.g)({preview:{id:"preview",defaultMessage:"Preview"}});var ie=Object(D.h)((e=>{let{previewItem:t,intl:n}=e;const o=Object(k.b)(),i=Object(ee.a)(),r=Object(L.a)(),c=!!t&&t.type!==ae.a.DIALOGUE,{direction:d}=Object(te.a)(),l=Object(a.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),r.goBack()}),[r]);return Object(s.jsx)(X,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(s.jsx)(K,{name:"spr-chat__modal-frame","aria-label":n.formatMessage(oe.preview),title:n.formatMessage(oe.preview)},Object(s.jsx)(s.Global,{styles:Y(o)}),Object(s.jsx)(a.Suspense,{fallback:Object(s.jsx)(Q,null,Object(s.jsx)(Z,{className:"center-x center-y"}))},Object(s.jsx)(U.a,{previewItem:t})),c&&Object(s.jsx)(J,{Icon:G.a,iconCss:q(o),iconName:ne.a.CLOSE,"aria-label":ne.a.CLOSE,direction:d,isPhone:i,onClick:l})))})),re=n(8),ce=n.n(re);var se=e=>{if(!e.search.includes("preview=1"))return null;const t=ce()(e.state,"sprPreview.type");switch(t){case ae.a.DIALOGUE:return{type:t,message:ce()(e.state,"sprPreview.message"),title:ce()(e.state,"sprPreview.title"),cancelLabel:ce()(e.state,"sprPreview.cancelLabel"),confirmationLabel:ce()(e.state,"sprPreview.confirmationLabel"),onConfirm:ce()(e.state,"sprPreview.onConfirm"),onCancel:ce()(e.state,"sprPreview.onCancel")};case ae.a.IMAGE:case ae.a.VIDEO:return{type:t,url:ce()(e.state,"sprPreview.url"),downloadParams:ce()(e.state,"sprPreview.downloadParams")};default:return null}};var de=()=>{const e=Object(L.a)().location,t=Object(a.useMemo)((()=>se(e)),[e.search,e.state]);return t?Object(s.jsx)(ie,{previewItem:t}):null},le=n(31),ue=n.n(le),be=n(208),pe=n(496),fe=n.n(pe),ye=n(298),Oe=n(667),ve=n(854),ge=n(668),he=n(207),je=n(383),me=n(237),Ie=n(221);const Ce=e=>Object(je.d)(Object(he.b)(e)),Ee=e=>Object(je.f)(Object(he.b)(e)),Te=e=>Object(g.g)(Object(h.b)(e)),xe=e=>Object(je.r)(Object(he.b)(e)),Se=e=>Object(je.i)(Object(he.b)(e)),_e=e=>{const t=Object(ee.a)(),n=Object(d.d)(Ee),o=Object(d.d)(Ce),i=Object(d.d)(xe),r=Object(d.d)(Te),c=Object(be.a)(Ie.g),l=Object(d.d)(Se),u=Object(ye.a)(),b=n.state,p=o.state,f=fe()(b),y=fe()(p);return Object(a.useEffect)((()=>{r&&(t&&b&&b!==f||p===me.e.WAITING)&&c(!1)}),[r,b,f,c,p,y]),Object(a.useEffect)((()=>{const e=()=>{u.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[u]),ue()(n)&&(i||ue()(o))||t&&r&&!l?null:Object(s.jsx)(a.Suspense,{fallback:null},Object(s.jsx)(Oe.a,Object(N.a)({},e,{outgoingCallDetails:n,incomingCallDetails:o})))},Ae=e=>Object(je.c)(Object(he.b)(e)),we=e=>Object(je.n)(Object(he.b)(e)),Me=e=>{const t=Object(d.d)(Ae),n=Object(d.d)(we);return Object(s.jsx)(ge.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(s.jsx)(ve.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(s.jsx)(_e,e)))};var Re=o.a.memo(Me),Pe=n(856),Ne=n(583),De=n(857),Le=n(210);var ke=()=>Object(s.jsx)(Ne.b,{className:"flex-column-container full-height"},Object(s.jsx)(De.a,null),Object(s.jsx)("div",{className:"flex-item-1 p-x-4 p-y-4 p-t-6"},Object(s.jsx)(Ne.a,{className:"full-height"},Object(s.jsx)(Le.c,{className:"flex-row-container center-x-y full-height"})))),Ue=n(584);var Ge=()=>Object(s.jsx)("div",{className:"flex-column-container full-height"},Object(s.jsx)(Ue.c,null,Object(s.jsx)(Ue.b,null)),Object(s.jsx)("div",{className:"flex-item-1 spr"},Object(s.jsx)(Le.c,{className:"flex-row-container center-x-y full-height"}))),Be=n(669),$e=n(391),Fe=n(294);var Ve=()=>{const e=Object(Fe.a)().isDarkMode;return Object(s.jsx)("div",{className:"flex-column-container full-height"},Object(s.jsx)($e.b,null,Object(s.jsx)($e.a,null)),Object(s.jsx)(Be.a,{isDarkMode:e,className:"flex-item-1 spr"},Object(s.jsx)(Le.c,{className:"flex-row-container center-x-y full-height"})))},ze=n(16);var He=()=>{const e=Object(T.z)()===ze.b,t=Object(L.a)(),{location:{pathname:n}}=t;return"/home"===n&&!Object(T.F)()?e?Object(s.jsx)(Ge,null):Object(s.jsx)(ke,null):Object(s.jsx)(Ve,null)},We=n(414);var qe=()=>{const e=Object(We.a)(),[t,n]=Object(a.useState)();return Object(a.useLayoutEffect)((()=>{Pe.a.preload(e).then((e=>{let[t]=e;n(t)}))}),[]),Object(s.jsx)("div",{className:"flex-column-container full-height full-width spr ovf-hidden"},t?Object(s.jsx)(a.Suspense,{fallback:Object(s.jsx)(He,null)},Object(s.jsx)(Pe.a,{pages:t})):Object(s.jsx)(He,null))};const Xe={"%":1,vw:1,vh:1,vmin:1,vmax:1},Ke=Object(B.a)(F.a,{target:"ewsnucf0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Ye=Object(B.a)("div",{target:"ewsnucf1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(H.d)("page.gradients"),";background-color:",Object(H.d)("page.backgroundColor"),";"),Qe=Object(B.a)("div",{target:"ewsnucf2"})((e=>{const{absoluteValue:t,unit:n}=Object(H.b)("page.minPadding",{defaultUnit:"px"})(e),a=2*t+n;return Object(s.css)("height:calc(100% - ",a,");width:calc(100% - ",a,");border-radius:",t?Object(H.d)("frame.borderRadius")(e):"0px",";")})," box-shadow:",(e=>Object(H.d)("frame.boxShadow")(e)),";overflow:hidden;background-color:var(--spr-lc-bgc-1);",(e=>!e.isContained&&`max-width: ${Object(H.d)("page.maxWidth")(e)};\n     max-height: ${Object(H.d)("page.maxHeight")(e)};\n     ${(e=>{const{absoluteValue:t,styleValue:n,unit:a}=Object(H.b)("page.maxWidth",{defaultUnit:"px"})(e),{absoluteValue:o,styleValue:i,unit:r}=Object(H.b)("page.maxHeight",{defaultUnit:"px"})(e),c=Object(H.d)("frame.borderRadius")(e);return Xe[r]&&Xe[a]?100===o||100===t?"":`border-radius: ${c};`:Xe[r]?100===o?"":`\n        @media screen and (min-width: calc(${n} + 1px)) {\n          border-radius: ${c};\n        };\n      `:Xe[a]?100===t?"":`\n        @media screen and (min-height: calc(${i} + 1px)) {\n          border-radius: ${c};\n        };\n      `:`\n      @media screen and (min-width: calc(${n} + 1px)) and (min-height: calc(${i} + 1px)) {\n        border-radius: ${c};\n      };\n    `})(e)}\n  `),""),Ze={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var Je=n(216),et=n(374);const tt=["/conversation/"],nt={survey:et.a.SURVEY,401:et.a[401],home:et.a.HOME,"guided-workflow":et.a.GUIDED_WORKFLOW,logout:et.a.LOGOUT},at=e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?et.a.KNOWLEDGE_BASE:et.a.KNOWLEDGE_BASE_LIST);break;case"conversation":n.length>3&&"survey"===n[3]?t=et.a.SURVEY:n.length>2&&(t="all"===n[2]?et.a.CONVERSATION_LIST:et.a.CONVERSATION);break;default:t=nt[n[1]]}return t};var ot=n(236);const it=()=>{var e;const t=Object(Je.a)(),n=Object(L.a)(),o=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,i=null===n||void 0===n?void 0:n.action,r=Object(a.useMemo)((()=>at(o)),[o]);Object(a.useEffect)((()=>{r&&((e,t)=>!("REPLACE"===t&&tt.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(o,i)&&t({action:ot.a.PAGE_OPENED,additional:{value:r}})}),[r,o])};var rt=n(494);var ct=o.a.memo(Object(D.h)((e=>{const t=Object(ee.a)(),n=Object(Je.a)();return it(),Object(a.useEffect)((()=>(n({action:ot.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:ot.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(s.jsx)(Ye,null,Object(s.jsx)(Qe,{ref:e.pageBoxRef,className:"spr",isContained:t||Object(rt.a)()},Object(s.jsx)(qe,null)))}))),st=n(762),dt=n(209);const lt=Object(dt.a)((()=>Promise.all([n.e(0),n.e(1),n.e(125)]).then(n.bind(null,1524))));var ut=()=>{const e=Object(f.a)();return null!==e&&void 0!==e&&e.autoExpireUserSessionTimeInMinutes?Object(s.jsx)(a.Suspense,{fallback:null},Object(s.jsx)(lt,null)):null},bt=n(231),pt=n.n(bt),ft=n(287),yt=n.n(ft),Ot=n(213),vt=n.n(Ot),gt=n(273),ht=n(356),jt=n(493),mt=n(585),It=n(1),Ct=n(328);const Et=e=>Object(H.d)("trigger.xPadding",20)({theme:e}),Tt=(e,t,n)=>{const a=Object(H.d)("trigger.align")({theme:e}),o=Object(H.d)("trigger.orientation")({theme:e})===Ct.j.VERTICAL,i=Object(H.d)("trigger.size")({theme:e});return a===Ct.h.CENTER_LEFT||a===Ct.h.CENTER_RIGHT?(t-(o?n:i))/2:Object(H.d)("trigger.yPadding",20)({theme:e})};var xt=n(9),St=n(388);const _t=o.a.createContext({triggerPosition:null,onAction:vt.a}),At=(e,t)=>{if(!e)return null;const{width:n,height:a,left:o,top:i}=e.getBoundingClientRect();return{width:n,height:a,left:o,right:t.innerWidth-o-n,bottom:t.innerHeight-i-a}},wt=e=>{let{children:t}=e;const n=Object(xt.b)(),o=Object(It.a)().triggerContainer,i=Object(a.useRef)(!0),r=Object(jt.a)(),c=Object(a.useMemo)((()=>o?n.document.querySelector(o):null),[o]),[d,l]=Object(a.useState)((()=>At(c,n))),u=Object(a.useCallback)(yt()((()=>{l((()=>At(c,n)))}),200),[]),b=Object(gt.a)(n,u),p=Object(ht.a)(n,u);i.current&&(i.current=!1,c&&(b(c),p(c))),Object(a.useLayoutEffect)((()=>{c&&u()}),[r]);const f=Object(a.useMemo)((()=>({triggerPosition:d,onAction:vt.a})),[d]);return c?Object(s.jsx)(_t.Provider,{value:f},t):(Object(m.a)('Error in Sprinklr Live Chat. "triggerContainer" missing in window.sprChatSettings.'),null)},Mt=e=>{let{children:t}=e;const n=Object(jt.a)(),o=Object(xt.b)(),i=Object(k.b)(),r=Object(H.d)("trigger.size")({theme:i}),[c,d]=Object(a.useState)(r),{bottomPadding:l,xPadding:u}=Object(a.useMemo)((()=>({bottomPadding:Tt(i,o.innerHeight,c),xPadding:Et(i)})),[i,n,c]),b=Object(H.d)("trigger.align")({theme:i}),p=Object(St.c)(b),f=Object(a.useCallback)((e=>{let{type:t,payload:n}=e;if("UPDATE_WIDTH"===t)d(n)}),[]),y=Object(a.useMemo)((()=>{const e=p?Ct.b.LEFT:Ct.b.RIGHT,t=p?Ct.b.RIGHT:Ct.b.LEFT;return{triggerPosition:{height:r,width:c,bottom:l,[e]:u,[t]:o.innerWidth-c-u,edge:e},onAction:f}}),[r,l,c,p,o.innerWidth,u]);return Object(s.jsx)(_t.Provider,{value:y},t)},Rt=e=>{let{children:t}=e;const n=Object(mt.a)()?wt:Mt;return Object(s.jsx)(n,null,t)},Pt=()=>Object(a.useContext)(_t);var Nt=n(206),Dt=n(212);const Lt=Object(dt.a)((()=>Promise.all([n.e(0),n.e(51)]).then(n.bind(null,1507)))),kt=e=>Object(g.f)(Object(h.b)(e)),Ut=e=>Object(Dt.b)(Object(Dt.q)(Object(he.c)(e)));var Gt=e=>{var t;const n=Object(d.d)(h.d),o=Object(d.d)(kt),i=Object(d.d)(Ut),r=Object(Nt.a)(),{triggerPosition:c}=Pt(),l=Object(mt.a)(),u=!(null===r||void 0===r||null===(t=r.proactivePrompt)||void 0===t||!t.showWithBoxOpen),b=Object(a.useRef)();b.current=Object(a.useMemo)((()=>pt()(n)),[n]);const p=o&&!l&&!u;return ue()(b.current)||p||!i?null:Object(s.jsx)(a.Suspense,{fallback:null},Object(s.jsx)(Lt,Object(N.a)({},e,{visiblePrompt:b.current,triggerPosition:c,showWithBoxOpen:u})))},Bt=n(251),$t=n(217);var Ft=Object(D.h)((e=>{var t;const n=Object(Nt.a)(),i=Object(Bt.a)(),r=Object(a.useRef)(),d=e.intl.formatMessage,l=Object(be.a)(c.e),u=!(null===(t=n.trigger)||void 0===t||!t.useCustomTrigger),b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(s.css)("html,body{height:100%;}body{margin:0;}",e,"")}(null===i||void 0===i?void 0:i.pageGlobalStyles),p=Object(a.useCallback)((()=>{l()}),[l]);return Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)(s.Global,{styles:b}),Object(s.jsx)(Ke,{"aria-label":d($t.a.liveChat),name:"spr-chat__page-frame",contentDidMount:p,title:d($t.a.liveChat)},Object(s.jsx)(s.Global,{styles:Ze}),Object(s.jsx)(ut,null),Object(s.jsx)(ct,Object(N.a)({},e,{pageBoxRef:r}))),u?Object(s.jsx)(Rt,null,Object(s.jsx)(Gt,null)):null,Object(s.jsx)(Re,{parentFrameRef:r}),Object(s.jsx)(st.c,{parentFrameRef:r}),Object(s.jsx)(de,null))})),Vt=n(456),zt=n.n(Vt),Ht=n(228),Wt=n(353),qt=n.n(Wt),Xt=n(240),Kt=n(858);const Yt=Object(B.a)("div",{target:"e19bzbh60"})("transition:width ",Kt.a,"ms ease,max-height ",Kt.a,"ms ease;position:fixed;box-sizing:border-box;z-index:",(e=>Object(H.d)("frame.zIndex")(e)),";padding:",(e=>Object(H.g)("frame.margin")(e)),";transform:",(e=>`translateZ(${Object(H.d)("frame.translateZ")(e)}px)`),";",(e=>(e=>{const t=Object(Xt.c)(Object(H.d)("frame.marginTop")({theme:e})),n=Object(Xt.c)(Object(H.d)("frame.marginBottom")({theme:e})),a=Object(Xt.c)(Object(H.d)("frame.marginLeft")({theme:e})),o=Object(Xt.c)(Object(H.d)("frame.marginRight")({theme:e}));return qt()([t,n,a,o],(e=>e>0))})(e.theme)&&`background-color: ${Object($.j)(Object(H.d)("frame.overlay.opacity")(e),Object(H.d)("frame.overlay.backgroundColour")(e))};`),";"),Qt=Object(B.a)(Yt,{target:"e19bzbh61"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,triggerPosition:i}=e;return Object(Kt.c)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,triggerPosition:i})}),""),Zt=Object(B.a)(Yt,{target:"e19bzbh62"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,triggerPosition:i}=e;return Object(Kt.b)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,triggerPosition:i})}),""),Jt=Object(B.a)("div",{target:"e19bzbh63"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:",(e=>Object(H.d)("frame.boxShadow")(e)),";border-radius:",(e=>Object(H.d)("frame.borderRadius")(e)),";",(e=>{const t=Object(Xt.c)(Object(H.d)("frame.marginTop")(e)),n=Object(Xt.c)(Object(H.d)("frame.marginBottom")(e)),a=Object(Xt.b)(Object(H.d)("frame.borderRadius")(e)),o=t>0?a[0]:0,i=t>0?a[1]:0,r=n>0?a[2]:0,c=n>0?a[3]:0;return e.isPhone&&`\n    border-radius: ${o}px ${i}px ${r}px ${c}px;\n    box-shadow: none;`}),";"),en="spr-chat-box-anim",tn=Object(B.a)(F.a,{target:"e19bzbh64"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),nn={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var an=n(859),on=n(264);const rn=e=>Object(g.g)(Object(h.b)(e)),cn=Object(D.h)((e=>{var t;const n=Object(d.d)(rn),i=e.intl.formatMessage,r=Object(Nt.a)(),l=!(null===r||void 0===r||null===(t=r.trigger)||void 0===t||!t.hideWhenOpen),u=Object(Je.a)(),b=Object(ee.a)(),f=Object(be.a)(c.e),[y,O]=Object(a.useState)(!1),[v,g]=Object(a.useState)(!1),h=Object(k.b)(),j=Object(d.d)(he.h),m=Object(Ht.d)(j);it();const I=Object(a.useCallback)(((e,t)=>{O(e),g(t)}),[]),{triggerPosition:C}=Pt(),E=Object(mt.a)()?Zt:Qt;p()((()=>{const e=n?on.a.CONVERSATION_WINDOW_CLOSED:on.a.CONVERSATION_WINDOW_OPENED;u({action:e})}),[n]);const T=Object(a.useCallback)((()=>{f()}),[]);p()((()=>{f()}),[m]);const x=Object(a.useMemo)((()=>({setIsFrameMaximized:I,isFrameMaximized:y,isFrameManuallyResized:v})),[I,y]),S=(_={theme:h},Object(s.css)(`\n  .spr-chat__box.spr-chat-box-anim-enter {\n    opacity: 0;\n    transform: translateZ(${Object(H.d)("frame.translateZ")(_)}px) translateY(20px) ;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-enter.spr-chat-box-anim-enter-active {\n    opacity: 1;\n    transform: translateZ(${Object(H.d)("frame.translateZ")(_)}px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-enter-done {\n    transform: translateZ(${Object(H.d)("frame.translateZ")(_)}px) ;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-exit {\n    opacity: 1;\n    transform: translateZ(${Object(H.d)("frame.translateZ")(_)}px) translateY(0);\n  }\n\n  .spr-chat__box.spr-chat-box-anim-exit.spr-chat-box-anim-exit-active {\n    opacity: 0;\n    transform: translateZ(${Object(H.d)("frame.translateZ")(_)}px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n`,""));var _;return Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)(s.Global,{styles:S}),Object(s.jsx)(zt.a,{in:!n,classNames:en,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(s.jsx)(an.a.Provider,{value:x},Object(s.jsx)(E,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:b,triggerPosition:C,isTriggerHiddenWhenMaximised:l,isMaximized:y},Object(s.jsx)(Jt,{isPhone:b},Object(s.jsx)(tn,{"aria-label":i($t.a.liveChat),name:"spr-chat__box-frame",isPhone:b,contentDidMount:T,title:i($t.a.liveChat)},Object(s.jsx)(s.Global,{styles:nn}),Object(s.jsx)("div",{className:"full-height full-width"},Object(s.jsx)(ut,null),Object(s.jsx)(qe,null))))))))}));var sn=o.a.forwardRef(((e,t)=>Object(s.jsx)(cn,{frameRef:t}))),dn=n(225),ln=n(296);const un={PULSE:e=>{const t=Object(H.d)("trigger.borderColor")({theme:e}),n=s.keyframes`0%{box-shadow:0 0 0 0 ${Object($.k)(t,.6)}}100%{box-shadow:0 0 0 10px ${Object($.k)(t,0)}}`;return Object(s.css)("animation:",n," 2s ease infinite;")}},bn=e=>{const{triggerAnimationInfo:t,theme:n}=e,a=ce()(t,"effect"),o=un[a];return o?o(n):""},pn=e=>{const t=Object(H.d)("trigger.size")(e);return Math.min(Math.max(...Object(Xt.b)(Object(H.d)("trigger.borderRadius",t/2)(e))),t/2)*(1-2**-.5)},fn=e=>.13*Object(H.d)("trigger.overlayIconButton.button.height")(e),yn=e=>Object(H.d)("trigger.size")(e)-.5*Object(H.d)("trigger.overlayIconButton.button.height")(e)-(pn(e)-fn(e)),On=e=>{let{direction:t,theme:n}=e;return`${t===ln.b.LTR?"right":"left"}: ${-.5*Object(H.d)("trigger.overlayIconButton.button.height")({theme:n})+pn({theme:n})-fn({theme:n})}px`},vn=Object(B.a)("div",{target:"eg0frzz0"})("width:",(e=>Object(H.d)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(H.d)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(H.d)("trigger.overlayIconButton.borderRadius",Object(H.d)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(H.d)("trigger.removeIcon.backgroundColor"),";position:absolute;bottom:",(e=>yn(e)),"px;",(e=>On(e)),";cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;transform:translatez(",Object(H.d)("frame.translateZ"),"px);z-index:",Object(H.d)("frame.zIndex"),";",W.o,"{visibility:visible;}"),gn=Object(B.a)("div",{target:"eg0frzz1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),hn=Object(B.a)(ne.b,{target:"eg0frzz2"})("width:",(e=>Object(H.d)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(H.d)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(H.d)("trigger.removeIcon.fill"),";"),jn=`\n  ${vn} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,mn=Object(B.a)("div",{target:"eg0frzz3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${e.applyRemoveIconStyles&&jn};\n    }\n  `),";"),In=e=>{let{showTrigger:t,showLabel:n,labelWidth:a,theme:o}=e;return n&&t?a+Object(H.d)("trigger.icon.width")({theme:o})+8+48:Object(H.d)("trigger.size")({theme:o})},Cn=Object(B.a)("div",{target:"eg0frzz4"})("background:transparent;overflow:hidden;box-shadow:",Object(H.d)("trigger.boxShadow"),";border-radius:",(e=>Object(H.d)("trigger.borderRadius",Object(H.d)("trigger.size")(e)/2+"px}")(e)),";height:",(e=>e.triggerPosition.height),"px;position:relative;transition:",(e=>{let{enableTriggerWidthTransition:t,animationDuration:n}=e;return t?`width ${n}s`:"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>e.triggerPosition.width),"px;",Object(W.e)(W.m,W.h),";"),En=Object(B.a)(F.a,{target:"eg0frzz5"})("border-radius:",(e=>Object(H.d)("trigger.borderRadius",Object(H.d)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),Tn=(e,t)=>{const n=!((Object(H.d)("trigger.backgroundUrls")({theme:e})||Object(H.d)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(s.css)("body{background-color:",n?Object(H.d)("trigger.backgroundColor")({theme:e}):"transparent",";}")},xn=Object(B.a)("div",{target:"eg0frzz6"})({name:"gztsdx",styles:"position:absolute;top:0;left:0;height:100%;width:100%;cursor:pointer;-webkit-touch-callout:none !important;-webkit-user-select:none !important;background:transparent;"});var Sn=n(1072);const _n=Object(B.a)("div",{target:"e1t174p80"})("cursor:pointer;position:relative;overflow:hidden;border-radius:",(e=>Object(H.d)("trigger.borderRadius",Object(H.d)("trigger.size")(e)/2+"px")(e)),";height:",(e=>Object(H.d)("trigger.size")(e)),"px;background-color:transparent;"),An=Object(B.a)(_n,{target:"e1t174p81"})("border:",(e=>`${Object(H.d)("trigger.borderWidth")(e)}px solid ${Object(H.d)("trigger.borderColor")(e)}`),";background-size:cover;"),wn=Object(B.a)(_n,{target:"e1t174p82"})("background-color:",Object(H.d)("trigger.backgroundColor"),";"),Mn={name:"15vzngf",styles:"bottom:0;top:0;transform:translate3d(-50%,-50%,0);transition:transform 0.16s linear,opacity 0.08s linear,-webkit-transform 0.16s linear;width:100%;"},Rn={name:"w8476o",styles:"transform:rotate(90deg) scale(0);opacity:0;"},Pn={name:"12ovxee",styles:"transform:scale(0);opacity:0;"},Nn={name:"k4n0ja",styles:"transform:rotate(0deg) scale(1);opacity:1;"},Dn={name:"20dbs8",styles:"transform:scale(1);opacity:1;"},Ln=Object(B.a)(ne.b,{target:"e1t174p83"})("fill:",Object(H.d)("trigger.closeIcon.color"),";height:",Object(H.d)("trigger.closeIcon.height"),"px;width:",Object(H.d)("trigger.closeIcon.width"),"px;"),kn=Object(B.a)("div",{target:"e1t174p84"})(Mn,";"),Un=Object(B.a)("div",{target:"e1t174p85"})(Mn,";"),Gn=Object(B.a)("h2",{target:"e1t174p86"})("color:",Object(H.d)("trigger.icon.color"),";",(e=>Object(W.c)("font-size","var(--spr-lc-fs-lg)","var(--spr-lc-fs-xl)")(e))," font-weight:600;margin-bottom:0;margin-top:0;line-height:1.4;white-space:nowrap;",Object(W.d)("margin-left: 8px","margin-right: 8px;"),";"),Bn=Object(B.a)(ne.b,{target:"e1t174p87"})("height:",Object(H.d)("trigger.icon.height"),"px;width:",Object(H.d)("trigger.icon.width"),"px;fill:",Object(H.d)("trigger.icon.color"),";");var $n=n(671),Fn=n(299);function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vn.apply(this,arguments)}function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zn.apply(this,arguments)}function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hn.apply(this,arguments)}function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wn.apply(this,arguments)}function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qn.apply(this,arguments)}function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xn.apply(this,arguments)}function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kn.apply(this,arguments)}var Yn=n(586);function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qn.apply(this,arguments)}var Zn=n(587);function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jn.apply(this,arguments)}let ea;const ta=e=>Object(H.d)("trigger.backgroundUrls")({theme:e})||Object(H.d)("trigger.icon.url")({theme:e});var na=o.a.memo((e=>{const{customTriggerIconUrls:t,onLoad:n,onError:o,...i}=e,r=Object(a.useRef)(null),c=ea||(ea=Object(Zn.a)(t,1)[0]);return Object(a.useEffect)((()=>{if(r.current){const e=new Image,t=()=>{r.current.style.backgroundImage=`url("${c}")`,n(!0)};return e.addEventListener("load",t),e.addEventListener("error",o),e.src=c,()=>{e.removeEventListener("load",t),e.removeEventListener("error",o)}}}),[c,o,n]),Object(s.jsx)(An,Jn({},i,{ref:r}))})),aa=n(581);const oa={MINIMIZED:"MINIMIZED",MAXIMIZED:"MAXIMIZED"},ia={[aa.a.BOX]:{Icon:function(e){return Object(s.jsx)("svg",Vn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBox",focusable:"false"},e),Object(s.jsx)("path",{d:"M12.7,0.3L12.7,0.3H1.3C-0.2,0.3,0,1.7,0,1.7v7.7c0,1.1,0.9,1.2,1.2,1.2c0.1,0,0.1,0,0.1,0h3.6c0.5,0,0.7,0.2,0.7,0.2 l4.5,2.9c0.1,0.1,0.2,0.1,0.3,0.1c0.6,0,0.7-0.8,0.7-0.8v-2.3h1.6c1.3,0,1.4-1.2,1.4-1.2V1.5C14.1,0.4,12.9,0.3,12.7,0.3z M8.2,7.4 H2.5C2.2,7.4,2,7.2,2,6.9c0-0.3,0.2-0.5,0.5-0.5h5.7c0.3,0,0.5,0.2,0.5,0.5S8.5,7.4,8.2,7.4z M11.2,4.4H2.5C2.2,4.4,2,4.2,2,3.9 c0-0.3,0.2-0.5,0.5-0.5h8.8c0.3,0,0.5,0.2,0.5,0.5C11.7,4.2,11.5,4.4,11.2,4.4z"}))},Component:Bn},[aa.a.BUBBLE]:{Icon:function(e){return Object(s.jsx)("svg",zn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBubble",focusable:"false"},e),Object(s.jsx)("path",{d:"M12.9,2.5c-0.9-1.1-2.5-2-3.8-2.3C3.5-0.9,0.7,3.3,0.3,4.9c-0.9,4.9,1.2,7.6,2.5,8.9C2.9,14,3.1,14,3.1,13.9 c-0.2-3,1.7-3.5,5.6-3.3c1.4,0.1,4.7-1.1,5-3.7C14,5.3,14.1,4.1,12.9,2.5z M3.1,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8 s0.8,0.4,0.8,0.8C3.9,6.1,3.5,6.5,3.1,6.5z M6.9,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8 C7.7,6.1,7.3,6.5,6.9,6.5z M10.7,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.6,6.1,11.2,6.5,10.7,6.5z"}))},Component:Bn},[aa.a.COLLABORATORS]:{Icon:function(e){return Object(s.jsx)("svg",Hn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCollaborators",focusable:"false"},e),Object(s.jsx)("path",{d:"M12.103 7.498c.077 0 .145 0 .216.005l.11.013-.02-.157a5.233 5.233 0 00-2.392-3.729l-.247-.148A2.925 2.925 0 017.22 5.37l-.224.008A2.944 2.944 0 014.3 3.673l-.078-.192-.212.126a5.236 5.236 0 00-2.445 3.908 1.823 1.823 0 01.325-.018 2.893 2.893 0 012.945 2.836A2.797 2.797 0 014.11 12.2l-.155.16.114.072a5.598 5.598 0 002.625.822l.322.01.336-.01a5.591 5.591 0 002.724-.894 2.744 2.744 0 01-.88-2.026 2.86 2.86 0 012.907-2.836z"}),Object(s.jsx)("path",{d:"M1.893 8.51a1.934 1.934 0 00-1.087.332l-.015.011a1.801 1.801 0 00-.792 1.481 1.858 1.858 0 001.72 1.816l.174.008.17-.008a1.856 1.856 0 001.723-1.816A1.889 1.889 0 001.893 8.51zm10.214 0a1.864 1.864 0 00-1.893 1.824 1.837 1.837 0 001.248 1.715 1.936 1.936 0 00.477.102l.168.007.17-.008a1.822 1.822 0 00-.17-3.64zM6.998 4.366a1.864 1.864 0 001.894-1.824A1.848 1.848 0 006.998.737 1.864 1.864 0 005.105 2.56a1.849 1.849 0 001.893 1.805z"}))},Component:Bn},[aa.a.CLOUD]:{Icon:function(e){return Object(s.jsx)("svg",Wn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCloud",focusable:"false"},e),Object(s.jsx)("path",{d:"M7.1,0C3.2,0,0.1,3.1,0.1,6.9c0,1.7,0.5,3,1.5,4.2l-1,2.5C0.5,13.8,0.6,14,0.8,14h0.1l3.7-0.6C5.4,13.7,6,13.8,7,13.8h0.1 c3.8,0,6.8-3.1,6.8-6.9C13.9,3.1,10.9,0,7.1,0z M3.2,7.8C2.8,7.8,2.4,7.4,2.4,7s0.4-0.8,0.8-0.8S4,6.6,4,7C4,7.5,3.7,7.8,3.2,7.8z M7.2,7.8C6.7,7.8,6.4,7.4,6.4,7s0.4-0.8,0.8-0.8S8,6.6,8,7C7.9,7.5,7.6,7.8,7.2,7.8z M11,7.8c-0.4,0-0.8-0.4-0.8-0.8 s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.8,7.5,11.5,7.8,11,7.8z"}))},Component:Bn},[aa.a.MIC]:{Icon:function(e){return Object(s.jsx)("svg",Kn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerMic",focusable:"false"},e),Object(s.jsx)("path",{id:"Shape-Copy-3",d:"M7.1,0C4.5,0,2.5,2,2.5,4.5V6H2.3c-1.1,0-2,0.9-2,2v1.2c0,1.1,0.9,2,2,2h1.5c0.3,0,0.5-0.2,0.5-0.5V6.4 C4.3,6.2,4.1,6,3.9,6H3.4V4.5c0-2,1.6-3.6,3.7-3.6s3.7,1.6,3.7,3.6V6h-0.5C9.9,6,9.8,6.2,9.8,6.4v4.2c0,0.3,0.2,0.5,0.5,0.5h0.4 c-0.1,0.3-0.3,0.5-0.6,0.7c-0.4,0.3-1,0.5-1.9,0.6c-0.2-0.4-0.6-0.7-1.1-0.7c-0.7,0-1.2,0.5-1.2,1.2C5.8,13.5,6.3,14,7,14 c0.5,0,0.9-0.3,1.1-0.8c1-0.1,1.9-0.3,2.4-0.8c0.5-0.4,0.8-0.9,0.9-1.4h0.2c1.1,0,2-0.9,2-2V7.9c0-1.1-0.9-2-2-2h-0.2V4.5 C11.6,2,9.6,0,7.1,0z"}))},Component:Bn},[aa.a.ELLIPSIS]:{Icon:function(e){return Object(s.jsx)("svg",qn({viewBox:"0 0 32 32","data-icon-name":"ChatTriggerEllipsis",focusable:"false"},e),Object(s.jsx)("path",{id:"Combined-Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M28.28387,3.51813C30.33623,3.51813,32,5.1819,32,7.23426 v14.45782c0,2.05236-1.66377,3.71613-3.71613,3.71613l-1.29445-0.00002l0.61046,3.88583 c0.02475,0.1576,0.00841,0.31823-0.04651,0.46661l-0.04838,0.10876c-0.21984,0.41951-0.71518,0.60119-1.14754,0.43933 l-0.10658-0.04768l-9.26093-4.85285L3.71613,25.40821C1.66377,25.40821,0,23.74444,0,21.69208V7.23426 C0,5.1819,1.66377,3.51813,3.71613,3.51813H28.28387z M16,11.3664c-1.7103,0-3.09677,1.38647-3.09677,3.09677 S14.2897,17.55995,16,17.55995s3.09678-1.38647,3.09678-3.09678S17.7103,11.3664,16,11.3664z M7.52941,12.639 c-1.03959,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417s1.88235-0.81671,1.88235-1.82417 S8.56901,12.639,7.52941,12.639z M24.47059,12.639c-1.0396,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417 c1.03959,0,1.88235-0.81671,1.88235-1.82417S25.51018,12.639,24.47059,12.639z"}))},Component:Bn},[aa.a.ELLIPSIS_STROKE]:{Icon:function(e){return Object(s.jsx)("svg",Xn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerEllipsisStroke",focusable:"false"},e),Object(s.jsx)("path",{d:"M2.4,13.8c-0.2-0.1-0.3-0.2-0.3-0.4v-2.6H1.7C0.7,10.8,0,10,0,9.1V1.9c0-1,0.8-1.7,1.7-1.7h10.5c1,0,1.7,0.8,1.7,1.7v7.2 c0,1-0.8,1.7-1.7,1.7H5.7l-2.8,2.8C2.7,13.8,2.5,13.9,2.4,13.8L2.4,13.8z M0.8,1.9v7.2c0,0.5,0.4,0.9,0.9,0.9h0.8 C2.8,10,3,10.2,3,10.5v2l2.2-2.3C5.3,10.1,5.4,10,5.5,10h6.8c0.5,0,0.9-0.4,0.9-0.9V1.9c0-0.5-0.4-0.9-0.9-0.9H1.7 C1.2,1,0.8,1.4,0.8,1.9z M6.2,5.5C6.2,5,6.6,4.7,7,4.7c0.5,0,0.8,0.4,0.8,0.8C7.8,6,7.5,6.3,7,6.3S6.2,6,6.2,5.5L6.2,5.5z M9.3,5.5 c0-0.5,0.4-0.8,0.8-0.8c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.3,0.8-0.8,0.8S9.3,6,9.3,5.5L9.3,5.5z M3,5.5C3,5,3.4,4.7,3.8,4.7 c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.4,0.8-0.8,0.8l0,0C3.4,6.3,3,6,3,5.5L3,5.5z"}))},Component:Bn},[aa.a.CROSS]:{Icon:function(e){return Object(s.jsx)("svg",Qn({viewBox:"0 0 14 14","data-icon-name":"Close",focusable:"false"},e),Object(s.jsx)("path",{d:"M12.8 12.7c.3-.3.3-.8 0-1L8 7l4.6-4.7c.3-.3.3-.8 0-1.1-.3-.3-.8-.3-1.1 0L6.9 6 2.3 1.3C2 1 1.5 1 1.2 1.3s-.3.7 0 1L5.9 7l-4.7 4.7c-.3.3-.3.8 0 1.1.3.3.8.3 1 0l4.7-4.7 4.7 4.6c.3.3.8.3 1.2 0z"}))},Component:Ln},[aa.a.CHEVRON]:{Icon:Yn.a,Component:Ln}};var ra=o.a.memo((e=>{const{className:t,minimizedIconClassName:n,maximizedIconClassName:i,triggerIconName:r=aa.a.BUBBLE,label:c,innerLabelRef:d,mode:l=oa.MINIMIZED,closeIconName:u=aa.a.CROSS,onLoad:b=vt.a}=e,{Icon:p,Component:f}=ia[r],{Icon:y,Component:O}=ia[u],v=Object(k.b)(),[g,h]=Object(a.useState)(!1),j=Object(a.useMemo)((()=>ta(v)),[v]),m=Object($n.a)(),I=Object(Fn.a)(),C=l===oa.MINIMIZED,E=!ue()(j)&&C&&!g,T=!m,x=T||C;Object(a.useEffect)((()=>{E||b(!0)}),[b,E]);const S=Object(a.useCallback)((()=>{h(!0)}),[]);return E?Object(s.jsx)(na,{"data-testid":"custom-trigger",className:t,theme:v,customTriggerIconUrls:j,onLoad:b,onError:S}):Object(s.jsx)(wn,{className:t,theme:v},Object(s.jsx)(o.a.Fragment,null,T&&Object(s.jsx)(kn,{className:`center-x-y ${i}`,css:C?Rn:Nn},Object(s.jsx)(O,{alt:y})),x&&Object(s.jsx)(Un,{className:`center-x-y ${n}`,css:C?Dn:Pn,"data-testid":"default-trigger"},Object(s.jsx)(f,{alt:p}),c?Object(s.jsx)(Gn,{ref:d,className:"m-b-0",direction:I,isPhone:m,theme:v},c):null)))})),ca=n(226),sa=n(224);const da=e=>Object(g.g)(Object(h.b)(e));var la=n(292),ua=n(242);const ba=e=>Object(h.b)(e).meta.isTriggerManuallyHidden,pa=()=>{var e;(()=>{const e=Object(be.a)(Ie.h),t=Object(f.a)(),n=v.a.getNoDisplayConfigFilter(t),{hasPassed:o}=Object(O.a)(n,{defaultValue:!1,logOnSuccess:!0}),i=Object(d.d)(da);Object(a.useEffect)((()=>{!ue()(n)&&i&&(o&&Object(m.a)("Sprinklr Chat hidden by display criteria"),e({value:o}))}),[n,i,o])})();const t=Object(be.a)(Ie.c),n=null===(e=Object(Nt.a)().trigger)||void 0===e?void 0:e.hideTimeout,o=Object(d.c)(),i=Object(a.useRef)(null),r=Object(a.useRef)(!n),c=Object(d.d)(ba),s=Object(d.d)(he.h),l=Object(Ht.d)(s),u=Object(Je.a)();r.current||(r.current=!0,Object(la.c)(l).then((e=>{e&&Date.now()<=e?i.current=window.setTimeout((()=>{o({type:ua.p,payload:{}})}),e-Date.now()):o({type:ua.p,payload:{}})})));const b=Object(a.useCallback)((async()=>{n&&(await Object(la.m)(l,Date.now()+n),i.current=window.setTimeout((()=>{o({type:ua.p,payload:{}})}),n)),u({action:on.a.CHAT_TRIGGER_REMOVED}),t()}),[n,t,o,l]);return Object(a.useEffect)((()=>{c||(Object(la.j)(l),i.current&&(window.clearTimeout(i.current),i.current=null))}),[c]),b};var fa=n(326),ya=n(286);const Oa=e=>Object(g.g)(Object(h.b)(e)),va=e=>Object(g.f)(Object(h.b)(e)),ga=e=>Object(h.d)(e);var ha=o.a.memo(Object(D.h)((e=>{const{direction:t}=Object(te.a)(),{showTrigger:n,handleShowTriggerStateChange:o}=e,i=Object(fa.a)(n),r=Object(Nt.a)(),c=Object(k.b)(),l=Object(ee.a)(),{triggerPosition:u,onAction:b}=Pt(),p="vertical"===c.styles.trigger.orientation,y=Object(a.useRef)(),v=Object(a.useRef)(null),g=Object(sa.a)()(ya.a.getTriggerConfig(r),"label"),h=pa(),[j,m]=Object(a.useState)(!0),[I,C]=Object(a.useState)(g),[E,T]=Object(a.useState)(!1),x=Object(d.d)(Oa),S=Object(d.d)(va),_=Object(d.d)(ga),A=Object(be.a)(Ie.g),w=Object(Je.a)(),M=ya.a.getAnimationInfoOfTrigger(r),{showChatTriggerAnimation:R}=(()=>{var e,t;const[n,o]=Object(a.useState)(!1),i=Object(f.a)(),r=Object(Nt.a)(),c=null===(e=i.triggerAnimationConfig)||void 0===e?void 0:e.filter,{hasPassed:s}=Object(O.a)(c,{defaultValue:!1,logOnSuccess:!0}),d=null===(t=r.trigger)||void 0===t?void 0:t.animation,l=ce()(d,"effect");return Object(a.useEffect)((()=>{!ue()(c)&&l&&o(s)}),[c,l,s]),{showChatTriggerAnimation:n}})(),P=fe()(S),N=fe()(n),D=fe()(I);Object(a.useEffect)((()=>{(P||!N)&&!(S||!n)&&w({action:on.a.TRIGGER_VISIBLE})}),[n,N,S,P,w]),Object(a.useEffect)((()=>(n&&!l&&(y.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{T(!0)}))}))),()=>{y.current&&window.cancelAnimationFrame(y.current)})),[n,l]),Object(a.useEffect)((()=>{const e=l&&!p?"":g;D!==e&&C(e)}),[l,g,D,p]);const L=e.intl.formatMessage,U=ya.a.canTriggerBeManuallyRemoved(r)&&x&&ue()(_),B=Object(a.useMemo)((()=>Object(H.d)("trigger.icon.type")({theme:c})),[c]),$=Object(a.useMemo)((()=>Object(H.d)("trigger.closeIcon.type")({theme:c})),[c]),F=Object(a.useMemo)((()=>ta(c)),[c]),V=Object(a.useCallback)((()=>{A(!x),x&&w({action:on.a.CHAT_TRIGGER_CLICKED,...(null===F||void 0===F?void 0:F.length)>1?{additional:{triggerImageUrl:ea}}:{}})}),[x,A]),z=Object(a.useCallback)((()=>{var e;b({type:"UPDATE_WIDTH",payload:In({showLabel:x&&!!I,showTrigger:i.current,labelWidth:(e=v.current,e?Math.ceil(e.clientWidth):0),theme:c})})}),[b,x,I,c]),W=Object(a.useCallback)((()=>{i.current&&z()}),[z]),q=Object(a.useCallback)((e=>{o(e),z()}),[z]),X=Object(a.useCallback)((e=>{m(e)}),[]),K=S||l&&!x,Y=L(x?$t.a.openChat:$t.a.closeChat),Q=Object(a.useRef)(),Z=()=>{Q.current&&window.clearTimeout(Q.current)};return K?null:Object(s.jsx)(mn,{enableTriggerHideIcon:U,applyRemoveIconStyles:j,"data-testid":"triggerContainer"},Object(s.jsx)(ca.a,{component:Cn,showTrigger:n,css:R?bn({triggerAnimationInfo:M,theme:c}):"",triggerPosition:u,enableTriggerWidthTransition:!p&&E,animationDuration:I!==D?"0.25":"0.08",theme:c,className:"spr-chat__trigger-box spr-live-chat-frame",id:"spr-chat__trigger-button",onClick:V,ariaLabel:Y,onTouchStart:()=>{X(!1),Q.current=window.setTimeout((()=>{X(!0),Q.current=void 0}),700)},onTouchEnd:Z,onTouchCancel:Z,onContextMenu:e=>{e.preventDefault(),X(!0)}},Object(s.jsx)(En,{"aria-label":L($t.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:W,shouldHideLocaleLoader:!0,title:L($t.a.liveChat)},Object(s.jsx)(s.Global,{styles:Tn(c,{isMinimized:x})}),Object(s.jsx)("div",{className:"full-height full-width"},Object(s.jsx)(dn.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(s.jsx)(Sn.a,{window:t,onResize:z,resizeRefs:v},(e=>Object(s.jsx)(ra,{className:"full-width",label:I,triggerIconName:B,closeIconName:$,mode:x?oa.MINIMIZED:oa.MAXIMIZED,onLoad:q,innerLabelRef:e,minimizedIconClassName:"spa",maximizedIconClassName:"spa"})))})))),Object(s.jsx)(xn,null)),U&&n&&Object(s.jsx)(vn,{onClick:h,"data-testid":"triggerCloseIconContainer",direction:t},Object(s.jsx)(gn,null,Object(s.jsx)(hn,{alt:G.a,name:ne.a.CLOSE}))))}))),ja=n(450),ma=n(624);const Ia=Object(B.a)("div",{target:"e5qlxka0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(H.d)("trigger.overlayIconButton.borderRadius",Object(H.d)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";position:absolute;bottom:",(e=>yn(e)),"px;",(e=>On(e)),";height:",Object(H.d)("trigger.overlayIconButton.button.height"),"px;width:",Object(H.d)("trigger.overlayIconButton.button.width"),"px;transform:translatez(",Object(H.d)("frame.translateZ"),"px);z-index:",Object(H.d)("frame.zIndex"),";box-shadow:var(--spr-lc-bxs-3);"),Ca=Object(B.a)(F.a,{target:"e5qlxka1"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Ea=Object(B.a)(ma.a,{target:"e5qlxka2"})("font-size:",Object(H.d)("trigger.overlayIconButton.fontSize"),";height:",Object(H.d)("trigger.overlayIconButton.button.height"),"px;width:",Object(H.d)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(H.d)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(H.d)("trigger.overlayIconButton.borderRadius",Object(H.d)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),Ta="spr-chat-proactive-box-anim",xa=Object(s.css)(".",Ta,"-enter{opacity:0;}.",Ta,"-enter.",Ta,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",Ta,"-enter-done,.",Ta,"-appear{}.",Ta,"-exit{opacity:1;}.",Ta,"-exit.",Ta,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),Sa=Object(B.a)("div",{target:"e5qlxka3"})({name:"79elbk",styles:"position:relative;"});var _a=n(393);const Aa=Object(ja.a)((e=>Object(g.g)(Object(h.b)(e))),(e=>Object(g.f)(Object(h.b)(e))),(e=>Object(Dt.x)(Object(Dt.q)(Object(h.c)(e)))),((e,t,n)=>({isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n})));var wa=o.a.memo(Object(D.h)((e=>{const{isMinimized:t,totalUnreadCount:n,isChatTriggerHidden:a}=Object(d.d)(Aa),i=Object(k.b)(),{direction:r}=Object(te.a)(),{isTriggerLoaded:c}=e,l=e.intl.formatMessage;return a?null:Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)(s.Global,{styles:xa}),Object(s.jsx)(zt.a,{in:t,timeout:{enter:300,exit:0},classNames:Ta,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(s.jsx)(Sa,{className:"notification-container"},Object(s.jsx)(_a.a,{unreadCount:n,shouldPlay:!0}),n>0&&c?Object(s.jsx)(Ia,{className:"spr-chat__notification-box spr-live-chat-frame","data-testid":"notification-frame-container",theme:i,direction:r},Object(s.jsx)(Ca,{name:"spr-chat__notification-frame","aria-label":l($t.a.liveChatNotification),title:l($t.a.liveChatNotification)},Object(s.jsx)(Ea,{className:"center-x-y",count:n}))):null)))})));const Ma=Object(B.a)("div",{target:"ezg1tqb0"})("position:fixed;bottom:",(e=>e.triggerPosition.bottom),"px;",(e=>{const t=e.triggerPosition.edge;return`${[t]}: ${[e.triggerPosition[t]]}px;`})," z-index:",(e=>Object(H.d)("frame.zIndex")(e)),";",(e=>{let{theme:t,triggerPosition:n}=e;const a=Object(H.d)("trigger.orientation")({theme:t}),o=Object(H.d)("trigger.align")({theme:t}),i=Math.abs((n.width-n.height)/2),r=Object(H.d)("frame.translateZ")({theme:t});if(a===Ct.j.VERTICAL)switch(o){case"B_L":case"C_L":return`transform: rotate(90deg) translate3d(-${i}px, ${i}px, ${r}px)`;case"B_R":case"C_R":return`transform: rotate(270deg) translate3d(${i}px, ${i}px, ${r}px)`;default:return`transform: translatez(${r}px)`}return`transform: translatez(${r}px)`}),";");var Ra=()=>{const e=Object(k.b)(),[t,n]=Object(a.useState)(!1),{triggerPosition:o}=Pt();return Object(s.jsx)(Ma,{theme:e,triggerPosition:o},Object(s.jsx)(ha,{showTrigger:t,handleShowTriggerStateChange:n}),Object(s.jsx)(wa,{isTriggerLoaded:t}))};var Pa=()=>{const e=Object(a.useRef)(null);return Object(s.jsx)(Rt,null,Object(s.jsx)(Gt,{chatBoxFrameRef:e}),Object(s.jsx)(Ra,null),Object(s.jsx)(sn,{ref:e}),Object(s.jsx)(Re,{parentFrameRef:e}),Object(s.jsx)(st.c,{parentFrameRef:e}),Object(s.jsx)(de,null))},Na=n(482),Da=n(555),La=n(846);const ka=e=>{const t=Object(a.useState)(null);return Object(s.jsx)(La.a.Provider,{value:t},e.children)};var Ua=n(297),Ga=n(660),Ba=n(622),$a=n(845),Fa=n(553);const Va=o.a.createContext("MODERN");var za=e=>Object(s.jsx)(Va.Provider,{value:e.skin},e.children),Ha=n(862),Wa=n(863),qa=n(215),Xa=n.n(qa),Ka=n(15),Ya=n.n(Ka);const Qa=e=>{let{isDarkMode:t,theme:n,targetDocument:i,container:r,children:c}=e;const{targetElement:d,cssVariables:l}=Object(a.useMemo)((()=>{const e=i&&r?i.querySelector(r):null,a=Ya()(t?n.tokens.dark:Xa()(n.tokens,"dark"),((e,t,n)=>`${e}${n}:${t};`),"");let o;return o=e?t?`.spr-lc-dark{${a}}`:`.spr-lc-light{${a}}`:`:root {${a}}`,{targetElement:e,cssVariables:o}}),[n.tokens,t,i,r]);return Object(a.useLayoutEffect)((()=>{d&&function(e,t){t?e.classList.contains("spr-lc-dark")||(e.classList.add("spr-lc-dark"),e.classList.remove("spr-lc-light")):e.classList.contains("spr-lc-light")||(e.classList.add("spr-lc-light"),e.classList.remove("spr-lc-dark"))}(d,t)}),[d,t]),Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)(s.Global,{styles:Object(s.css)(l,"","")}),c)};var Za=n(617);var Ja=e=>{let{theme:t,isDarkMode:n,targetDocument:o,container:i,skipAutoGenerate:r,children:c}=e;const d=Object(a.useContext)(Va),l=Object(a.useMemo)((()=>{if(r)return t;const e=Object(Za.a)({appColors:t.colors,appTypography:t.typography,appIcons:t.icons,appTokens:t.tokens});return Object(Za.c)({appBase:e,styles:t.styles,skin:d})}),[t,d,r]);return Object(s.jsx)(k.a,{theme:l},Object(s.jsx)(Qa,{isDarkMode:n,targetDocument:o,container:i,theme:l},c))};function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eo.apply(this,arguments)}const to={direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},no=e=>{let{direction:t,device:n,skin:o,ownerDocument:i,intl:r,children:c,themeConfig:d}=e;const l=Object(a.useMemo)((()=>{return e=i,Object(Fa.a)({container:e.head});var e}),[i]);return Object(s.jsx)(s.CacheProvider,{value:l},Object(s.jsx)(D.e,r,Object(s.jsx)(za,{skin:o},Object(s.jsx)(Ja,eo({},d,{targetDocument:i}),Object(s.jsx)(Wa.b,{direction:t},Object(s.jsx)(Ha.b,{device:n},c))))))};no.defaultProps=to;var ao=no,oo=n(410),io=n.n(oo),ro=n(220);const co=[Ct.h.BOTTOM_LEFT,Ct.h.CENTER_LEFT],so=[Ct.h.BOTTOM_RIGHT,Ct.h.CENTER_RIGHT],lo=e=>{let{triggerAlign:t,frameAlign:n}=e;if(co.includes(t))switch(n){case Ct.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:return Ct.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT;case Ct.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return Ct.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT;case Ct.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:return Ct.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;case Ct.c.VIEWPORT_BOTTOM_RIGHT_BOX_BOTTOM_RIGHT:return Ct.c.VIEWPORT_BOTTOM_LEFT_BOX_BOTTOM_LEFT;default:return n||Ct.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT}switch(n){case Ct.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return Ct.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT;case Ct.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return Ct.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT;case Ct.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:return Ct.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT;case Ct.c.VIEWPORT_BOTTOM_LEFT_BOX_BOTTOM_LEFT:return Ct.c.VIEWPORT_BOTTOM_RIGHT_BOX_BOTTOM_RIGHT;default:return n||Ct.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT}},uo=[Ct.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT,Ct.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT,Ct.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT,Ct.c.VIEWPORT_BOTTOM_LEFT_BOX_BOTTOM_LEFT],bo=[Ct.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT,Ct.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT,Ct.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT,Ct.c.VIEWPORT_BOTTOM_RIGHT_BOX_BOTTOM_RIGHT],po=e=>t=>(e=>{var t;let{framePath:n,styles:a}=e;const o=a.trigger.align,i=null===(t=a[n])||void 0===t?void 0:t.align;if(o&&i){if(so.includes(o)&&uo.includes(i))return!0;if(co.includes(o)&&bo.includes(i))return!0}return!1})({framePath:e,styles:t})?{...t,[e]:{...t[e],align:lo({triggerAlign:t.trigger.align,frameAlign:t[e].align})}}:t,fo=e=>{const{trigger:t}=null!==e&&void 0!==e?e:ro.a,{align:n=Ct.h.BOTTOM_RIGHT,orientation:a=Ct.j.HORIZONTAL}=null!==t&&void 0!==t?t:ro.a;let o=null!==n&&void 0!==n?n:Ct.h.BOTTOM_RIGHT;return"left"===n&&(o=Ct.h.BOTTOM_LEFT),"right"===n&&(o=Ct.h.BOTTOM_RIGHT),{...e,trigger:{...e.trigger,orientation:a,align:o}}};var yo=e=>{let{children:t}=e;const{theme:n}=Object(Nt.a)(),o=Object(We.a)(),i=Object(a.useMemo)((()=>{return Object(Za.c)({appBase:Object(Za.a)({appColors:n.colors,appTypography:n.typography,appIcons:n.icons,appTokens:n.tokens}),styles:(e=n.styles,io()([fo,po("frame"),po("proactivePrompt")])(e)),skin:o});var e}),[n,o]);return Object(s.jsx)(k.a,{theme:i},t)},Oo=n(46);const vo=Object(D.h)((e=>{let{intl:t,children:n}=e;const o=Object(Fe.a)(),i=Object(te.a)(),r=Object(We.a)(),c=Object(k.b)(),d=Object(a.useMemo)((()=>({locale:t.locale,messages:t.messages,defaultLocale:t.defaultLocale})),[t]),l=Object(a.useMemo)((()=>({theme:c,isDarkMode:o.isDarkMode,skipAutoGenerate:!0,container:`#${Oo.a}`})),[c,o.isDarkMode]);return Object(s.jsx)(ao,{ownerDocument:Object(It.b)().document,direction:i.direction,device:o.device,skin:r,intl:d,themeConfig:l},n)})),go=e=>{let{children:t}=e;return Object(s.jsx)(yo,null,Object(s.jsx)(vo,null,t))};var ho=o.a.memo(go),jo=n(663),mo=n(48),Io=n.n(mo),Co=n(2),Eo=n.n(Co);const To=e=>{let{id:t,filters:n,cb:o}=e;const i=Object(O.a)(n);return Object(a.useEffect)((()=>{o({data:{id:t,filters:n,results:Eo()(i)?Io()(i,(e=>({passed:e.hasPassed}))):{passed:i.hasPassed}}})}),[i,n,o]),null},xo=e=>Object(g.b)(Object(h.b)(e)),So=o.a.memo((e=>{const t=Object(d.d)(xo);return Object(s.jsx)(o.a.Fragment,null,Io()(t,((e,t)=>{let{filters:n,cb:a}=e;return Object(s.jsx)(To,{key:t,id:t,filters:n,cb:a})})),e.children)}));var _o=n(865),Ao=n(454);var wo=function(e){let{applicationConfig:t,store:n,history:i}=e;const r=Object(It.b)(),b=Object(T.P)()?Ft:Pa,p=Object(a.useMemo)((()=>Object(Ao.a)(r.document)),[r.document]);return Object(a.useEffect)((()=>{n.dispatch(Object(c.d)())}),[n]),Object(s.jsx)(s.CacheProvider,{value:p},Object(s.jsx)(Ba.a,{window:r},Object(s.jsx)(d.a,{store:n},Object(s.jsx)(R.c.Provider,{value:t},Object(s.jsx)(ka,null,Object(s.jsx)(u.b,null,Object(s.jsx)(Na.a,null,Object(s.jsx)(jo.b,null,Object(s.jsx)(M,{history:i},Object(s.jsx)(Ua.b,null,Object(s.jsx)(Ga.a,null,Object(s.jsx)($a.b,{history:i},Object(s.jsx)(P.a,null,Object(s.jsx)(Da.b,null,Object(s.jsx)(So,null,Object(s.jsx)(_o.b,null,Object(s.jsx)(_,null,Object(s.jsx)(ho,null,Object(s.jsx)(l.b,null,Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)(b,null)))))))))))))))))))))},Mo=n(348),Ro=function(e){return"@@redux-saga/"+e},Po=Ro("CANCEL_PROMISE"),No=Ro("CHANNEL_END"),Do=Ro("IO"),Lo=Ro("MATCH"),ko=Ro("MULTICAST"),Uo=Ro("SAGA_ACTION"),Go=Ro("SELF_CANCELLATION"),Bo=Ro("TASK"),$o=Ro("TASK_CANCEL"),Fo=Ro("TERMINATE"),Vo=Ro("LOCATION"),zo=n(387),Ho=n(674),Wo=function(e){return null===e||void 0===e},qo=function(e){return null!==e&&void 0!==e},Xo=function(e){return"function"===typeof e},Ko=function(e){return"string"===typeof e},Yo=Array.isArray,Qo=function(e){return e&&Xo(e.then)},Zo=function(e){return e&&Xo(e.next)&&Xo(e.throw)},Jo=function e(t){return t&&(Ko(t)||ni(t)||Xo(t)||Yo(t)&&t.every(e))},ei=function(e){return e&&Xo(e.take)&&Xo(e.close)},ti=function(e){return Xo(e)&&e.hasOwnProperty("toString")},ni=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var ai=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(a){n=setTimeout(a,e,t)}));return a[Po]=function(){clearTimeout(n)},a},oi=function(e){return function(){return e}}(!0),ii=function(){};var ri=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var ci=function(e,t){Object(zo.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function si(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function di(e){var t=!1;return function(){t||(t=!0,e())}}var li=function(e){throw e},ui=function(e){return{value:e,done:!0}};function bi(e,t,n){void 0===t&&(t=li),void 0===n&&(n="iterator");var a={meta:{name:n},next:e,throw:t,return:ui,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(a[Symbol.iterator]=function(){return a}),a}function pi(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var fi=function(e){return Array.apply(null,new Array(e))},yi=function(e){return function(t){return e(Object.defineProperty(t,Uo,{value:!0}))}},Oi=function(e){return e===Fo},vi=function(e){return e===$o},gi=function(e){return Oi(e)||vi(e)};function hi(e,t){var n=Object.keys(e),a=n.length;var o,i=0,r=Yo(e)?fi(a):{},c={};return n.forEach((function(e){var n=function(n,c){o||(c||gi(n)?(t.cancel(),t(n,c)):(r[e]=n,++i===a&&(o=!0,t(r))))};n.cancel=ii,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function ji(e){return{name:e.name||"anonymous",location:mi(e)}}function mi(e){return e[Vo]}var Ii={isEmpty:oi,put:ii,take:ii};function Ci(e,t){void 0===e&&(e=10);var n=new Array(e),a=0,o=0,i=0,r=function(t){n[o]=t,o=(o+1)%e,a++},c=function(){if(0!=a){var t=n[i];return n[i]=null,a--,i=(i+1)%e,t}},s=function(){for(var e=[];a;)e.push(c());return e};return{isEmpty:function(){return 0==a},put:function(c){var d;if(a<e)r(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=c,i=o=(o+1)%e;break;case 4:d=2*e,n=s(),a=n.length,o=n.length,i=0,n.length=d,e=d,r(c)}},take:c,flush:s}}var Ei=function(){return Ii},Ti=function(e){return Ci(e,3)},xi=function(e){return Ci(e,4)},Si=Object.freeze({__proto__:null,none:Ei,fixed:function(e){return Ci(e,1)},dropping:function(e){return Ci(e,2)},sliding:Ti,expanding:xi}),_i="TAKE",Ai="PUT",wi="ALL",Mi="RACE",Ri="CALL",Pi="FORK",Ni="CANCEL",Di="SELECT",Li="ACTION_CHANNEL",ki="CANCELLED",Ui=function(e,t){var n;return(n={})[Do]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Gi=function(e){return Ui(Pi,Object(zo.a)({},e.payload,{detached:!0}))};function Bi(e,t){return void 0===e&&(e="*"),Jo(e)?Ui(_i,{pattern:e}):ei(n=e)&&n[ko]&&qo(t)&&Jo(t)?Ui(_i,{channel:e,pattern:t}):ei(e)?Ui(_i,{channel:e}):void 0;var n}function $i(e,t){return Wo(t)&&(t=e,e=void 0),Ui(Ai,{channel:e,action:t})}function Fi(e){var t=Ui(wi,e);return t.combinator=!0,t}function Vi(e){var t=Ui(Mi,e);return t.combinator=!0,t}function zi(e,t){var n,a=null;return Xo(e)?n=e:(Yo(e)?(a=e[0],n=e[1]):(a=e.context,n=e.fn),a&&Ko(n)&&Xo(a[n])&&(n=a[n])),{context:a,fn:n,args:t}}function Hi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ui(Ri,zi(e,n))}function Wi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ui(Pi,zi(e,n))}function qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Gi(Wi.apply(void 0,[e].concat(n)))}function Xi(e){return void 0===e&&(e=Go),Ui(Ni,e)}function Ki(e){void 0===e&&(e=ri);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ui(Di,{selector:e,args:n})}function Yi(e,t){return Ui(Li,{pattern:e,buffer:t})}var Qi=Hi.bind(null,ai);function Zi(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Ji=Zi,er=[],tr=0;function nr(e){try{ir(),e()}finally{rr()}}function ar(e){er.push(e),tr||(ir(),cr())}function or(e){try{return ir(),e()}finally{cr()}}function ir(){tr++}function rr(){tr--}function cr(){var e;for(rr();!tr&&void 0!==(e=er.shift());)nr(e)}var sr=function(e){return function(t){return e.some((function(e){return pr(e)(t)}))}},dr=function(e){return function(t){return e(t)}},lr=function(e){return function(t){return t.type===String(e)}},ur=function(e){return function(t){return t.type===e}},br=function(){return oi};function pr(e){var t="*"===e?br:Ko(e)?lr:Yo(e)?sr:ti(e)?lr:Xo(e)?dr:ni(e)?ur:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var fr={type:No},yr=function(e){return e&&e.type===No};function Or(e){void 0===e&&(e=xi());var t=!1,n=[];return{take:function(a){t&&e.isEmpty()?a(fr):e.isEmpty()?(n.push(a),a.cancel=function(){si(n,a)}):a(e.take())},put:function(a){if(!t){if(0===n.length)return e.put(a);n.shift()(a)}},flush:function(n){t&&e.isEmpty()?n(fr):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var a=0,o=e.length;a<o;a++){(0,e[a])(fr)}}}}}function vr(e,t){void 0===t&&(t=Ei());var n,a=!1,o=Or(t),i=function(){a||(a=!0,Xo(n)&&n(),o.close())};return n=di(n=e((function(e){yr(e)?i():o.put(e)}))),a&&n(),{take:o.take,flush:o.flush,close:i}}function gr(){var e=function(){var e,t=!1,n=[],a=n,o=function(){a===n&&(a=n.slice())},i=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(fr)}))};return(e={})[ko]=!0,e.put=function(e){if(!t)if(yr(e))i();else for(var o=n=a,r=0,c=o.length;r<c;r++){var s=o[r];s[Lo](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=br),t?e(fr):(e[Lo]=n,o(),a.push(e),e.cancel=di((function(){o(),si(a,e)})))},e.close=i,e}(),t=e.put;return e.put=function(e){e[Uo]?t(e):ar((function(){t(e)}))},e}function hr(e,t){var n=e[Po];Xo(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var jr,mr=0,Ir=function(){return++mr};function Cr(e){e.isRunning()&&e.cancel()}var Er=((jr={}).TAKE=function(e,t,n){var a=t.channel,o=void 0===a?e.channel:a,i=t.pattern,r=t.maybe,c=function(e){e instanceof Error?n(e,!0):!yr(e)||r?n(e):n(Fo)};try{o.take(c,qo(i)?pr(i):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},jr.PUT=function(e,t,n){var a=t.channel,o=t.action,i=t.resolve;ar((function(){var t;try{t=(a?a.put:e.dispatch)(o)}catch(r){return void n(r,!0)}i&&Qo(t)?hr(t,n):n(t)}))},jr.ALL=function(e,t,n,a){var o=a.digestEffect,i=mr,r=Object.keys(t);if(0!==r.length){var c=hi(t,n);r.forEach((function(e){o(t[e],i,c[e],e)}))}else n(Yo(t)?[]:{})},jr.RACE=function(e,t,n,a){var o=a.digestEffect,i=mr,r=Object.keys(t),c=Yo(t)?fi(r.length):{},s={},d=!1;r.forEach((function(e){var t=function(t,a){d||(a||gi(t)?(n.cancel(),n(t,a)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=ii,s[e]=t})),n.cancel=function(){d||(d=!0,r.forEach((function(e){return s[e].cancel()})))},r.forEach((function(e){d||o(t[e],i,s[e],e)}))},jr.CALL=function(e,t,n,a){var o=t.context,i=t.fn,r=t.args,c=a.task;try{var s=i.apply(o,r);if(Qo(s))return void hr(s,n);if(Zo(s))return void Pr(e,s,c.context,mr,ji(i),!1,n);n(s)}catch(d){n(d,!0)}},jr.CPS=function(e,t,n){var a=t.context,o=t.fn,i=t.args;try{var r=function(e,t){Wo(e)?n(t):n(e,!0)};o.apply(a,i.concat(r)),r.cancel&&(n.cancel=r.cancel)}catch(c){n(c,!0)}},jr.FORK=function(e,t,n,a){var o=t.context,i=t.fn,r=t.args,c=t.detached,s=a.task,d=function(e){var t=e.context,n=e.fn,a=e.args;try{var o=n.apply(t,a);if(Zo(o))return o;var i=!1;return bi((function(e){return i?{value:e,done:!0}:(i=!0,{value:o,done:!Qo(o)})}))}catch(r){return bi((function(){throw r}))}}({context:o,fn:i,args:r}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:ji(t)}(d,i);or((function(){var t=Pr(e,d,s.context,mr,l,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},jr.JOIN=function(e,t,n,a){var o=a.task,i=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&si(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Yo(t)){if(0===t.length)return void n([]);var r=hi(t,n);t.forEach((function(e,t){i(e,r[t])}))}else i(t,n)},jr.CANCEL=function(e,t,n,a){var o=a.task;t===Go?Cr(o):Yo(t)?t.forEach(Cr):Cr(t),n()},jr.SELECT=function(e,t,n){var a=t.selector,o=t.args;try{n(a.apply(void 0,[e.getState()].concat(o)))}catch(i){n(i,!0)}},jr.ACTION_CHANNEL=function(e,t,n){var a=t.pattern,o=Or(t.buffer),i=pr(a),r=function t(n){yr(n)||e.channel.take(t,i),o.put(n)},c=o.close;o.close=function(){r.cancel(),c()},e.channel.take(r,i),n(o)},jr.CANCELLED=function(e,t,n,a){n(a.task.isCancelled())},jr.FLUSH=function(e,t,n){t.flush(n)},jr.GET_CONTEXT=function(e,t,n,a){n(a.task.context[t])},jr.SET_CONTEXT=function(e,t,n,a){var o=a.task;ci(o.context,t),n()},jr);function Tr(e,t){return e+"?"+t}function xr(e){var t=e.name,n=e.location;return n?t+"  "+Tr(n.fileName,n.lineNumber):t}function Sr(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var _r=null,Ar=[],wr=function(){_r=null,Ar.length=0},Mr=function(){var e=Ar[0],t=Ar.slice(1),n=e.crashedEffect?function(e){var t=mi(e);return t?t.code+"  "+Tr(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+xr(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+xr(e.meta)})),[Sr(Ar)]).join("\n")};function Rr(e,t,n,a,o,i,r){var c;void 0===r&&(r=ii);var s,d,l=0,u=null,b=[],p=Object.create(n),f=function(e,t,n){var a,o=[],i=!1;function r(e){t(),s(),n(e,!0)}function c(t){o.push(t),t.cont=function(c,s){i||(si(o,t),t.cont=ii,s?r(c):(t===e&&(a=c),o.length||(i=!0,n(a))))}}function s(){i||(i=!0,o.forEach((function(e){e.cont=ii,e.cancel()})),o=[])}return c(e),{addTask:c,cancelAll:s,abort:r,getTasks:function(){return o}}}(t,(function(){b.push.apply(b,f.getTasks().map((function(e){return e.meta.name})))}),y);function y(t,n){if(n){if(l=2,(i={meta:o,cancelledTasks:b}).crashedEffect=_r,Ar.push(i),O.isRoot){var a=Mr();wr(),e.onError(t,{sagaStack:a})}d=t,u&&u.reject(t)}else t===$o?l=1:1!==l&&(l=3),s=t,u&&u.resolve(t);var i;O.cont(t,n),O.joiners.forEach((function(e){e.cb(t,n)})),O.joiners=null}var O=((c={})[Bo]=!0,c.id=a,c.meta=o,c.isRoot=i,c.context=p,c.joiners=[],c.queue=f,c.cancel=function(){0===l&&(l=1,f.cancelAll(),y($o,!1))},c.cont=r,c.end=y,c.setContext=function(e){ci(p,e)},c.toPromise=function(){return u||(u=Ji(),2===l?u.reject(d):0!==l&&u.resolve(s)),u.promise},c.isRunning=function(){return 0===l},c.isCancelled=function(){return 1===l||0===l&&1===t.status},c.isAborted=function(){return 2===l},c.result=function(){return s},c.error=function(){return d},c);return O}function Pr(e,t,n,a,o,i,r){var c=e.finalizeRunEffect((function(t,n,a){if(Qo(t))hr(t,a);else if(Zo(t))Pr(e,t,d.context,n,o,!1,a);else if(t&&t[Do]){(0,Er[t.type])(e,t.payload,a,l)}else a(t)}));u.cancel=ii;var s={meta:o,cancel:function(){0===s.status&&(s.status=1,u($o))},status:0},d=Rr(e,s,n,a,o,i,r),l={task:d,digestEffect:b};return r&&(r.cancel=d.cancel),u(),d;function u(e,n){try{var o;n?(o=t.throw(e),wr()):vi(e)?(s.status=1,u.cancel(),o=Xo(t.return)?t.return($o):{done:!0,value:$o}):o=Oi(e)?Xo(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==s.status&&(s.status=3),s.cont(o.value)):b(o.value,a,u)}catch(i){if(1===s.status)throw i;s.status=2,s.cont(i,!0)}}function b(t,n,a,o){void 0===o&&(o="");var i,r=Ir();function s(n,o){i||(i=!0,a.cancel=ii,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(r,n):e.sagaMonitor.effectResolved(r,n)),o&&function(e){_r=e}(t),a(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:r,parentEffectId:n,label:o,effect:t}),s.cancel=ii,a.cancel=function(){i||(i=!0,s.cancel(),s.cancel=ii,e.sagaMonitor&&e.sagaMonitor.effectCancelled(r))},c(t,r,s)}}function Nr(e,t){var n=e.channel,a=void 0===n?gr():n,o=e.dispatch,i=e.getState,r=e.context,c=void 0===r?{}:r,s=e.sagaMonitor,d=e.effectMiddlewares,l=e.onError,u=void 0===l?pi:l;for(var b=arguments.length,p=new Array(b>2?b-2:0),f=2;f<b;f++)p[f-2]=arguments[f];var y=t.apply(void 0,p);var O,v=Ir();if(s&&(s.rootSagaStarted=s.rootSagaStarted||ii,s.effectTriggered=s.effectTriggered||ii,s.effectResolved=s.effectResolved||ii,s.effectRejected=s.effectRejected||ii,s.effectCancelled=s.effectCancelled||ii,s.actionDispatched=s.actionDispatched||ii,s.rootSagaStarted({effectId:v,saga:t,args:p})),d){var g=Mo.d.apply(void 0,d);O=function(e){return function(t,n,a){return g((function(t){return e(t,n,a)}))(t)}}}else O=ri;var h={channel:a,dispatch:yi(o),getState:i,sagaMonitor:s,onError:u,finalizeRunEffect:O};return or((function(){var e=Pr(h,y,c,v,ji(t),!0,void 0);return s&&s.effectResolved(v,e),e}))}var Dr=function(e){var t,n=void 0===e?{}:e,a=n.context,o=void 0===a?{}:a,i=n.channel,r=void 0===i?gr():i,c=n.sagaMonitor,s=Object(Ho.a)(n,["context","channel","sagaMonitor"]);function d(e){var n=e.getState,a=e.dispatch;return t=Nr.bind(null,Object(zo.a)({},s,{context:o,channel:r,dispatch:a,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return r.put(t),n}}}return d.run=function(){return t.apply(void 0,arguments)},d.setContext=function(e){ci(o,e)},d},Lr=Dr,kr=n(323),Ur=n.n(kr),Gr=n(369),Br=n(254);class $r{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:a,reducer:o,preloadedState:i,saga:r}=this.data,c=n.clientContext;Ur()(a,"HTTP Client is not configured"),Object(Gr.b)(a),Ur()(o,"Reducer is not configured");const s=[];const d=Lr();s.push(d);const l=Object(Mo.e)(o,i,Object(Mo.a)(...s));r&&d.run(r);const u={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:Br.a};return l.dispatch(u),this.data.store=l,l}}var Fr=function(e){return{done:!0,value:e}},Vr={};function zr(e){return ei(e)?"channel":ti(e)?String(e):Xo(e)?e.name:String(e)}function Hr(e,t,n){var a,o,i,r=t;function c(t,n){if(r===Vr)return Fr(t);if(n&&!o)throw r=Vr,n;a&&a(t);var c=n?e[o](n):e[r]();return r=c.nextState,i=c.effect,a=c.stateUpdater,o=c.errorState,r===Vr?Fr(t):i}return bi(c,(function(e){return c(null,e)}),n)}function Wr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i,r={done:!1,value:Bi(e)},c=function(e){return{done:!1,value:Wi.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return Hr({q1:function(){return{nextState:"q2",effect:r,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeEvery("+zr(e)+", "+t.name+")")}function qr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i,r,c={done:!1,value:Bi(e)},s=function(e){return{done:!1,value:Wi.apply(void 0,[t].concat(a,[e]))}},d=function(e){return{done:!1,value:Xi(e)}},l=function(e){return i=e},u=function(e){return r=e};return Hr({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return i?{nextState:"q3",effect:d(i)}:{nextState:"q1",effect:s(r),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:s(r),stateUpdater:l}}},"q1","takeLatest("+zr(e)+", "+t.name+")")}function Xr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i,r={done:!1,value:Bi(e)},c=function(e){return{done:!1,value:Hi.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return Hr({q1:function(){return{nextState:"q2",effect:r,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeLeading("+zr(e)+", "+t.name+")")}function Kr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Wi.apply(void 0,[Wr,e,t].concat(a))}var Yr=n(198),Qr=n(279),Zr=n(311);function Jr(e){return e.type===Zr.p||e.type===Zr.t}function*ec(e){try{yield Fi(e.filter(Jr).map((e=>$i(e))))}catch(t){Object(Yr.b)(t)}}function*tc(e){try{const{events:t}=e.payload;yield Hi(ec,t)}catch(t){Object(Yr.b)(t)}}function*nc(){try{yield Kr(Qr.j,tc)}catch(e){Object(Yr.b)(e)}}function*ac(e){try{yield Qi(e),yield $i(Object(c.h)())}catch(t){Object(Yr.b)(t)}}function*oc(){let e;const t=yield Yi([Zr.p,Zr.t]);for(;;)try{const n=yield Bi(t);e&&!e.isCancelled()&&(yield Xi(e)),n.type===Zr.p&&(e=yield Wi(ac,n.payload.waitTime),yield $i(Object(c.f)({waitTime:n.payload.waitTime,reason:n.payload.reason}))),n.type===Zr.t&&(yield $i(Object(c.h)()))}catch(n){Object(Yr.b)(n)}}function*ic(){try{yield Fi([Wi(oc)])}catch(e){Object(Yr.b)(e)}}function*rc(){try{yield Fi([Wi(nc),Wi(ic)])}catch(e){Object(Yr.b)(e)}}var cc=n(267),sc=n.n(cc),dc=n(49),lc=n.n(dc),uc=n(325),bc=n.n(uc),pc=n(659),fc=n.n(pc),yc=n(233),Oc=n.n(yc),vc=n(565),gc=n.n(vc),hc=n(263),jc=n.n(hc),mc=n(235),Ic=n(241),Cc=n(222),Ec=n(272),Tc=n(281),xc=n(417),Sc=n(239);function*_c(e){let{chatMessage:t,conversationId:n,transientId:a,postbackParentMessageId:o,error:i}=e;try{yield $i({type:mc.K,payload:{chatMessage:new Cc.a(t).setCreationTime(Date.now()).build(),conversationId:Cc.a.getConversationId(t)}}),yield $i({payload:{conversationId:n,transientId:a,postbackParentMessageId:o,error:i},type:mc.H})}catch(r){Object(Yr.b)(r)}}function*Ac(e){try{Object(Tc.k)(e)&&(yield $i(Object(Sc.p)(e)))}catch(t){Object(Yr.b)(t)}}function wc(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(Tc.j)(e)||(t=Xa()(e,"id"));return yield Object(xc.u)(t)}))}function*Mc(e){try{return yield Hi(wc,e)}catch(t){return void Object(Yr.b)(t)}}function*Rc(e){try{const n=e.id,a=Cc.a.getConversationId(e);let o;const i=ce()(Ec.a.getAttachment(Cc.a.getMessagePayload(e)),"messageId");try{o=yield Hi(wc,e)}catch(t){throw yield Hi(_c,{chatMessage:e,conversationId:a,transientId:n,postbackParentMessageId:i,error:{status:1}}),t}Object(Tc.k)(o)&&(yield $i({payload:{chatMessage:o,conversationId:a,transientId:n},type:mc.I}))}catch(n){Object(Yr.b)(n)}}var Pc=n(1073);var Nc=()=>Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Object(Pc.a)()).default}));function*Dc(e){try{const t=(yield Nc()).makeTextMessage(e.payload);yield Hi(Ac,t),yield Hi(Rc,t)}catch(t){Object(Yr.b)(t)}}function*Lc(){try{yield Kr(mc.bb,Dc)}catch(e){Object(Yr.b)(e)}}var kc=n(214);const Uc=(e,t)=>{const n=Ec.a.getAttachment(Cc.a.getMessagePayload(e));return sc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},Gc=(e,t)=>{const n=Ec.a.getAttachment(Cc.a.getMessagePayload(e));return sc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},Bc={[kc.c.CARD]:Uc,[kc.c.CAROUSEL]:Uc,[kc.c.CO_BROWSE_INVITE]:Uc,[kc.c.PRODUCT_CARD]:Uc,[kc.c.PRODUCT_SHOWCASE_CARD]:Uc,[kc.c.INFO_CARD]:Uc,[kc.c.PRODUCT_BANNER]:Uc,[kc.c.PRODUCT_LIST]:Uc,[kc.c.FORM]:Gc,[kc.c.CONTACT_DETAILS_FORM]:Gc,[kc.c.SECURE_FORM]:Gc,[kc.c.APPOINTMENT]:(e,t)=>sc()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[kc.c.SURVEY]:(e,t)=>sc()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}}),[kc.c.VIDEO_CHAT]:(e,t)=>{var n;return(null===(n=null===e||void 0===e?void 0:e.messagePayload)||void 0===n?void 0:n.attachment)?sc()(e,{messagePayload:{attachment:{currentState:{$merge:{state:t.state,createdTime:Date.now()}},previousStates:{$push:[e.messagePayload.attachment.currentState]}}}}):e},[kc.c.RICH_TEXT_CAROUSEL]:Uc,[kc.c.SURVEY_QUESTION]:(e,t)=>{const n=Ec.a.getAttachment(Cc.a.getMessagePayload(e));return sc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{response:t.response}:{}),{submitted:!0})}}})}},$c=(e,t)=>{var n,a;if(!e||!(null===t||void 0===t?void 0:t.messagePayload))return{};switch(null===(a=null===(n=e.messagePayload)||void 0===n?void 0:n.attachment)||void 0===a?void 0:a.type){case kc.c.CAROUSEL:case kc.c.CO_BROWSE_INVITE:case kc.c.PRODUCT_CARD:case kc.c.PRODUCT_SHOWCASE_CARD:case kc.c.INFO_CARD:case kc.c.PRODUCT_BANNER:case kc.c.PRODUCT_LIST:case kc.c.CARD:return{buttonId:t.messagePayload.attachment.buttonId};case kc.c.SURVEY:return{submitted:!t.messagePayload.attachment.reSubmittable,opened:!0};case kc.c.SECURE_FORM:case kc.c.FORM:case kc.c.CONTACT_DETAILS_FORM:return{filledForm:t.messagePayload.attachment.filledForm};case kc.c.APPOINTMENT:{const e=t.messagePayload.attachment;return{selectedDate:e.selectedDate,selectedSlot:e.selectedSlot}}case kc.c.SURVEY_QUESTION:return{response:t.messagePayload.attachment.response};default:return{}}};function*Fc(e){let{chatMessage:t,conversationId:n,params:a}=e;var o,i;try{const e=null===(i=null===(o=null===t||void 0===t?void 0:t.messagePayload)||void 0===o?void 0:o.attachment)||void 0===i?void 0:i.type;if(!e)return null;const r=Bc[e];if(r){const e=r(t,a);return yield $i({type:mc.K,payload:{chatMessage:e,conversationId:n}}),e}}catch(r){Object(Yr.b)(r)}return null}function*Vc(e){const{postback:{messageId:t},conversationId:n}=e.payload;let a,o;try{const i=yield Ki(he.c);o=Object(Dt.k)(Object(Dt.m)(i,n),t);const r=(yield Nc()).makeTemplatePostbackAttachmentMessage(e.payload);a=yield Hi(Fc,{chatMessage:o,conversationId:n,params:$c(o,r)}),r&&(yield Hi(Ac,r),yield Hi(Rc,r),e.promise.resolve())}catch(i){a&&(yield $i({type:mc.K,payload:{chatMessage:o,conversationId:n}})),e.promise.reject(),Object(Yr.b)(i)}}function*zc(){try{yield Kr(mc.ab,Vc)}catch(e){Object(Yr.b)(e)}}function*Hc(e){try{const t=(yield Nc()).makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield Hi(Ac,t),yield Hi(Rc,t))}catch(t){Object(Yr.b)(t)}}function*Wc(){try{yield Kr(mc.T,Hc)}catch(e){Object(Yr.b)(e)}}var qc=n(285),Xc=n.n(qc),Kc=n(244),Yc=n(310),Qc=n(415),Zc=n(259);const Jc=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:"",locale:"en",agentPersonaDetail:{name:"BRAND_DISPLAY_NAME",image:"BRAND_DISPLAY_IMAGE"}});function*es(e){try{const t=Io()(e,(e=>e.sender)),n=yield Hi(Qc.b,e),a=Io()(n,(e=>Zc.a.getId(e)));let o=[];lc()(t,(e=>{!a.includes(e)&&Object(Kc.c)(e)&&(o=[...o,Jc(e)])})),yield $i({type:Yc.h,payload:{users:[...n,...o]}})}catch(t){Object(Yr.b)(t)}}function*ts(e){try{const t=Xc()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return Ya()(t,((t,a)=>{const o=a.sender;return n[o]||!!Object(Ht.g)(e,o)||(n[o]=o,t.push(a)),t}),[])})(yield Ki(he.h),t);if(0===n.length)return;yield Hi(es,n)}catch(t){Object(Yr.b)(t)}}function*ns(e){try{yield Hi(es,Xc()(e))}catch(t){Object(Yr.b)(t)}}const as="/co-browse/conversation",os=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Gr.a.post(`${as}/${n?"completed":"cancelled"}?messageId=${t}`)).data}))},is=e=>{let{messageId:t,actionPayload:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Gr.a.post(`${as}/push?messageId=${t}`,{type:"CO_BROWSE",payload:n})).data}))},rs=e=>{let{messageId:t,payload:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Gr.a.post(`${as}/push/status?messageId=${t}`,n)).data}))},cs=e=>{let{messageId:t,otp:n,additionalInfo:a}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return rs({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:a}})}))},ss=e=>{let{messageId:t,reason:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return rs({messageId:t,payload:{status:"FAILED",reason:n}})}))},ds=e=>{let{messageId:t,payload:n}=e;return Gr.a.post(`${as}/event?messageId=${t}`,n)},ls=e=>{let{messageId:t}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Gr.a.post(`${as}/session/live?messageId=${t}`)).data}))};var us=n(392),bs=n(575),ps=n(867),fs=n(295);function*ys(e){try{const{messageId:t}=yield Ki(he.f);yield Hi(is,{messageId:t,actionPayload:e.payload})}catch(t){Object(Yr.b)(t)}}function*Os(e){const{messageId:t,conversationId:n,agentId:a,type:o}=yield Ki(he.f);try{const{otp:o,additionalInfo:i}=e.payload;yield Hi(cs,{messageId:t,otp:o,additionalInfo:i}),yield $i(Object(us.k)({state:{messageId:t,conversationId:n,agentId:a}}))}catch(i){try{yield $i(Object(us.f)({reason:ps.a.OTP_SEND_FAILED,type:o})),yield Hi(ss,{messageId:t,reason:ps.a.OTP_SEND_FAILED})}catch(r){Object(Yr.b)(i)}}}function*vs(e){try{const{messageId:t,reason:n,type:a}=e.payload;yield $i(Object(us.f)({reason:n,type:a})),yield Hi(ss,{messageId:t,reason:n})}catch(t){Object(Yr.b)(t)}}function*gs(e){let{messageId:t}=e;try{const[e,n]=yield Vi([Bi((e=>{let{type:n,payload:a}=e;return n===mc.I&&ce()(a,"chatMessage.messagePayload.attachment.messageId")===t})),Bi((e=>{let{type:n,payload:a}=e;return n===mc.H&&ce()(a,"postbackParentMessageId")===t})),Bi(bs.h),Bi(bs.i)]);e&&(yield $i(Object(us.s)())),n&&(yield $i(Object(us.f)({reason:ps.a.POSTBACK_SEND_FAILED,type:fs.a.REQUEST})))}catch(n){Object(Yr.b)(n)}}function*hs(e){try{const{messageId:t}=yield Ki(he.f);yield Hi(ds,{messageId:t,payload:e.payload})}catch(t){Object(Yr.b)(t)}}function*js(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:a}=e.payload;if(n||!t)return;return void(yield Hi(os,{messageId:t,markCompletedSession:a}))}catch(t){Object(Yr.b)(t)}}function*ms(e){try{const{mode:t}=e.payload;yield $i(Object(us.b)(e.payload)),yield $i(Object(us.l)({type:t,payload:{status:"ACCEPT"}}))}catch(t){Object(Yr.b)(t)}}function*Is(e){try{const{settings:{skipUserPermissionForRemoteControl:t}={}}=e.payload;t&&(yield $i(Object(us.k)({state:{skipUserPermissionForRemoteControl:t}})))}catch(t){Object(Yr.b)(t)}}function*Cs(e){try{const{mode:t}=e.payload;yield $i(Object(us.l)({type:t,payload:{status:"REJECT"}}))}catch(t){Object(Yr.b)(t)}}function*Es(e){try{const{mode:t,shouldNotifyAgent:n}=e.payload;n&&(yield $i(Object(us.l)({type:t,payload:{status:"STOP"}})))}catch(t){Object(Yr.b)(t)}}function*Ts(e){const{messageId:t,conversationId:n,agentId:a,type:o}=e.payload.state;try{const[i]=yield Fi([Hi(ls,{messageId:t}),Hi(ts,{sender:a,conversationId:n})]);i?yield $i(Object(us.r)(e.payload)):yield $i(Object(us.f)({reason:ps.a.RESUME_SESSION_FAILED,type:o}))}catch(i){yield $i(Object(us.g)({messageId:t,reason:ps.a.RESUME_SESSION_FAILED,type:o})),Object(Yr.b)(i)}}function*xs(e){try{e.payload.type===fs.a.AGENT_PRESENT&&(yield $i(Object(us.k)({state:e.payload})))}catch(t){Object(Yr.b)(t)}}function*Ss(e){var t,n;try{const{conversationId:n,messageId:a,url:o}=e.payload,i=yield Ki(he.c),r=Object(Dt.k)(Object(Dt.m)(i,n),a);yield $i(Object(us.e)({messageId:a,conversationId:n,agentId:r.sender,agentPresentUrl:o,type:fs.a.AGENT_PRESENT})),yield Hi(Fc,{chatMessage:r,conversationId:n,params:{}}),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){null===(n=e.promise)||void 0===n||n.reject(),Object(Yr.b)(a)}}function*_s(){try{yield Fi([Kr(bs.p,Os),Kr(bs.q,vs),Kr(bs.h,js),Kr(bs.a,ms),Kr(bs.e,Cs),Kr(bs.c,Es),Kr(bs.b,Is),Kr(bs.f,ys),Kr(bs.l,Ts),Kr(bs.g,hs),Kr(bs.j,xs),Kr(bs.s,Ss)])}catch(e){Object(Yr.b)(e)}}var As=n(384);function*ws(e){const t=e?Xc()(e):As.a;if(0===t.length)return;const n=Cc.a.getConversationId(t[0]),a=Io()(t,(e=>({sender:Cc.a.getSender(e),conversationId:n})));yield Hi(ts,a)}var Ms=n(234),Rs=n.n(Ms),Ps=n(51),Ns=n.n(Ps),Ds=n(675),Ls=n(676),ks=n(868),Us=n(52),Gs=n(499),Bs=n(408),$s=n(869),Fs=e=>{let{messageId:t,messagePayload:n,creationTime:a,conversationId:o,sender:i,clientMessageId:r,deleted:c}=e;if(n&&(!Ec.a.isEmpty(n)||c))return(new Cc.a).setId(t).setMessagePayload(n).setConversationId(o).setCreationTime(a||+new Date).setSender(i).setClientMessageId(r).setDeleted(c).build()},Vs=n(308);const zs=(e,t)=>{const n=Zc.a.getId(t),a=Ec.a.getAttachment(Cc.a.getMessagePayload(e)),o=Object($s.a)(a,{user:t}),i=qt()(Ds.a.getFields(Ls.a.getForm(a)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&ue()(o[t])}));return!Object(Kc.b)(n)&&i},Hs=e=>({resolve:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.promise.resolve(Object.assign(Object.assign({},e),t))},reject:e.promise.reject}),Ws=(e,t,n,a)=>{let o;return o="string"===typeof e?(new Cc.a).setMessagePayload((new Ec.a).setMessageType(Gs.b).setMessageText(e).setMessageDisableManualResponse(!!a).build()).build():e,Fs(Object.assign({messageId:n,conversationId:t,sender:Us.b},o))},qs=e=>{if(Rs()(e))return e;switch(Object(Vs.f)(e)?ce()(e,"response.status",404):-1){case 401:case 404:return Bs.a.NOT_FOUND;case 406:return Bs.a.NOT_ACCEPTABLE;default:return Bs.a.UNEXPECTED_ERROR}},Xs=e=>{let{encryptedData:t,unencryptedData:n,publicKeyForEncryption:a,formFields:o}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){const e=Ya()(t,((e,t,n)=>(e[n]={eData:t,externallyEncrypted:!0},e)),{});if(!n)return e;const{dataEncrypter:i}=yield Object(ks.a)();return Ya()(o,((e,t)=>{const o=t.fieldName,r=null===n||void 0===n?void 0:n[o];if(!Ns()(r)&&""!==r){const t=Rs()(r)?r:JSON.stringify(r);e[o]=i(t,a)}return e}),e)}))},Ks=e=>{let{values:t,publicKeyForEncryption:n,multiSubmitResponseUrl:a}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){const{unencryptedData:e,encryptedData:a,originalData:o}=t;return{data:yield Xs({encryptedData:a,unencryptedData:ue()(a)&&ue()(e)?o.values:e,formFields:o.fields,publicKeyForEncryption:n})}}))};var Ys=n(436),Qs=n(282),Zs=n(351);let Js={};function*ed(e){try{const n=e.payload.conversationId;if(Js[n]){for(;;){const[t,a]=yield Vi([Bi(mc.N),Bi(mc.O)]);if(ce()(t||a,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),a&&e.promise.reject(a.payload.error));break}}return}try{Js[n]=!0;const t=yield Ki(he.c),a=yield Ki(he.d),o=pt()(a),i=Object(Dt.m)(t,n),r=Object(Dt.q)(t),c=Object(Dt.h)(r,n),s=ce()(Object(Dt.g)(r,n),"assignToUser"),d=Object(Dt.y)(i),l=Object(Dt.f)(Object(Dt.q)(t),n)||{},u=l.clickedOnPrompt,b=yield Hi(xc.p,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d?{chatMessages:Object(Dt.l)(i).map((e=>({messagePayload:Cc.a.getMessagePayload(e),sender:Cc.a.getSender(e)})))}:void 0),{createCase:Object(Dt.C)(Object(Dt.q)(t),n),startedByContext:c}),l),e.payload.appContext),!u&&o?{creativeId:o.additional.creativeId,interceptId:o.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:s})),p=yield Ki(he.h),f=Object(Ht.b)(p),y=Object(Ht.d)(p);yield $i({payload:{transientConversationId:n,conversationResponse:b,botUserIds:f,userId:y},type:mc.N}),e.promise&&e.promise.resolve({conversationId:b.id,caseNumber:b.caseNumber})}catch(t){yield $i({type:mc.O,payload:{transientConversationId:e.payload.conversationId,error:qs(t)}}),e.promise&&e.promise.reject(qs(t)),Object(Yr.b)(t)}finally{delete Js[e.payload.conversationId]}}catch(n){}}function*td(e){try{const t=bc()(Xc()(ya.a.getDefaultMessages(v.a.getCustomizationConfig(e)))),n=bc()(t.map(((e,t)=>Ws(e,Us.e,`${Us.d}${t}`))));if(n.length){const e=yield Ki(he.h),t=n.map((t=>{const n=Object(Ys.e)(e,Cc.a.getSender(t));return $i(Object(Qs.g)(t,n))}));yield Fi(t)}return n}catch(t){Object(Yr.b)(t)}}function*nd(e,t){try{const n=ya.a.getContactDetailsMessage(v.a.getCustomizationConfig(e)),a=[];if(n&&zs(n,Zs.a.getChatUser(t))){const e=Ws(n,Us.e,Us.c),t=yield Ki(he.h),o=Object(Ys.e)(t,Cc.a.getSender(e));a.push(e),yield $i(Object(Qs.g)(e,o))}return a}catch(n){Object(Yr.b)(n)}}function*ad(e,t){try{const n=yield Hi(td,e),a=yield Hi(nd,e,t);return[...n,...a]}catch(n){Object(Yr.b)(n)}}function od(){Js={}}function*id(){try{const t=ce()(Object(Ht.c)(yield Ki(he.h)),"userId");for(;;)try{const e=yield Ki(he.c),n=Object(Dt.m)(e,Us.e),a=Object(Dt.k)(n,Us.c);if(!a)break;const{payload:{users:o}}=yield Bi(Yc.h),i=o.find((e=>e.userId===t));i&&!zs(a,i)&&(yield $i(Object(Qs.h)(Us.e,Us.c)))}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*rd(){try{yield Kr(Br.c,od)}catch(e){Object(Yr.b)(e)}}function*cd(){try{yield Kr(mc.M,ed)}catch(e){Object(Yr.b)(e)}}function*sd(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield Bi(Br.a);yield Hi(ad,e,null!==t&&void 0!==t?t:ro.a),yield Fi([Wi(id),Wi(cd),Wi(rd)])}catch(e){Object(Yr.b)(e)}}var dd=n(372);function*ld(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===dd.a&&(yield $i(Object(Qs.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(Yr.b)(t)}}function*ud(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===dd.b&&(yield $i(Object(Qs.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(Yr.b)(t)}}function*bd(e){try{yield Fi([Hi(ld,e),Hi(ud,e)])}catch(t){Object(Yr.b)(t)}}function*pd(e){try{const{payload:t}=e,{actionParams:n}=t;let a=vt.a;new Promise(((e,t)=>{const n=setTimeout((()=>t(new Error("Timeout"))),6e4);a=(a,o)=>(clearTimeout(n),o?t(o):e(a))})).then((t=>{const n=sc()(e,{payload:{actionParams:{values:{$merge:t}}}});e.promise.resolve(n)})).catch((t=>e.promise.reject(t)));yield $i(Object(Qs.k)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId},callback:a}))}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*fd(e){const{messageId:t,conversationId:n}=e.payload,a=yield Ki(he.c),o=Object(Dt.k)(Object(Dt.m)(a,n),t);let i;try{i=yield Hi(Fc,{chatMessage:o,conversationId:n,params:{opened:!0}}),yield Hi(xc.s,t)}catch(r){i&&(yield $i({type:mc.K,payload:{chatMessage:o,conversationId:n}})),Object(Yr.b)(r)}}function*yd(e){try{const{attachment:t}=e.payload;return void(ce()(t,"opened")||(yield Hi(fd,e)))}catch(t){Object(Yr.b)(t)}}function*Od(){try{yield Kr(mc.X,yd)}catch(e){Object(Yr.b)(e)}}var vd=n(330),gd=n(497),hd=n(386),jd=n(312),md=n(678),Id=n(452),Cd=n(796),Ed=n(453),Td=n(1046),xd=n(327);function Sd(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return Gr.a.post("/livechat/event/publish",Object.assign({type:e.type},e.payload))}))}var _d=n(492);const Ad=e=>Object(xd.e)(Object(he.e)(e));function wd(e){return e===dd.a||e===dd.b}function Md(e){return e===dd.c}function Rd(e){return e===gd.a.OPEN_URL}function Pd(e){return e===gd.a.OPEN_AGENT_PRESENT_URL}function Nd(e){return e===gd.a.DIAL}function Dd(e){return e===gd.a.FETCH_APPOINTMENT_TIME_SLOTS}function Ld(e){return e===gd.a.RESERVE_APPOINTMENT_TIME_SLOT}function kd(e){return e===gd.a.START_VIDEO_CALL}function Ud(e){return e===gd.a.START_AUDIO_CALL}function Gd(e){return e===gd.a.REJOIN_CALL}function Bd(e){return e===gd.a.ACCOUNT_LINK}function*$d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{if(!(yield Ki(Ad)))for(;;){const{payload:e}=yield Bi(Qr.d);if(e.status===_d.a.CONNECTED)break}return yield Hi(e,t)}catch(a){if(Object(Vs.c)(a)&&n>1)return yield Hi($d,e,t,n-1);throw a}}function Fd(e,t){return Fs({messageId:e.id,messagePayload:Cc.a.getMessagePayload(e),conversationId:t,sender:Cc.a.getSender(e),creationTime:Cc.a.getCreationTime(e),clientMessageId:Cc.a.getClientMessageId(e),deleted:Cc.a.getDeleted(e)})}function*Vd(e){try{const{payload:t}=e,{conversationId:n,cursor:a}=t,o=yield Hi(xc.g,n,{size:t.size,cursor:a}),i=bc()(o.results.map((e=>Fd(e,n))));yield Hi(ws,i),yield $i({payload:{conversationMessagesResponse:Object.assign(Object.assign({},o),{results:i}),conversationId:n,cursor:a},type:mc.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield $i({type:mc.n,payload:{conversationId:e.payload.conversationId}}),Object(Yr.b)(t)}}function*zd(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,i=o?yield Hi(xc.c,n):yield Hi(xc.d,a,n);yield $i(Object(Qs.a)({conversationId:a,includeAll:o,deleted:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(Yr.b)(t)}}function*Hd(){try{yield Kr(mc.i,zd)}catch(e){Object(Yr.b)(e)}}function*Wd(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,i=o?yield Hi(xc.a,n):yield Hi(xc.b,a,n);yield $i(Object(Qs.a)({conversationId:a,includeAll:o,closed:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(Yr.b)(t)}}function*qd(){try{yield Kr(mc.h,Wd)}catch(e){Object(Yr.b)(e)}}function*Xd(){try{yield Kr(mc.l,Vd)}catch(e){Object(Yr.b)(e)}}function*Kd(e){try{const{query:t,conversationId:n,faqAttachment:a,locale:o}=e.payload,i=yield Hi(xc.k,n,t,a,o);e.promise&&e.promise.resolve(i)}catch(t){e.promise&&e.promise.reject(),Object(Yr.b)(t)}}function*Yd(){try{yield Kr(mc.B,Kd)}catch(e){Object(Yr.b)(e)}}function*Qd(e){try{const t=Ya()(e,((e,t)=>{const n=jd.a.getParticipants(t);return lc()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield Hi(ts,t)}catch(t){Object(Yr.b)(t)}}function*Zd(){try{for(;;)try{const e=yield Bi(mc.f),t=yield Hi(xc.e,e.payload);yield Hi(Qd,t.results);const n=yield Ki(he.h),a=Object(Ht.b)(n),o=Object(Ht.d)(n);yield $i({payload:{conversationResponse:t,botUserIds:a,chatUserId:o},type:mc.g})}catch(e){Object(Yr.b)(e)}}catch(t){Object(Yr.b)(t)}}function*Jd(e){try{const t=e.payload,n=yield Hi(xc.n,t);e.promise.resolve(n)}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*el(){try{yield Kr(mc.D,Jd)}catch(e){Object(Yr.b)(e)}}const tl={VIDEO_CHAT:me.b.VIDEO,AUDIO_CHAT:me.b.AUDIO};function*nl(e){let{conversationResponse:t,isPhone:n}=e;try{if(t&&!jc()(n)&&t.deflectionParams){const{id:e,deflectionParams:a}=t,{initiateCall:o,type:i}=null!==a&&void 0!==a?a:ro.a;o&&(yield $i(Object(vd.i)({conversationId:e,isPhone:n,type:tl[i],autoInitiateCall:!0})))}}catch(a){Object(Yr.b)(a)}}function*al(){try{for(;;){let n,a,o;const i=yield Bi(mc.s);a=i.payload.caseId,n=i.payload.conversationId,o=i.payload.context;const{isPhone:r}=i.payload,c=yield Ki(he.h),s=Object(Ht.b)(c),d=Object(Ht.d)(c);try{const e=yield Hi(xc.h,i.payload.caseId);yield $i({payload:{caseId:a,conversationResponse:e,botUserIds:s,chatUserId:d},type:mc.t}),yield Wi(nl,{conversationResponse:e,isPhone:r})}catch(e){try{if(Object(Vs.a)(e))throw e;{const e=yield Hi(xc.p,Object.assign({createCase:!0,caseId:a},o));yield $i({payload:{caseId:a,conversationResponse:e,botUserIds:s,chatUserId:d,loaded:!0},type:mc.t}),yield Wi(nl,{conversationResponse:e,isPhone:r})}}catch(t){yield $i({payload:{conversationId:n,error:qs(t)},type:mc.u})}}}}catch(n){Object(Yr.b)(n)}}function*ol(){try{for(;;){let t,n,a;try{const e=yield Bi(mc.v);t=e.payload.conversationId,n=e.payload.externalCaseId;const o=e.payload.isPhone;t?a=yield Hi(xc.j,t):n&&(a=yield Hi(xc.i,n));const i=yield Ki(he.h),r=Object(Ht.b)(i),c=Object(Ht.d)(i);yield $i({payload:{conversationResponse:a,botUserIds:r,chatUserId:c},type:mc.w}),yield Wi(nl,{conversationResponse:a,isPhone:o})}catch(e){yield $i({payload:Object.assign(Object.assign(Object.assign({},t?{conversationId:t}:{}),n?{externalCaseId:n}:{}),{error:qs(e)}),type:mc.x}),Object(Yr.b)(e)}}}catch(t){Object(Yr.b)(t)}}function*il(e){try{for(;;){const n=yield Ki(Ad);try{if(n){const t=e.payload,{conversationId:n}=t,a=Fd(yield Hi(xc.l,n,t.messageId),n);return yield Hi(ws,a),a}yield Bi(Qr.d)}catch(t){if(Object(Yr.b)(t),!Object(Vs.c)(t))break}}return null}catch(n){return Object(Yr.b)(n),null}}function*rl(e){try{const t=e.payload;yield $i(Object(Qs.l)({type:t.actionType,payload:Xa()(e.payload,["actionType"])}))}catch(t){Object(Yr.b)(t)}}function*cl(e){try{const t=yield Hi(il,e);t&&(yield $i({type:mc.K,payload:{chatMessage:t,conversationId:Cc.a.getConversationId(t)}}))}catch(t){Object(Yr.b)(t)}}function*sl(e){try{const t=yield Ki(he.c),n=Object(Dt.q)(t),a=Object(Ht.c)(yield Ki(he.h)),{sender:o,deleted:i,closed:r,caseNumber:s,conversationId:d,requestClientId:l}=e.payload,u=Object(Dt.g)(n,d);(o!==a.userId||l&&l!==Cd.a.get()||s&&u&&!u.caseNumber&&!i&&!r)&&(yield $i(Object(Qs.a)(e.payload)),s&&u&&!u.caseNumber&&(yield $i(Object(c.c)({action:ot.a.NEW_CONVERSATION_CREATED,conversationId:d,additional:{caseNumber:s}}))))}catch(t){Object(Yr.b)(t)}}function*dl(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}=e.payload;yield $i({type:mc.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}})}catch(t){Object(Yr.b)(t)}}function*ll(e){try{const{payload:t}=e,{actionParams:n}=t;wd(n.actionType)&&(yield Hi(bd,e),e.promise.resolve(e))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*ul(e){try{const{payload:t}=e,{actionParams:n}=t;Md(n.actionType)&&(yield Hi(pd,e))}catch(t){Object(Yr.b)(t)}}function*bl(e){try{const{payload:t}=e,{actionParams:n,conversationId:a}=t;if(Bd(n.actionType)){const t=Object(Ed.a)(n.actionId,n.attachment);yield $i(Object(c.a)({ssoId:t.accountLinkUrl,conversationId:a,messageId:n.messageId})(Hs(e)))}}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*pl(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,a=t,o=yield Hi(Ks,{values:n,publicKeyForEncryption:a.publicKeyForEncryption,multiSubmitResponseUrl:a.multiSubmitResponseUrl});return{fieldNameVsToken:yield Hi(xc.v,a,o),originalData:n.originalData}}catch(t){return Object(Yr.b)(t),null}}function*fl(e){try{const{actionParams:{messageId:t,actionType:n,values:a},conversationId:o}=e.payload;if(n===gd.a.ACCEPT_CO_BROWSE){const e=yield Ki((e=>Object(Dt.k)(Object(Dt.m)(Object(he.c)(e),o),t))),n=Cc.a.getSender(e);yield $i(Object(us.e)({messageId:t,conversationId:o,agentId:n,type:fs.a.REQUEST})),yield qi(gs,{messageId:t})}return a}catch(t){return Object(Yr.b)(t),null}}function*yl(e){try{const{actionParams:{attachment:t,actionId:n,values:a,messageId:o},conversationId:i}=e.payload,r=ce()(Object(Ed.a)(n,t),"surveyUrl","");yield $i(Object(Qs.e)({surveyUrl:r,conversationId:i})),yield $i({type:mc.X,payload:{messageId:o,conversationId:i,attachment:t}});const[c]=yield Vi([Bi(mc.Y),Bi(mc.V),Bi(mc.Z)]);return c?a:null}catch(t){return Object(Yr.b)(t),null}}function*Ol(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===gd.a.SECURE_FORM_POST_BACK}(t)?yield Hi(pl,e):function(e){return e===gd.a.ACCEPT_CO_BROWSE||e===gd.a.DENY_CO_BROWSE}(t)?yield Hi(fl,e):function(e){return e===gd.a.SURVEY_POST_BACK}(t)?yield Hi(yl,e):n}catch(t){return Object(Yr.b)(t),null}}function*vl(e){try{const{payload:a}=e,{actionParams:o,appContext:i}=a;if(!wd(t=o.actionType)&&!Rd(t)&&!Pd(t)&&!Nd(t)&&!Dd(t)&&!Ld(t)&&!Ud(t)&&!kd(t)&&!Gd(t)&&!Bd(t)&&!Md(t))try{const t=yield Hi(Ol,e);gc()(t)?e.promise&&e.promise.resolve(e):yield $i(Object(Qs.p)({conversationId:a.conversationId,sender:a.sender,postback:{attachment:o.attachment,values:t,additional:o.additional,appContext:i,messageId:o.messageId,postbackId:o.actionId,postbackType:o.actionType},inReplyToChatMessageId:a.inReplyToChatMessageId})(Hs(e)))}catch(n){e.promise.reject(),Object(m.a)(n)}}catch(a){e.promise.reject(),Object(Yr.b)(a)}var t}function*gl(e){try{const{actionParams:{messageId:t,actionId:n,actionType:a,attachment:o},conversationId:i}=e.payload;Pd(a)&&(yield $i(Object(us.j)({conversationId:i,messageId:t,buttonId:n,attachment:o})(Hs(e))))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*hl(e){try{const{actionParams:{attachment:t,actionId:n,actionType:a}}=e.payload;Rd(a)&&(yield $i(Object(Qs.f)({attachment:t,actionId:n})(Hs(e))))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*jl(e){try{const{payload:t}=e,{actionParams:n}=t;Nd(n.actionType)&&(yield $i(Object(Qs.d)({attachment:n.attachment,actionId:n.actionId})(Hs(e))))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*ml(e){var t,n;try{const{payload:a}=e,{actionParams:{actionId:o,actionType:i,attachment:r,messageId:c,values:s},conversationId:d,appContext:l,applicationConfig:u}=a,b=null===(t=null===u||void 0===u?void 0:u.callConfiguration)||void 0===t?void 0:t.allUserPermissions;if(Gd(i)){s.participantPermissions||Object(Yr.b)(`Participant permissions (${s.participantPermissions}) unset`),s.participantInfos||Object(Yr.b)("Participant infos is unset");const t=s.audioOnly?me.b.AUDIO:me.b.VIDEO;yield $i(Object(vd.p)({conversationId:d,isPhone:l.isPhone,type:t,isIncomingCall:s.isIncomingCall,videoConversationId:s.videoChatConversationId,participantPermissions:null!==(n=s.participantPermissions)&&void 0!==n?n:Object(Id.b)(t,b),participantInfos:s.participantInfos,prevState:Object(md.a)(s.currentState,s.isIncomingCall)})),e.promise&&e.promise.resolve(e)}else if(kd(i)||Ud(i)){const t=yield Ki(he.b);if(Object(je.a)(t))return void(e.promise&&e.promise.reject());const n=kd(i)?me.b.VIDEO:me.b.AUDIO,a=ce()(Object(Ed.a)(o,r),"title","");let s={};o&&(s={sourceButtonId:o,messageId:c,messageText:a}),yield $i(Object(vd.i)(Object.assign({conversationId:d,isPhone:l.isPhone,type:n},s))),e.promise&&e.promise.resolve(e)}}catch(a){e.promise.reject(),Object(Yr.b)(a)}}function*Il(e){try{const{payload:n}=e,{actionParams:a,conversationId:o,appContext:i}=n,r=Dd(a.actionType),c=Ld(a.actionType);let s,d;if(r||c)try{const t=yield Ki(he.c);let n;s=Object(Dt.k)(Object(Dt.m)(t,o),a.messageId),r&&(yield $i({type:mc.K,payload:{chatMessage:sc()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:o}}),d=yield Hi(xc.f,{selectedDate:a.values.selectedDate,slotDefinitionId:a.attachment.slotDefinitionConfigId,timeZone:i.timeZone,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),yield $i({type:mc.K,payload:{chatMessage:sc()(s,{messagePayload:{attachment:{$merge:{slots:d}}}}),conversationId:o}})),c&&(d=yield Hi(xc.t,{selectedDate:a.values.selectedDate,selectedSlot:a.values.selectedSlot,timeZone:i.timeZone,slotDefinitionId:a.attachment.slotDefinitionConfigId,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),n=d.reservationId,n||(yield $i({type:mc.K,payload:{chatMessage:sc()(s,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},d.slots?{slots:d.slots}:{}),d.availableDates?{availableDates:d.availableDates}:{})}}}),conversationId:o}}))),e.promise.resolve({actionType:a.actionType,response:{reservationId:n,selectedSlot:a.values.selectedSlot,selectedDate:a.values.selectedDate,visibleSlots:a.values.visibleSlots}})}catch(t){Object(Yr.b)(t),e.promise.reject({actionType:a.actionType,response:{error:d}})}}catch(n){e.promise.reject(),Object(Yr.b)(n)}}function*Cl(e){try{yield Fi([Hi(ll,e),Hi(ul,e),Hi(vl,e),Hi(hl,e),Hi(gl,e),Hi(jl,e),Hi(bl,e),Hi(Il,e),Hi(ml,e)])}catch(t){Object(Yr.b)(t)}}function*El(e,t){try{const n=sc()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Xa()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),a=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield Hi(Cl,n),yield a}catch(n){throw Object(Yr.b)(n),n}}function*Tl(e){try{const t=e.payload.actionParams.actionTypes;let n=e;for(let e=0;e<fc()(t);e+=1)n=yield Hi(El,n,t[e]);e.promise.resolve(n)}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*xl(){try{yield Kr(mc.c,Tl)}catch(e){Object(Yr.b)(e)}}function*Sl(e){try{let n,a;try{const{disclaimerStatus:t}=e.payload,o=yield Ki(he.c),i=Object(Dt.q)(o);n=e.payload.conversationId,a=ce()(Object(Dt.i)(i,n),"disclaimerStatus"),yield $i({type:mc.r,payload:{conversationId:n,disclaimerStatus:t}}),yield Hi(xc.x,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield $i({type:mc.r,payload:{conversationId:n,disclaimerStatus:a}}),Object(Yr.b)(t)}}catch(n){Object(Yr.b)(n)}}function*_l(){try{yield Kr(mc.q,Sl)}catch(e){Object(Yr.b)(e)}}const Al={field:"closed",values:[!0],filterType:hd.a.NIN};function*wl(e){try{const{context:t,filters:n}=e.payload,a=yield Ki(he.c),o=Object(Dt.w)(a),i=n||Al,r=Oc()(o.ids,(e=>{let t=!1;if(ue()(i))return!0;Td.a.createFilterAction(i,{getFilterBuilder:Td.a.createFilterAction}).matches(o.byId[e],{logOnFailure:!0})&&(t=!0);return t}));r?(yield Hi($d,xc.w,{context:t,conversationId:r,payload:e.payload}),e.promise.resolve({conversationId:r})):e.promise.reject(Bs.a.NOT_FOUND)}catch(t){e.promise.reject(qs(t)),Object(Yr.b)(t)}}function*Ml(e){try{yield Bi(mc.g),yield Hi(wl,e)}catch(t){e.promise.reject(qs(t)),Object(Yr.b)(t)}}function*Rl(e){try{const{context:t,conversationId:n,includeDeleted:a}=e.payload;if(n)return yield Hi($d,xc.w,{context:t,conversationId:n,payload:e.payload}),void e.promise.resolve({conversationId:n});if(a)return yield Hi($d,xc.y,{context:t,updateLatest:a,payload:e.payload}),void e.promise.resolve({conversationId:n});const o=yield Ki(he.c),i=Object(Dt.q)(o);if(Object(Dt.b)(i))return void(yield Hi(wl,e));yield Wi(Ml,e)}catch(t){e.promise.reject(qs(t)),Object(Yr.b)(t)}}function*Pl(){try{yield Kr(mc.k,Rl)}catch(e){Object(Yr.b)(e)}}function*Nl(e){try{const{lastReadMessageId:t}=e.payload;yield Hi(Sd,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(Yr.b)(t)}}function*Dl(){try{yield Kr(mc.Q,Nl)}catch(e){Object(Yr.b)(e)}}function*Ll(e){try{const e=yield Hi(xc.m);yield $i({payload:{openConversationCount:e},type:mc.cb})}catch(t){Object(Yr.b)(t)}}function*kl(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Wi.apply(void 0,[Xr,e,t].concat(a))}(mc.C,Ll)}catch(e){Object(Yr.b)(e)}}function*Ul(){try{yield Fi([Wi(Zd),Wi(el),Wi(ol),Wi(Yd),Wi(sd),Wi(Xd),Wi(Hd),Wi(qd),Wi(Lc),Wi(zc),Wi(Wc),Wi(xl),Wi(Pl),Wi(al),Wi(_l),Wi(Dl),Wi(Od),Wi(kl)])}catch(e){Object(Yr.b)(e)}}const Gl={},Bl="START_TYPING",$l="STOP_TYPING";function*Fl(e,t){try{yield Hi(Sd,{type:e,payload:{conversationId:t}})}catch(n){Object(Yr.b)(n)}}function*Vl(e,t){for(;;)try{yield Wi(Fl,Bl,e),yield Qi(25e3),yield Bi(t)}catch(n){Object(Yr.b)(n)}}function*zl(e,t){let n,a;try{for(n=Or(Si.dropping(1)),a=yield Wi(Vl,e,n);;){const e=yield Bi(t);if(e.type!==mc.db)break;n.put(e)}}catch(o){Object(Yr.b)(o)}finally{yield Wi(Fl,$l,e),n&&n.close(),a&&a.cancel()}}function*Hl(e,t){for(;;)try{let n;if(n=yield Bi(t),n.type!==mc.db)continue;yield Hi(zl,e,t)}catch(n){Object(Yr.b)(n)}}function*Wl(){try{for(;;)try{const e=yield Vi([Bi(mc.db),Bi(mc.eb)]),t=bc()(e)[0],{payload:{conversationId:n}}=t;let a=Gl[n];a||(a=Or(Si.sliding(1)),Gl[n]=a,yield Wi(Hl,n,a)),a.put(t)}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*ql(){try{yield Wi(Wl)}catch(e){Object(Yr.b)(e)}}var Xl=n(341),Kl=n.n(Xl),Yl=n(276),Ql=n.n(Yl),Zl=n(370),Jl=n.n(Zl);const eu={};function*tu(){throw yield Qi(3e4),new Error("")}function*nu(e,t,n,a){let o;try{for(yield $i({type:mc.a,payload:{conversationId:t,userId:n,actionTime:a}}),o=yield Wi(tu);;){const a=yield Bi(e);if(a.type===Zr.i)o.isCancelled()||(yield Xi(o)),o=yield Wi(tu),yield $i({type:mc.a,payload:{conversationId:t,userId:n,actionTime:a.payload.actionTime}});else{const e=yield Ki(he.c),o=Object(Dt.m)(e,t),i=Object(Dt.u)(o,n);if(i&&Cc.a.getCreationTime(i)<a.payload.actionTime)break}}}catch(i){Object(Yr.b)(i)}finally{yield $i({type:mc.b,payload:{conversationId:t,userId:n}}),o&&!o.isCancelled()&&(yield Xi(o))}}function*au(e,t,n){for(;;)try{let a;if(a=yield Bi(e),a.type!==Zr.i)continue;yield Hi(nu,e,t,n,a.payload.actionTime)}catch(a){}}function*ou(e){try{const{payload:{conversationId:t,sender:n}}=e,a=yield Ki(he.h),o=pt()(Object(Ys.e)(a,n)),i=function(e,t){return`${e}_${t}`}(t,o);let r=eu[i];r||(r=Or(Si.sliding(1)),eu[i]=r,yield Wi(au,r,t,o)),r.put(e)}catch(t){Object(Yr.b)(t)}}function*iu(e){try{yield Fi(e.map((e=>Hi(ou,e))))}catch(t){Object(Yr.b)(t)}}function*ru(e){try{yield Fi(e.map((e=>Hi(ou,e))))}catch(t){Object(Yr.b)(t)}}const cu=["AGENT_ASSIGNED","AGENT_UNASSIGNED","AGENT_ASSIGNMENT_CHANGED","WORK_QUEUE_ASSIGNED"];function*su(e,t,n){try{if((a=e)&&cu.includes(a.type)){const{newAgentId:a,oldAgentId:o,queueId:i}=e,r=[],s=[];o&&(r.push({conversationId:t,sender:o}),s.push(o)),a&&(r.push({conversationId:t,sender:a}),s.push(a)),yield Hi(ts,r),yield $i(Object(Qs.a)({conversationId:t,agentAssigned:!!a,participants:s,workQueueAssigned:!!i}));const d=yield Ki((e=>a?Object(Ht.g)(Object(he.h)(e),a):void 0)),l={currentlyAssignedUser:d,previouslyAssignedUser:yield Ki((e=>o?Object(Ht.g)(Object(he.h)(e),o):void 0)),assignmentTime:n};a&&(yield $i(Object(c.c)({conversationId:t,additional:l,action:ot.a.AGENT_ASSIGNED})))}}catch(o){Object(Yr.b)(o)}var a}function*du(e){try{const{conversationId:t,messagePayload:n,creationTime:a}=e,o=n.events;yield Fi(o.map((e=>Hi(su,e,t,a))))}catch(t){Object(Yr.b)(t)}}function*lu(e){try{const t=e.data;Object(Tc.f)(t)&&(yield Fi([Hi(du,t)]))}catch(t){Object(Yr.b)(t)}}const uu=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t),clear:()=>e.clear()}})(),bu=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...Xc()(t)]},clear:()=>{e=[]}}})();function pu(e){return e.type===Zr.r}function fu(e){return e.type===Zr.i}function yu(e){return e.type===Zr.j}function*Ou(e){try{const{data:t}=e;if(t){yield Hi(lu,e);const n=yield Ki(he.h),a=Object(Ys.e)(n,Cc.a.getSender(t));yield $i(Object(Qs.g)(t,a))}}catch(t){Object(Yr.b)(t)}}function*vu(e){try{const t=e.filter(pu);yield Fi(t.map((e=>Hi(Ou,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(Cc.a.getId(n)),e}),[]);ue()(n)||(yield Hi(xc.r,n))}catch(t){Object(Yr.b)(t)}}function*gu(e){try{const t=e.filter(fu);if(!t.length)return;yield Hi(iu,t)}catch(t){Object(Yr.b)(t)}}function*hu(e){try{const t=e.filter(yu);if(!t.length)return;yield Hi(ru,t)}catch(t){Object(Yr.b)(t)}}function*ju(e){try{yield Fi([Hi(vu,e),Hi(gu,e),Hi(hu,e)])}catch(t){Object(Yr.b)(t)}}function*mu(e){try{const{id:t,data:n}=e;if(uu.add(t),lc()(bu.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===ce()(pt()(bu.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=Ya()(bu.get(),((e,t)=>uu.has(t.id)&&ue()(e.unresolvedEvents)?(uu.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});bu.set(t),yield Wi(ju,e)}}catch(t){Object(Yr.b)(t)}}function*Iu(e){try{if(pu(e)){const t=yield Hi(il,e);yield Hi(mu,{id:e.id,data:t})}}catch(t){Object(Yr.b)(t)}}function*Cu(e){try{if(fu(e)){const t=Jl()(e.payload,["conversationId","sender"]);yield Hi(ts,t),yield Hi(mu,{id:e.id,data:{}})}}catch(t){Object(Yr.b)(t)}}function*Eu(e){try{yu(e)&&(yield Hi(mu,{id:e.id,data:{}}))}catch(t){Object(Yr.b)(t)}}function*Tu(e){try{yield Fi([Hi(Iu,e),Hi(Cu,e),Hi(Eu,e)])}catch(t){Object(Yr.b)(t)}}function*xu(e){try{bu.push(e),yield Fi(e.map((e=>Wi(Tu,e))))}catch(t){Object(Yr.b)(t)}}var Su=n(776),_u=n.n(Su);function Au(e){return e.type===Zr.q}function wu(e){return e.type===Zr.h}function Mu(e){return e.type===Zr.k}function Ru(e){return e.type===Zr.o}function Pu(e){return e.type===Zr.l}function*Nu(e){try{yield Fi(e.filter(Ru).map((e=>Hi(rl,e))))}catch(t){Object(Yr.b)(t)}}function*Du(e){try{yield Fi(e.filter(Au).map((e=>Hi(cl,e))))}catch(t){Object(Yr.b)(t)}}function*Lu(e){try{yield Fi(_u()(e.filter(Mu).map((e=>[Hi(ns,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),$i(Object(c.c)({conversationId:e.payload.conversationId,action:ot.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(Yr.b)(t)}}function*ku(e){try{yield Fi(e.filter(Pu).map((e=>Hi(sl,e))))}catch(t){Object(Yr.b)(t)}}function*Uu(e){try{yield Fi(e.filter(wu).map((e=>Hi(dl,e))))}catch(t){Object(Yr.b)(t)}}function*Gu(e){try{yield Fi([Hi(Nu,e),Hi(Du,e),Hi(Lu,e),Hi(ku,e),Hi(Uu,e)])}catch(t){Object(Yr.b)(t)}}const Bu=[Zr.r,Zr.i,Zr.j];function*$u(e){try{const{events:t}=e.payload;let n=[],a=[];lc()(t,(e=>{Kl()(Bu,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:Ql()()})]:a=[...a,e]})),yield Hi(xu,n),yield Hi(Gu,a)}catch(t){Object(Yr.b)(t)}}function*Fu(){try{yield Kr(Qr.j,$u)}catch(e){Object(Yr.b)(e)}}function*Vu(){try{yield Bi(Br.c),uu.clear(),bu.clear()}catch(e){Object(Yr.b)(e)}}function*zu(){try{yield Fi([Wi(Fu),Wi(Vu)])}catch(e){Object(Yr.b)(e)}}var Hu=n(315),Wu=n(314);const qu=e=>{const t=v.a.getNoDisplayConfigFilter(e);return!ue()(t)&&Object(Wu.d)(t,Hu.a.IS_CONVERSATION_OPEN)};function*Xu(e){try{const t=yield Ki(he.c),n=Object(Dt.q)(t);if(!Object(Dt.b)(n))return;yield $i(Object(Qs.b)({shouldFetchNumberOfOpenConversation:qu(e.applicationConfig),size:n.ids.length}))}catch(t){Object(Yr.b)(t)}}function*Ku(){try{const e=yield Ki(he.c),t=Object(Dt.q)(e),n=Object(Dt.o)(e),a=Ya()(n,((e,n,a)=>{const o=n.messages;if(!a.startsWith(Us.e)&&Object(Dt.a)(o)&&!Object(Dt.A)(t,a)){const t=Object(Qs.c)(a,{size:Object(Dt.l)(o).length})();e.push($i(t))}return e}),[]);a.length&&(yield Fi(a))}catch(e){Object(Yr.b)(e)}}function*Yu(e){yield Fi([Wi(Xu,e),Wi(Ku)])}function*Qu(){const{payload:{applicationConfig:e}}=yield Bi(Br.a);yield Kr(Qr.k,Yu,{applicationConfig:e})}function*Zu(){try{yield Fi([Wi(Ul),Wi(ql),Wi(zu),Wi(Qu)])}catch(e){Object(Yr.b)(e)}}function*Ju(e){try{const t=e.payload,n=Object(Ht.c)(yield Ki(he.h));yield Hi(Qc.e,Object.assign(Object.assign({},n),{customContext:t})),yield $i(Object(c.c)({action:ot.a.USER_PROFILE_UPDATED}))}catch(t){Object(Yr.b)(t)}}function*eb(){try{yield Kr(Yc.g,Ju)}catch(e){Object(Yr.b)(e)}}function*tb(e){try{const t=e.payload,n=yield Hi(Qc.d,t);e.promise.resolve(n);const a=n.results;yield $i({type:Yc.h,payload:{users:a}})}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*nb(){try{yield Kr(Yc.e,tb)}catch(e){console.error(e)}}function*ab(e){try{const{userId:t}=e.payload,n=yield Hi(Qc.a,t);e.promise.resolve(n),yield $i({type:Yc.h,payload:{users:[n]}})}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*ob(){try{yield Kr(Yc.b,ab)}catch(e){Object(Yr.b)(e)}}function*ib(e){try{const t=e.payload,n=yield Hi(Qc.c,t);e.promise.resolve(n);const a=n.results;yield $i({type:Yc.h,payload:{users:a}})}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*rb(){try{yield Kr(Yc.d,ib)}catch(e){console.error(e)}}function*cb(){try{yield Fi([Wi(eb),Wi(nb),Wi(rb),Wi(ob)])}catch(e){Object(Yr.b)(e)}}var sb=n(495),db=n(451);function lb(e){return e.type===Zr.d}function ub(e){return e.type===Zr.c}function bb(e){return e.type===Zr.b}function pb(e){return e.type===Zr.e}function fb(e){return e.type===Zr.f}function yb(e){return e.type===Zr.g}function*Ob(e,t){try{const n=Object(Ht.c)(yield Ki(he.h));yield Fi(e.filter(lb).map((e=>{var a,o;const i=e.payload.participantInfos.find((e=>e.snId===n.userId)),r=e.payload.type,c=null!==(a=null===i||void 0===i?void 0:i.permissions)&&void 0!==a?a:Object(Id.b)(r,null===(o=t.callConfiguration)||void 0===o?void 0:o.allUserPermissions);return $i(Object(vd.o)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,permissions:c,participantInfos:e.payload.participantInfos,type:r}))})))}catch(n){Object(Yr.b)(n)}}function*vb(e){try{const t=yield Ki(he.b);yield Fi(e.filter(ub).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:o}=Object(sb.a)(t,e.payload.videoConversationId),i=a&&n.state===me.e.WAITING;if((a||o)&&!Object(Id.d)({isIncomingCall:a,state:n.state}))return $i(i?Object(vd.q)({videoConversationId:e.payload.videoConversationId}):Object(vd.m)({callDetails:n,isIncomingCall:a,notifyAgent:!1,notifyUser:!0,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(Yr.b)(t)}}function*gb(e){try{const t=yield Ki(he.b);yield Fi(e.filter(pb).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:o}=Object(sb.a)(t,e.payload.videoConversationId);if((a||o)&&!Object(Id.d)({isIncomingCall:a,state:n.state}))return $i(Object(vd.h)({isIncomingCall:a,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(Yr.b)(t)}}function*hb(e){try{const t=yield Ki(he.b),n=e.filter(bb).map((e=>{const{callDetails:n,isOutgoingCall:a}=Object(sb.a)(t,e.payload.videoConversationId);if(a&&!Object(Id.d)({isIncomingCall:!1,state:n.state}))return $i(Object(vd.c)({isIncomingCall:!1,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e));yield Fi(n)}catch(t){Object(Yr.b)(t)}}function*jb(e){try{yield Fi(e.filter(fb).map((e=>$i(Object(vd.v)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(Yr.b)(t)}}function*mb(e){try{yield Fi(e.filter(yb).map((e=>$i({type:db.x,payload:{videoConversationId:e.payload.videoConversationId,participantPermissions:e.payload.permissions}}))))}catch(t){Object(Yr.b)(t)}}function*Ib(e,t){try{const{events:n}=t.payload;yield Fi([Hi(vb,n),Hi(Ob,n,e),Hi(hb,n),Hi(jb,n),Hi(gb,n),Hi(mb,n)])}catch(n){Object(Yr.b)(n)}}function*Cb(){try{const{payload:{applicationConfig:e}}=yield Bi(Br.a);yield Kr(Qr.j,Ib,e)}catch(e){Object(Yr.b)(e)}}const Eb="/video-chat/conversation";function Tb(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Gr.a.post(`${Eb}/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function xb(e){let{videoConversationId:t}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return Gr.a.post(`${Eb}/leave/${t}`)}))}function Sb(e){let{conversationId:t,audioOnly:n,messageText:a,sourceButtonId:o,postBackChatMessageId:i,shouldWaitForConnection:r,videoConversationId:c,activityEventType:s,autoInitiateCall:d}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Gr.a.post(`${Eb}/initiate/${t}`,{audioOnly:n,messageText:a,clickedButtonId:o,postBackChatMessageId:i,shouldWaitForConnection:r,videoChatConversationId:c,activityEventType:s,autoInitiateCall:d})).data}))}function _b(e){let{videoConversationId:t,meetingId:n}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Gr.a.post(`${Eb}/participant/connected/${t}?meetingId=${n}`)).data}))}function Ab(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Gr.a.post(`${Eb}/fetch/ongoing/conversation?caseId=${e}`)).data}))}function wb(e){let{videoConversationId:t,reason:n,subReason:a}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Gr.a.post(`${Eb}/callFailed/${t}`,{reason:n,subReason:a})).data}))}var Mb=n(574);function*Rb(e,t,n){try{const a=yield Ki(he.c),o=Object(md.b)(a,e,t);o&&(yield Hi(Fc,{chatMessage:o,conversationId:e,params:{state:n}}))}catch(a){Object(Yr.b)(a)}}function*Pb(e){try{const{notifyAgent:t,notifyUser:n,callDetails:a,videoConversationId:o,isIncomingCall:i}=e.payload,r=a.conversationId;if(yield $i(Object(c.c)({conversationId:r,action:ot.a.CALL_ENDED,additional:{videoConversationId:o,userInitiated:!n}})),yield Hi(Rb,r,o,Mb.a.CALL_ENDED),!t)return;if(!i&&!a.hasInitiateSucceeded&&a.state===me.g.WAITING){if((yield Bi(Object(md.g)(o))).type===db.e)return}if(i&&a.state===me.e.ACCEPTED){if((yield Bi(Object(md.c)(o))).type===db.e)return}yield Hi(xb,{videoConversationId:o})}catch(t){Object(Yr.b)(t)}}function*Nb(e){try{e.payload.isOutgoingWaiting&&(yield Hi(Pb,e)),yield $i({type:mc.bb,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(Yr.b)(t)}}function*Db(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:a}=e.payload,o=yield Ki(he.b),i=Object(je.f)(o),r=i.messageId;if(r&&t===r&&n!==i.sourceButtonId){const e=yield Ki(he.c),n=Object(Dt.k)(Object(Dt.m)(e,a),t);n&&!Ec.a.getAttachment(Cc.a.getMessagePayload(n)).reSubmittable&&(yield $i(Object(vd.m)({notifyAgent:!0,notifyUser:!1,callDetails:i,isIncomingCall:!1,videoConversationId:i.videoConversationId})))}}catch(t){Object(Yr.b)(t)}}function*Lb(e,t){try{yield $i(Object(vd.r)({conversationId:t.payload.conversationId,controls:Object(md.h)(t.payload.isPhone),type:t.payload.type,messageText:t.payload.messageText,messageId:t.payload.messageId,autoInitiateCall:t.payload.autoInitiateCall,sourceButtonId:t.payload.sourceButtonId,allUserPermissions:e,videoConversationId:Ql.a.v4()}))}catch(n){Object(Yr.b)(n)}}function*kb(e){let{error:t,videoConversationId:n,reason:a,isIncomingCall:o}=e;try{const e=yield Ki(he.b),i=o?Object(je.d)(e):Object(je.f)(e);if(ue()(i)||i.videoConversationId!==n||Object(Id.d)({isIncomingCall:o,state:i.state}))return;if(Object(Vs.f)(t)){const e=ce()(t,"response.data.error");if(e===me.a.CALL_ALREADY_ENDED)return void(yield $i({type:db.c,payload:{videoConversationId:n,notifyAgent:!1,notifyUser:!0,callDetails:i,isIncomingCall:o}}));yield $i({type:db.e,payload:{videoConversationId:n,reason:a,subReason:e}})}}catch(i){Object(Yr.b)(i)}}function*Ub(e){try{const{videoConversationId:t}=e.payload;yield $i(Object(vd.b)({videoConversationId:t,controls:Object(md.h)(e.payload.isPhone)}));const n=yield Hi(Tb,{videoConversationId:t,shouldWaitForConnection:!0});yield $i({type:db.x,payload:{participantPermissions:n.participant.permissions,participantInfos:n.conversation.participantInfos,videoConversationId:n.conversation.id}}),yield $i(Object(vd.u)({videoConversationId:t}))}catch(t){Object(Yr.b)(t),yield Hi(kb,{videoConversationId:e.payload.videoConversationId,isIncomingCall:!0,error:t,reason:me.d.ACCEPT_FAILED})}}function*Gb(e){let t;try{const{videoConversationId:n,autoInitiateCall:a}=e.payload,o=yield Ki(he.b),i=Object(je.f)(o),r=i.messageId,s=i.conversationId,d=Object(je.h)(o,n);if(yield $i(Object(c.c)({conversationId:s,action:d?ot.a.AUDIO_CALL_OUTGOING_STARTING:ot.a.VIDEO_CALL_OUTGOING_STARTING,additional:{videoConversationId:n}})),r){const e=yield Ki(he.c);t=Object(Dt.k)(Object(Dt.m)(e,s),r),yield Hi(Fc,{chatMessage:t,conversationId:s,params:{buttonId:i.sourceButtonId}})}const l=yield Hi(Sb,{conversationId:s,audioOnly:d,messageText:i.messageText,sourceButtonId:i.sourceButtonId,postBackChatMessageId:r,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED",autoInitiateCall:a});yield $i({type:db.x,payload:{agentWaitTime:l.conversation.agentWaitTime,participantInfos:l.conversation.participantInfos,participantPermissions:l.participant.permissions,videoConversationId:l.conversation.id}})}catch(n){t&&(yield $i({type:mc.K,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),yield Hi(kb,{videoConversationId:e.payload.videoConversationId,reason:me.f.INITIATE_FAILED,error:n,isIncomingCall:!1}),Object(Yr.b)(n)}}function*Bb(e){try{const{conversationId:n,type:a,isPhone:o,prevState:i,videoConversationId:r,participantInfos:s,participantPermissions:d}=e.payload,l=yield Ki(he.b),u=Object(je.c)(l);if(Object(md.i)({callDetails:u}))return;const b=a===me.b.AUDIO,p=Object(md.d)(i);yield $i(Object(c.c)({conversationId:n,action:Object(md.e)(b,p),additional:{videoConversationId:r}})),yield $i(Object(vd.s)({conversationId:n,videoConversationId:r,state:p?me.e.ACCEPTED:me.e.SETUP,controls:Object(md.h)(o),type:a,participantPermissions:d,participantInfos:s}));let f=yield Hi(Ab,n);if(ue()(f))return void(yield $i({type:db.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0,isIncomingCall:!0}}));if(yield $i({type:db.x,payload:{participantPermissions:f.participant.permissions,participantInfos:f.conversation.participantInfos,videoConversationId:f.conversation.id}}),p){try{f=yield Hi(Tb,{videoConversationId:f.conversation.id,shouldWaitForConnection:!0}),yield $i({type:db.x,payload:{participantPermissions:f.participant.permissions,participantInfos:f.conversation.participantInfos,videoConversationId:f.conversation.id}})}catch(t){return Object(Yr.b)(t),void(yield Hi(kb,{videoConversationId:e.payload.videoConversationId,reason:me.d.ACCEPT_FAILED,error:t,isIncomingCall:!0}))}yield $i(Object(vd.u)({videoConversationId:f.conversation.id}))}}catch(t){return Object(Yr.b)(t),void(yield Hi(kb,{videoConversationId:e.payload.videoConversationId,reason:me.d.REJOIN_FAILED,error:t,isIncomingCall:!0}))}}function*$b(e){try{const{conversationId:t,type:n,isPhone:a,prevState:o,videoConversationId:i,participantInfos:r,participantPermissions:s}=e.payload,d=yield Ki(he.b),l=Object(je.c)(d);if(Object(md.i)({callDetails:l}))return;const u=n===me.b.AUDIO;yield $i(Object(c.c)({conversationId:t,action:Object(md.e)(u),additional:{videoConversationId:i}})),yield $i(Object(vd.t)({conversationId:t,videoConversationId:i,state:Object(md.f)(o),controls:Object(md.h)(a),type:n,participantPermissions:s,participantInfos:r}));const b=yield Hi(Ab,e.payload.conversationId);if(ue()(b))return void(yield $i({type:db.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0}}));yield $i({type:db.x,payload:{agentWaitTime:b.conversation.agentWaitTime,participantPermissions:b.participant.permissions,participantInfos:b.conversation.participantInfos,videoConversationId:b.conversation.id}})}catch(t){Object(Yr.b)(t),yield Hi(kb,{videoConversationId:e.payload.videoConversationId,reason:me.f.REJOIN_FAILED,error:t,isIncomingCall:!1})}}function*Fb(e){try{const t=e.payload,{isIncomingCall:n}=t,a=Object(Ic.__rest)(t,["isIncomingCall"]);n?yield $i(Object(vd.f)(a)):yield $i(Object(vd.k)(a))}catch(t){Object(Yr.b)(t)}}function*Vb(e){const t=yield Ki(he.b),{videoConversationId:n}=e.payload,{isOutgoingCall:a}=Object(sb.a)(t,n);try{const t=a?vd.l:vd.g;yield $i(t({videoConversationId:n})),yield Hi(_b,e.payload)}catch(o){yield Hi(kb,{videoConversationId:n,reason:a?me.f.JOIN_FAILED:me.d.JOIN_FAILED,error:o,isIncomingCall:!a}),Object(Yr.b)(o)}}function*zb(e){try{const t=yield Ki(he.b),{callDetails:n,isIncomingCall:a}=Object(sb.a)(t,e.payload.videoConversationId);if(n.reason&&n.reason!==e.payload.reason)return;const o=n.conversationId,i=n.videoConversationId;if(yield $i(Object(c.c)({conversationId:o,action:ot.a.CALL_FAILED,additional:{videoConversationId:e.payload.videoConversationId}})),yield Hi(Rb,o,i,Mb.a.CALL_FAILED),!a&&!n.hasInitiateSucceeded){if((yield Bi(Object(md.g)(i))).type===db.e)return}yield Hi(wb,{videoConversationId:e.payload.videoConversationId,reason:e.payload.reason,subReason:e.payload.subReason})}catch(t){Object(Yr.b)(t)}}function*Hb(e){try{const{isIncomingCall:t,conversationId:n,videoConversationId:a}=e.payload;yield $i(Object(c.c)({conversationId:n,action:ot.a.CALL_DECLINED,additional:{videoConversationId:a,userInitiated:t}})),yield Hi(Rb,n,a,Mb.a.CALL_DECLINED),yield Hi(xb,{videoConversationId:a})}catch(t){Object(Yr.b)(t)}}function*Wb(e){try{const{conversationId:t,videoConversationId:n,isIncomingCall:a}=e.payload;yield $i(Object(c.c)({conversationId:t,action:ot.a.CALL_MISSED,additional:{videoConversationId:n,userInitiated:a}})),yield Hi(Rb,t,n,Mb.a.CALL_MISSED)}catch(t){Object(Yr.b)(t)}}function*qb(){var e;try{const{payload:{applicationConfig:t}}=yield Bi(Br.a);yield Kr(db.g,Ub),yield Kr(db.c,Pb),yield Kr(db.o,Lb,null===(e=null===t||void 0===t?void 0:t.callConfiguration)||void 0===e?void 0:e.allUserPermissions),yield Kr(db.u,Gb),yield Kr(db.d,Nb),yield Kr(db.v,Fb),yield Kr(db.k,Bb),yield Kr(db.r,$b),yield Kr(mc.c,Db),yield Kr(db.y,Vb),yield Kr(db.e,zb),yield Kr(db.b,Hb),yield Kr(db.n,Wb)}catch(t){Object(Yr.b)(t)}}function*Xb(){yield Fi([Wi(Cb),Wi(qb)])}function Kb(e){return e.type===Zr.m}function*Yb(){try{const e=yield Ki(he.f);ue()(e)||(yield $i(Object(us.h)()))}catch(e){Object(Yr.b)(e)}return null}function*Qb(e){try{const{events:t}=e.payload,n=yield Ki(he.f);yield Fi(t.filter(Kb).map((e=>{if(n.type!==fs.a.REQUEST)return null;const{status:t}=e.payload;return"LIVE"===t?Hi(Yb):"COMPLETED"===t?$i(Object(us.d)({endedByAgent:!0})):null})))}catch(t){Object(Yr.b)(t)}}function*Zb(){try{yield Kr(Qr.j,Qb)}catch(e){Object(Yr.b)(e)}}function*Jb(){yield Fi([Wi(_s),Wi(Zb)])}function*ep(){try{yield Fi([Wi(rc),Wi(Zu),Wi(cb),Wi(Xb),Wi(Jb)])}catch(e){Object(Yr.b)(e)}}function*tp(){try{const e=yield Wi(ep);yield Bi(Br.c),yield Xi(e)}catch(e){Object(Yr.b)(e)}}var np=n(339),ap=n(277),op=n(359),ip=n(458),rp=n(50);function cp(e,t){const n=Object(ip.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const a=ce()(n.params,"conversationId"),o=ce()(n.params,"transientId");return"all"===a?{isConversationPath:!1,matchedConversationId:void 0}:"new"===a?{isConversationPath:!0,matchedConversationId:t?t.slice(1):o}:{isConversationPath:!0,matchedConversationId:a}}function*sp(){try{const e=Object(Ht.e)(yield Ki(h.h));return{...Object(rp.a)(),locale:e}}catch(e){return void Object(Yr.b)(e)}}var dp=n(679),lp=n(569),up=n(766);function*bp(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=Object(Ht.d)(yield Ki(h.h)),o=yield Ki(h.c),i=Object(Dt.g)(o.conversations,t);if(i){const e=Io()(i.defaultMessages,"id"),o=Cc.a.getId(n);if(e.includes(o))return void(yield $i({type:mc.Q,payload:{conversationId:t,lastReadMessageId:o}}));if(function(e,t){return!(Cc.a.getSender(e)===t)&&!Object(Tc.f)(e)}(n,a)){const{isConversationPath:e,conversationId:n}=yield Ki(op.c),a=yield Ki(h.b),{isMinimized:o}=a,r=Object(np.b)(),c=!!e,s=!ue()(i);(Object(T.E)()?s&&t===n:s)&&(yield $i({type:mc.R,payload:{conversationId:t,count:1}}),o&&!c&&r.push(`/conversation/${t}`))}}}catch(t){Object(Yr.b)(t)}}function*pp(){try{yield Kr(mc.F,bp)}catch(e){Object(Yr.b)(e)}}function*fp(e){try{var t;const n=Object(xt.b)(),{url:a}=Object(dp.a)({url:Object(ap.d)(e.payload.url)},{location_url:Object(rp.b)()});Object(xt.c)(n)?n.open(a,e.payload.target):window.open(a),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(Yr.b)(a)}}function*yp(){try{yield Kr(mc.S,fp)}catch(e){Object(Yr.b)(e)}}function*Op(e){try{var t;window.open(Object(ap.c)(e.payload.phoneNumber)),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(Yr.b)(a)}}function*vp(){try{yield Kr(mc.p,Op)}catch(e){Object(Yr.b)(e)}}function*gp(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:a}=e.payload,o=Object(np.b)(),i=Object(T.F)()||Object(T.K)()?`${t}&showCancel=true`:t,r=`/survey/${encodeURIComponent(`${i}&hideThankYouPage=true`)}`,c=a?`/conversation/${a}${r}`:r;return n?o.replace(r):o.push(c)}catch(t){return void Object(Yr.b)(t)}}function*hp(){try{yield Kr(mc.W,gp)}catch(e){Object(Yr.b)(e)}}function*jp(e){try{const{deleted:n,closed:a,surveyUrl:o,conversationId:i}=e.payload;try{if(n||a){const e=Object(np.b)(),{matchedConversationId:t}=cp(e.location.pathname,e.location.hash),a=n&&!!i&&t===i&&!Object(T.F)();o?yield $i(Object(Sc.n)({surveyUrl:o,shouldReplace:a,conversationId:i})):a&&e.goBack()}}catch(t){Object(Yr.b)(t)}}catch(t){Object(Yr.b)(t)}}function*mp(){try{yield Kr(mc.j,jp)}catch(e){Object(Yr.b)(e)}}me.b.VIDEO,me.b.AUDIO;function*Ip(){try{const{payload:{handshakeDetails:e}}=yield Bi(Br.a),t=Object(lp.b)();if(e){if(Object(T.J)()){const e=Object(T.i)();yield $i(Object(Sc.b)({conversationId:e,isPhone:t}))}if(Object(T.I)()){const e=Object(T.h)(),n=Object(T.e)(e),a=yield Hi(sp);yield $i(Object(Sc.a)(e,n,a,t))}yield Qi(1e3),yield $i(Object(Sc.g)())}}catch(e){Object(Yr.b)(e)}}function*Cp(e){try{const{payload:t,promise:n}=e,{conversationId:a}=t;yield Hi(up.b,a),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(Yr.b)(t)}}function*Ep(){try{yield Kr(mc.o,Cp)}catch(e){Object(Yr.b)(e)}}function*Tp(e){try{const t=yield Ki(h.h),n=Object(Ht.d)(t),a=yield Ki(h.c),o=((e,t,n)=>{if(n)return[{conversationId:n,count:Object(op.b)(e[n],t)}];return Ya()(e,((e,n)=>{const a=Object(op.b)(n,t);return e.push({conversationId:n.id,count:a}),e}),[])})(Object(Dt.q)(a).byId,n,e);ue()(o)||(yield $i({type:mc.P,payload:o}))}catch(t){console.warn(t)}}function*xp(){try{if(Object(T.E)()){if(Object(T.M)())for(;;){yield Bi(mc.g);const{conversationId:e}=yield Ki(op.c);yield Hi(Tp,e)}if(Object(T.J)()||Object(T.I)()){yield Vi([Bi(mc.t),Bi(mc.u),Bi(mc.w),Bi(mc.x)]);const{conversationId:e}=yield Ki(op.c);return void(yield Hi(Tp,e))}return}if(Object(T.J)()||Object(T.I)())return yield Fi([Vi([Bi(mc.t),Bi(mc.w),Bi(mc.u),Bi(mc.x)]),Bi(mc.g)]),void(yield Hi(Tp));if(Object(T.O)()||Object(T.L)()||Object(T.M)())for(;;)yield Bi(mc.g),yield Hi(Tp)}catch(e){Object(Yr.b)(e)}}function*Sp(){try{yield Fi([Wi(Ip),Wi(pp),Wi(yp),Wi(vp),Wi(Ep),Wi(hp),Wi(mp),Wi(xp)])}catch(e){Object(Yr.b)(e)}}function*_p(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==dd.i&&n.type!==dd.j)return;const a=yield Ki(h.c),o=Object(Dt.e)(Object(Dt.w)(a));e.type===dd.i&&(yield Hi(la.n,e.payload.contextId||o,e.payload.abortedProcessContext,[])),e.type===dd.j&&(yield Hi(la.k,e.payload.contextId||o))}catch(a){Object(Yr.b)(a)}var n}function*Ap(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield Hi(la.f,t);if(a){const e=Ec.a.getAttachment(Cc.a.getMessagePayload(n));if(Object(Kc.c)(Cc.a.getSender(n))&&e&&Object(Ed.d)(e)){const e=Cc.a.getId(n),o=a.messageIds;yield Hi(la.n,t,a.context,[...o,e])}}}catch(t){Object(Yr.b)(t)}}function*wp(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield Hi(la.f,t);a&&(yield Hi(la.n,t,a.context,[]))}catch(t){Object(Yr.b)(t)}}function*Mp(){try{yield Kr(mc.F,Ap)}catch(e){Object(Yr.b)(e)}}function*Rp(){try{yield Kr(mc.I,wp)}catch(e){Object(Yr.b)(e)}}function*Pp(e){try{const t=yield Hi(la.f,e);t&&(yield Fi(t.messageIds.map((e=>Hi(xc.q,e)))),yield Hi(xc.w,{context:t.context,conversationId:e}),yield Hi(la.k,e))}catch(t){Object(Yr.b)(t)}}function*Np(e){try{const{results:t}=e.payload.conversationResponse;yield Fi(t.map((e=>Hi(Pp,e.id))))}catch(t){Object(Yr.b)(t)}}function*Dp(){try{yield Kr(mc.g,Np)}catch(e){Object(Yr.b)(e)}}function*Lp(){try{yield Fi([Wi(Mp),Wi(Rp),Wi(Dp)])}catch(e){Object(Yr.b)(e)}}var kp=n(322),Up=n.n(kp),Gp=n(280),Bp=n.n(Gp),$p=n(490),Fp=n.n($p),Vp=n(681),zp=n(568);const Hp=e=>t=>t.type===mc.w&&ce()(t,"payload.conversationResponse.externalCaseId")===e,Wp=e=>t=>t.type===mc.x&&ce()(t,"payload.externalCaseId")===e;function*qp(){try{const e=yield Ki(h.b),{isMinimized:t}=e;t&&(yield $i({type:ua.d,payload:{}}))}catch(e){Object(Yr.b)(e)}}function*Xp(){try{const e=yield Ki(h.c),t=Object(Dt.e)(Object(Dt.w)(e)),n=yield Hi(np.b),a=`/conversation/${t}`,{isConversationPath:o}=cp(n.location.pathname,n.location.hash);o?n.replace(a):n.push(a),yield Hi(qp)}catch(e){Object(Yr.b)(e)}}function*Kp(){try{yield Bi(mc.g),yield Hi(Xp)}catch(e){Object(Yr.b)(e)}}function*Yp(e){let{initialMessages:t,conversationContext:n,createCase:a,additional:o,assignToUser:i,conversationId:r,applicationConfig:c}=e;try{const e=yield Ki(h.h),s=Object(Ht.d)(e);let d,l;const u=Bp()(t,(e=>{const t=Rs()(e)?e:e.message;return!ue()(Fp()(t))}));if(ue()(u))if(ue()(t)&&Eo()(t))l=!0,d=[];else{const e=yield Ki(h.c),t=Object(Dt.m)(e,Us.e);d=Object(Dt.l)(t),l=Object(Dt.y)(t)}else{const e=(e=>e.map((e=>Rs()(e)?{message:{text:e},isSentByUser:!1}:Rs()(e.message)?{...e,message:{text:e.message}}:e)))(u),t=yield Nc();d=bc()(e.map(((e,n)=>{if(!e.isSentByUser)return e.message.text?Ws(e.message.text,r,`${n}`,e.message.disableManualResponse):void 0;const{maskedText:a,maskedValues:o}=Object(Vp.a)({text:e.message.text,maskingConfigs:c.maskingConfigs});return t.makeTextMessage({text:a||"",conversationId:r,sender:s,maskingDetails:o,disableManualResponse:e.message.disableManualResponse})}))),l=!0}yield $i({type:mc.L,payload:{conversationId:r,messages:d,conversationContext:n,hasInitialItems:l,createCase:a,assignToUser:i,additional:o}})}catch(s){throw Object(Yr.b)(s),s}}function*Qp(e,t){const{payload:{silent:n},promise:a}=t;try{let o=yield Ki(h.g);const i=(e,t)=>ce()(e,t);let r=Object(h.c)(o),c=Object(Dt.q)(r);jc()(Object(Dt.v)(c))&&(yield $i({type:mc.C,payload:{}}),yield Bi(mc.cb),o=yield Ki(h.g));const s=Object(h.e)(o);r=Object(h.c)(o),c=Object(Dt.q)(r);const{isLocked:d}=Object(op.e)({chatState:s,chatConversationsState:r,customizationSettings:e.otherConfigs.settings,getLocaleMessage:i});if(d){if(!n){const e=Object(Dt.b)(c);yield Hi(e?Xp:Kp)}throw Bs.a.LIMIT_REACHED}const l=`${Us.e}_${Up()()}`;yield Hi(Yp,{...t.payload,conversationId:l,applicationConfig:e});const u=yield Hi(sp);if(n&&(yield $i({type:mc.M,payload:{conversationId:l,appContext:u},promise:a})),!n){const e=Object(np.b)(),{isConversationPath:t}=cp(e.location.pathname,e.location.hash),n=`/conversation/new/${l}`;!!t?e.replace(n):e.push(n),yield Hi(qp)}}catch(o){a&&a.reject(qs(o)),Object(Yr.b)(o)}}function*Zp(e){const{payload:t,promise:n}=e;let a,o;try{let e=yield Ki(h.c),i=Object(Dt.q)(e);if(a=t.conversationId,o=t.externalCaseId,!a)if(Object(Dt.b)(i)||(yield Bi(mc.g),e=yield Ki(h.c),i=Object(Dt.q)(e)),o){if(a=Object(Dt.d)(Object(Dt.w)(e),o),!a&&e.conversations.hasMore){yield $i(Object(Sc.b)({externalCaseId:o}));const[t,n]=yield Vi([Bi(Hp(o)),Bi(Wp(o))]);if(n)throw n.payload.error;a=ce()(t,"payload.conversationResponse.id"),e=yield Ki(h.c),i=Object(Dt.q)(e)}}else a=Object(Dt.e)(Object(Dt.w)(e));if(!a)return void(n&&n.reject(Bs.a.NOT_FOUND));const r=Object(np.b)(),{isConversationPath:c,matchedConversationId:s}=cp(r.location.pathname,r.location.hash),d=!!c,l=`/conversation/${a}`;let u=a,b=[];if(s!==a){if(Object(T.C)(a)){const e=Object(T.f)(a),t=Object(T.e)(e),n=Object(Dt.j)(i,e);if(u=t,!Kl()(i.ids,n)){const n=yield Hi(sp);yield $i(Object(Sc.a)(e,t,n)),b=[mc.t,mc.u]}}else Kl()(i.ids,a)||(yield $i(Object(Sc.b)({conversationId:a})),b=[mc.w,mc.x]);for(;!ue()(b);){const[e,t]=yield Vi([Bi(b[0]),Bi(b[1])]);if(u===(ce()(e,"payload.conversationResponse.id")||ce()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}d?r.replace(l):r.push(l),yield Hi(qp),n&&n.resolve(a)}catch(i){n?n.reject(qs(i)):Object(Yr.b)(i)}finally{(yield Ui(ki,{}))&&n&&n.reject(Bs.a.UNEXPECTED_ERROR)}}function*Jp(){try{const{payload:{applicationConfig:e}}=yield Bi(Br.a);yield Kr(zp.c,Qp,e)}catch(e){Object(Yr.b)(e)}}function*ef(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Wi.apply(void 0,[qr,e,t].concat(a))}(zp.a,Zp)}catch(e){Object(Yr.b)(e)}}var tf=n(350),nf=n.n(tf),af=n(590);const of={[kc.c.PROGRESS_BAR]:e=>e.status===af.a.ABORTED||e.status===af.a.ERROR},rf=e=>{var t;const n=null===(t=e.messagePayload)||void 0===t?void 0:t.attachment,a=n&&of[n.type];return a&&a(n)};class cf{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=nf()(this.queueItems,(t=>Cc.a.getId(e.message)===Cc.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const sf="EXTERNAL_MESSAGE_SEND";function*df(e){try{const{message:t,externalMessageId:n}=e,a=yield Hi(Mc,t);a&&(yield $i({type:sf,payload:{id:n,message:a}}))}catch(t){Object(Yr.b)(t)}}function*lf(e){try{for(;;){const t=yield Bi(e);rf(t.message)||(yield Hi(df,t))}}catch(t){Object(Yr.b)(t)}}let uf;function*bf(e,t){try{var n;uf||(uf=yield Hi(Or,new cf),yield qi(lf,uf));const a=yield Ki(h.c),o=Object(Dt.e)(Object(Dt.w)(a)),i=yield Ki(h.h),r=Object(Ht.d)(i),c=e.message.text,s=e.isSentByUser?Object(Vp.a)({text:c,maskingConfigs:null===t||void 0===t?void 0:t.maskingConfigs}):{text:c},d=(yield Nc()).makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:{...e.message,text:null!==(n=s.maskedText)&&void 0!==n?n:s.text,maskingDetails:s.maskedValues},conversationId:e.contextId||o,messageContext:e.messageContext,sender:e.isSentByUser?r:Us.b});if(!d)return;const l={externalMessageId:e.id,message:d};!e.sprMsgId||rf(d)?yield Wi(df,l):yield $i(uf,l);const{payload:{id:u,message:b}}=yield Bi(sf);return{id:u,message:b}}catch(a){return void Object(Yr.b)(a)}}var pf=n(409),ff=n(352);function*yf(e){let{action:t,applicationConfig:n}=e;try{if(t.payload.type!==dd.e)return;const e=yield Hi(bf,t.payload.payload,n);if(!e)return void Object(j.a)({topic:pf.R,payload:{error:ff.a.INCORRECT_PAYLOAD,request:t.payload}});const{id:a,message:o}=e;yield $i(Object(Qs.m)({id:a,conversationId:null===o||void 0===o?void 0:o.conversationId,messageId:null===o||void 0===o?void 0:o.id})),Object(j.a)({topic:pf.R,payload:{data:{id:a,conversationId:null===o||void 0===o?void 0:o.conversationId,messageId:null===o||void 0===o?void 0:o.id},request:t.payload}})}catch(a){Object(Yr.b)(a)}}function*Of(e){let{action:t}=e;try{if(t.payload.type!==dd.d)return;const{payload:e}=t.payload,n=(yield Nc()).makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:Xc()(e.event)},conversationId:e.contextId,sender:Us.b});if(!n)return;yield Hi(Mc,n)}catch(n){Object(Yr.b)(n)}}var vf=n(577),gf=n.n(vf),hf=n(680),jf=n.n(hf);const mf=/\$\{(\w+)\}/g,If=(e,t)=>{const n=Object.keys(t);return jf()(e,mf,((e,a)=>n.includes(a)?t[a]:e))},Cf=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:i}=t,r=e[`progress.${o}.${i}.title`];return If(r,{completedUnits:a,totalUnits:n})},Ef=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:i}=t,r=e[`progress.${o}.${i}.description`];return If(r,{completedUnits:a,totalUnits:n})};class Tf{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=nf()(this.queueItems,(t=>e.action.payload.contextId===t.action.payload.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const xf=(e,t)=>`${e}_${t}`,Sf=gf()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*_f(e){for(;;)try{const{action:n,localeData:a}=yield Bi(e),{payload:{contextId:o,id:i,data:r,progressContext:c}}=n,s={type:kc.c.PROGRESS_BAR,title:Cf(a,r),description:Ef(a,r),progress:r.progress,status:r.status,action:r.action,enableCancel:r.enableCancel,enableRetry:r.enableRetry},d={attachment:s,disableManualResponse:r.disableManualResponse},l=yield Hi(bf,{contextId:o,id:i,sprMsgId:Sf().get(xf(o,s.action)),message:d,messageContext:c});if(!l)return void Object(j.a)({topic:pf.R,payload:{error:ff.a.INCORRECT_PAYLOAD,request:n}});const{id:u,message:b}=l;yield $i(Object(Qs.n)({id:u,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id})),Object(j.a)({topic:pf.R,payload:{data:{id:i,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id},request:n}}),(t=s).status!==af.a.COMPLETED&&(t.status!==af.a.ABORTED&&t.status!==af.a.ERROR||t.enableRetry)?Sf().set(xf(o,s.action),null===b||void 0===b?void 0:b.id):Sf().remove(xf(o,s.action))}catch(n){Object(Yr.b)(n)}var t}let Af;function*wf(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==dd.g)return;Af||(Af=yield Hi(Or,new Tf),yield qi(_f,Af)),yield $i(Af,{action:t.payload,localeData:n})}catch(a){Object(Yr.b)(a)}}function*Mf(e,t,n){try{yield Fi([Hi(yf,{action:n,applicationConfig:t}),Hi(Of,{action:n}),Hi(wf,{action:n,localeData:e}),Hi(_p,{action:n})])}catch(a){Object(Yr.b)(a)}}function*Rf(e,t,n){try{e&&(yield Kr(e,Mf,t,n))}catch(a){Object(Yr.b)(a)}}function*Pf(){try{const{payload:{applicationConfig:t}}=yield Bi(Br.a),n=yield Yi(mc.z);let a;for(;;)try{const{payload:{data:e}}=yield Bi(Yc.c);a&&(yield Xi(a)),a=yield Wi(Rf,n,e,t)}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*Nf(){const e=Object(It.a)();yield Object(la.h)(e.appId)}function*Df(){yield Kr(ua.f,Nf)}var Lf=n(385),kf=n(358);function*Uf(e,t){let{payload:n,promise:a}=t;try{if(!ue()(n))switch(n.landingScreen){case et.a.KNOWLEDGE_BASE_LIST:{var o,i,r;const t=null!==(o=null===(i=e.cardConfigs)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.cards)&&void 0!==o?o:e.cards,n=Object(np.b)(),c=null===t||void 0===t?void 0:t.find((e=>e.type===kf.a.KNOWLEDGE_BASE)),s=at(n.location.pathname);if(!c)return void a.reject({error:Bs.a.NOT_FOUND});s!==et.a.KNOWLEDGE_BASE_LIST&&n.push(Lf.b);break}default:return void a.reject({error:Bs.a.NOT_FOUND})}Object(T.Q)()&&(yield $i({type:ua.d,payload:{}})),a.resolve(void 0)}catch(c){Object(Yr.b)(c),a.reject({error:Bs.a.UNEXPECTED_ERROR})}}function*Gf(){try{const{payload:{applicationConfig:e}}=yield Bi(Br.a);yield Kr(ua.m,Uf,e)}catch(e){Object(Yr.b)(e)}}function*Bf(){try{yield Fi([Wi(Jp),Wi(ef),Wi(Pf),Wi(Df),Wi(Gf)])}catch(e){Object(Yr.b)(e)}}var $f=n(275);const Ff=e=>{const t=Object(Dt.q)(Object(h.c)(e));return{totalCount:Object(Dt.x)(t),byExternalCaseIds:Object(Dt.t)(t)}};function*Vf(){try{let t=yield Ki(Ff);for(;;)try{yield Vi({notificationReceived:Bi(mc.R),notificationRead:Bi(mc.Q),notificationsReceived:Bi(mc.P)});const e=yield Ki(Ff);t.totalCount!==e.totalCount&&(Object(j.a)({topic:E.m,payload:{data:{count:e.totalCount,additional:{...ue()(e.byExternalCaseIds)?{}:{byExternalCaseIds:e.byExternalCaseIds}}}}}),t=e)}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*zf(e){try{Object(j.a)({topic:E.g,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(la.a)($f.a.getAppId(Object(It.a)()))}}}})}catch(t){Object(Yr.b)(t)}}function*Hf(){try{yield Kr(mc.A,zf)}catch(e){Object(Yr.b)(e)}}function Wf(e){try{Object(j.a)({topic:E.f,payload:{data:e.payload.payload},callback:e.payload.callback})}catch(t){Object(Yr.b)(t)}}function*qf(){try{yield Kr(mc.y,Wf)}catch(e){Object(Yr.b)(e)}}function*Xf(){try{yield Fi([Wi(Vf),Wi(Hf),Wi(qf)])}catch(e){Object(Yr.b)(e)}}var Kf=n(255);async function Yf(e,t){return(await Kf.a.post(`/livechat/upload?conversationId=${t}`,{file:e,fileName:e.name},{multipart:!0})).data}function*Qf(e,t,n){try{if(e.size>t){throw{response:{status:413,statusText:"Payload Too Large"}}}return{token:yield Hi(Yf,e,n)}}catch(a){return{error:a}}}var Zf=n(480),Jf=n(501);function ey(e){return Kl()(Jf.c,e)}function ty(e){return new Promise((t=>{if(!e)return void t({});const n=document.createElement("img");n.onload=e=>{const n=e.target;n&&t({height:n.naturalHeight,width:n.naturalWidth})},n.src=e}))}function*ny(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(ey(a.type)){const e=i?void 0:URL.createObjectURL(a),{height:c,width:s}=yield Hi(ty,e),d=yield Nc(),l=yield Hi(Sc.p,d.makeImageAttachmentMessage({attachmentProperties:{height:c,width:s,url:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(l);const{token:u,error:b}=yield Hi(Qf,a,r,t);if(u){const t=Object(Zf.f)({chatMessage:l.payload.chatMessage,token:u});yield Hi(Rc,t),e&&URL.revokeObjectURL(e)}else yield Hi(_c,{chatMessage:l.payload.chatMessage,conversationId:t,transientId:l.payload.chatMessage.id,error:b})}}catch(c){Object(Yr.b)(c)}}function ay(e){return Kl()(Jf.e,e)}function oy(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const a=document.createElement("canvas");a.height=n.videoHeight,a.width=n.videoWidth;const o=a.getContext("2d");if(o){o.drawImage(n,0,0,a.width,a.height);(a.toBlob||a.msToBlob).bind(a)((e=>{const a=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:a,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*iy(e,t,n){try{return yield Hi(Qf,e,t,n)}catch(a){return void Object(Yr.b)(a)}}function*ry(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(ay(a.type)){const e=URL.createObjectURL(a),{previewImageFile:c,height:s,width:d}=yield Hi(oy,e),l=URL.createObjectURL(c),u=yield Nc(),b=yield Hi(Sc.p,u.makeVideoAttachmentMessage({attachmentProperties:{height:s,width:d,previewImageUrl:i?null:l,url:i?null:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(b);const[{token:p,error:f},{token:y}]=yield Fi([Hi(Qf,a,r,t),Hi(iy,c,r,t)]);if(p){const t=Object(Zf.g)({chatMessage:Object(Zf.f)({chatMessage:b.payload.chatMessage,token:p}),token:y});yield Hi(Rc,t),URL.revokeObjectURL(e),URL.revokeObjectURL(l)}else yield Hi(_c,{chatMessage:b.payload.chatMessage,conversationId:t,transientId:b.payload.chatMessage.id,error:f})}}catch(c){Object(Yr.b)(c)}}function cy(e){return Kl()(Jf.a,e)}function*sy(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(cy(a.type)){const e=i?null:URL.createObjectURL(a),c=yield Nc(),s=yield Hi(Sc.p,c.makeAudioAttachmentMessage({attachmentProperties:{url:e,mimeType:a.type,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(s);const{token:d,error:l}=yield Hi(Qf,a,r,t);if(d){const t=Object(Zf.f)({chatMessage:s.payload.chatMessage,token:d});yield Hi(Rc,t),e&&URL.revokeObjectURL(e)}else yield Hi(_c,{chatMessage:s.payload.chatMessage,conversationId:t,transientId:s.payload.chatMessage.id,error:l})}}catch(c){Object(Yr.b)(c)}}var dy=n(871);const ly={"application/pdf":dy.a.PDF,"text/plain":dy.a.DOCUMENT,"application/msword":dy.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":dy.a.WORD_DOCUMENT,"application/vnd.ms-excel":dy.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":dy.a.EXCEL,"application/vnd.ms-powerpoint":dy.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":dy.a.PRESENTATION,"application/onenote":dy.a.ONENOTE,"application/json":dy.a.DOCUMENT};function*uy(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(!(ey(a.type)||cy(a.type)||ay(a.type))){const e=i?null:URL.createObjectURL(a),c=yield Nc(),s=yield Hi(Sc.p,c.makeDocumentAttachmentMessage({attachmentProperties:{url:e,title:a.name,documentType:ly[a.type]},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(s);const{token:d,error:l}=yield Hi(Qf,a,r,t);if(d){const t=Object(Zf.f)({chatMessage:s.payload.chatMessage,token:d});yield Hi(Rc,t),e&&URL.revokeObjectURL(e)}else yield Hi(_c,{chatMessage:s.payload.chatMessage,conversationId:t,transientId:s.payload.chatMessage.id,error:l})}}catch(c){Object(Yr.b)(c)}}function*by(e,t){try{const{isAttachmentMasked:n,maximumContentLength:a}=e,{conversationId:o,chatUserId:i,file:r,inReplyToChatMessageId:c}=t.payload,s={conversationId:o,chatUserId:i,file:r,inReplyToChatMessageId:c,isAttachmentMasked:n,maximumContentLength:a};yield Fi([Hi(ny,s),Hi(ry,s),Hi(sy,s),Hi(uy,s)])}catch(n){Object(Yr.b)(n)}}var py=function*(){try{const{payload:{applicationConfig:e}}=yield Bi(Br.a);yield Kr(zp.b,by,{isAttachmentMasked:!!e.maskAttachment,maximumContentLength:e.maximumContentLength})}catch(e){Object(Yr.b)(e)}};let fy;function*yy(e){for(;;)try{let t;yield Bi(Qr.b),fy=Date.now(),yield Bi(Qr.a),t=Date.now();(e||fy&&t-fy>=3e5)&&(fy=void 0,yield $i({type:Qr.k,payload:{}}))}catch(t){Object(Yr.b)(t)}}function*Oy(){try{const e=Object(lp.a)();yield Fi([Wi(yy,e)])}catch(e){Object(Yr.b)(e)}}var vy=n(853);function*gy(){try{for(;;)try{yield Bi(ua.g);Object(T.P)()?Object(j.a)({topic:E.d}):yield $i(Object(Ie.b)())}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*hy(){try{for(;;)try{const e=yield Bi(ua.l),{isMediaOpen:t}=e.payload;t?Object(j.a)({topic:E.i}):Object(j.a)({topic:E.h})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*jy(){try{const{payload:{applicationConfig:e}}=yield Bi(Br.a);setTimeout((()=>{const t=ce()(e,"otherConfigs.theme.icons",{});lc()(t,(e=>{Object(vy.a)(e)}))}),1e4)}catch(e){Object(Yr.b)(e)}}function*my(){try{yield Fi([Wi(gy),Wi(hy),Wi(jy)])}catch(e){Object(Yr.b)(e)}}var Iy=n(407),Cy=n(806);function*Ey(e){try{const{user:t,userContext:n,customUser:a}=e.payload||{},o=Object(Ht.c)(yield Ki(he.h)),i=Zc.a.getId(o),r=Object(T.R)(n);if(!Ns()(a)&&Object(Kc.b)(i)||Ns()(a)&&Object(Kc.a)(t)&&!Object(Kc.b)(i)||Object(Kc.b)(i)&&Object(Kc.e)(t,o)){const e=sc()(Object(It.a)(),{userContext:{$merge:r},user:{$set:{...Object(It.a)().user||{},...t||{}}},customUser:{$set:a}});Object(It.f)(e);const{data:n}=yield Hi(Qc.e,{...o,...t,customContext:r,customUser:a});return yield $i(Object(c.c)({action:ot.a.USER_PROFILE_UPDATED})),void(yield $i({type:Yc.h,payload:{users:[n]}}))}const s=sc()(Object(It.a)(),{userContext:{$set:r},user:{$set:t},customUser:{$set:a}});return Object(It.f)(s),void Object(Iy.e)({shouldReboot:!0,shouldContinueSession:(!Ns()(a)||!Object(Kc.a)(t))&&!Object(Kc.b)(i)})}catch(t){Object(Yr.b)(t)}}function*Ty(){try{yield Kr(Cy.a,Ey)}catch(e){Object(Yr.b)(e)}}function*xy(e,t){try{yield $i(Object(Ie.i)(e,t))}catch(n){Object(Yr.b)(n)}}function*Sy(e,t,n){try{const e=yield Ki(h.b),t=Object(g.e)(e),n=Object(Ht.c)(yield Ki(he.h)).userId;let a={};lc()(t,((e,t)=>{a={...a,[t]:e.enabled}})),yield Object(la.o)(n,a)}catch(a){yield Hi(xy,e,n),Object(Yr.b)(a)}}function*_y(){try{for(;;){const e=yield Bi(ua.t),{userPreferenceKey:t,newValue:n,oldValue:a}=e.payload;yield Hi(xy,t,n),yield Hi(Sy,t,n,a)}}catch(e){Object(Yr.b)(e)}}function*Ay(){try{yield Fi([Wi(Ty),Wi(_y)])}catch(e){Object(Yr.b)(e)}}function*wy(){try{return vr((e=>{const t=()=>{e(Object(c.g)(!0))},n=()=>{e(Object(c.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}catch(e){Object(Yr.b)(e)}}function*My(){let e;try{for(e=yield Hi(wy);;){const t=yield Bi(e);yield $i(t)}}catch(t){Object(Yr.b)(t)}finally{e&&e.close()}}function Ry(){return vr((e=>{const t=Object(It.b)();if(!t)return vt.a;const n=()=>{const t=Object(xt.d)();t||e({type:Qr.b}),t&&e({type:Qr.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*Py(){let e;try{for(e=yield Hi(Ry);;){const t=yield Bi(e);yield $i(t)}}catch(t){Object(Yr.b)(t)}finally{e&&e.close()}}var Ny=n(761);function*Dy(e){try{const{ssoId:t,conversationId:n,messageId:a}=e.payload;yield Object(Ny.b)({ssoId:t,conversationId:n,messageId:a}),e.promise&&e.promise.resolve(),Object(Iy.e)({shouldReboot:!0,shouldContinueSession:!0})}catch(t){e.promise&&e.promise.reject()}}function*Ly(){try{yield Kr(Qr.c,Dy)}catch(e){Object(Yr.b)(e)}}function*ky(){try{yield Fi([Wi(Ly)])}catch(e){Object(Yr.b)(e)}}let Uy=!0;function*Gy(){try{for(;;)try{yield Bi(ua.b),yield $i({type:ua.c,payload:{}})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*By(){try{for(;;)try{yield Bi(ua.d),yield $i({type:ua.e,payload:{}})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*$y(e){try{var t,n;let a,o;Uy=!1;const i=new Promise(((e,t)=>{a=e,o=t}));yield $i(Object(c.a)({ssoId:null===(t=e.otherConfigs)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.autoLoginSSOId})({resolve:a,reject:o})),yield i}catch(a){Object(Yr.b)(a)}finally{yield Wi(By),yield $i({type:ua.d,payload:{}})}}function*Fy(){try{const{payload:{applicationConfig:e}}=yield Bi(Br.a);if(Object(T.P)())return;if(!Uy||!Object(Ny.a)(e))return void(yield Wi(By));yield Bi(ua.d),yield Hi($y,e)}catch(e){Object(Yr.b)(e)}}function*Vy(){try{yield Fi([Wi(Fy),Wi(Gy)])}catch(e){Object(Yr.b)(e)}}var zy=n(487);var Hy=n(488),Wy=n(872),qy=n(873);function*Xy(e){try{const{type:t,buttonId:n,promptId:a}=e.payload,o=yield Ki(h.d),i=Oc()(o,(e=>e.id===a));if(!i)return;t!==qy.a.TRIGGERED&&(yield $i(function(e){return{type:zy.b,payload:{promptId:e}}}(a)));const r=Oc()(i.buttons,(e=>e.id===n));t===qy.a.ENGAGED&&r&&r.type===qy.b.URL&&r.value?window.open(Object(ap.d)(r.value)):t!==qy.a.ENGAGED||r&&r.type===qy.b.CLOSE||(yield $i(Object(Hy.b)({initialMessages:bc()([...Io()(i.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),r?{isSentByUser:!0,message:r.label}:void 0]),createCase:!!ce()(i.additional,"createCase"),additional:{...Jl()(i.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}})())),Object(j.a)({topic:E.k,payload:{data:{type:t,id:a,button:r}}})}catch(t){Object(Yr.b)(t)}}function*Ky(){try{yield Kr(Wy.a,Xy)}catch(e){Object(Yr.b)(e)}}var Yy=n(55),Qy=n.n(Yy),Zy=n(874);const Jy="CANCEL_ACTION_TYPE",eO=e=>{let{sessionManagedByClient:t}=e,n=null;const a=e=>{let{sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:o}=e;try{Object(Zy.a)(),n=setTimeout((()=>{a({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:o})}),((e,t)=>{const n=60*e*1e3-t,a=60*e*1e3/3;return n<=a?Math.max(n-2e3,0):a})(t,o))}catch(i){Object(Yr.b)(i)}};return{startHandler:t?function*(){try{for(;;){yield $i(Object(c.c)({label:ot.a.SESSION_ACTIVE.label,action:ot.a.SESSION_ACTIVE}));const{cancel:e}=yield Vi({delay:Qi(15e3),cancel:Bi(Jy)});if(e)break}}catch(e){Object(Yr.b)(e)}}:a,stopHandler:function*(){try{n&&clearTimeout(n),yield $i({type:Jy,payload:{}})}catch(e){Object(Yr.b)(e)}}}};function*tO(e){let{startEvents:t,stopEvents:n}=e;try{var a,o,i;const{payload:{applicationConfig:e}}=yield Bi(Br.a),c=e.autoExpireUserSessionTimeInMinutes,s=null===(a=e.otherConfigs.settings)||void 0===a||null===(o=a.autoExpiryConfig)||void 0===o?void 0:o.alertTime,d=c&&s,l=null===(i=e.otherConfigs.settings)||void 0===i?void 0:i.sendSessionActiveEvent;if(!d&&!l)return;const u=t.map((e=>Bi(e))),b=n.map((e=>Bi(e))),{startHandler:p,stopHandler:f}=yield Hi(eO,{sessionManagedByClient:l});try{for(;;)yield Vi(u),yield Wi(p,{sessionExpiryTimeInMinutes:c,sessionExpiryAlertTime:s}),yield Vi(b),yield Hi(f)}catch(r){Object(Yr.b)(r)}finally{yield Hi(f)}}catch(r){Object(Yr.b)(r)}}var nO=n(670);function*aO(){try{const{appId:e}=Object(It.a)();yield Hi(nO.a.remove,e)}catch(e){Object(Yr.b)(e)}}function*oO(e){try{const{appId:t}=Object(It.a)(),n=yield Hi(nO.a.get,t);yield Hi(nO.a.set,t,Qy()(n,e.payload.state))}catch(t){Object(Yr.b)(t)}}function*iO(){try{yield Fi([Wi(tO,{startEvents:[bs.j,bs.n,bs.p,bs.o,bs.k,bs.l,bs.m],stopEvents:[bs.i,bs.q,bs.h,bs.r]}),Kr([bs.h,bs.i],aO),Kr(bs.k,oO)])}catch(e){Object(Yr.b)(e)}}function*rO(){try{yield Fi([Wi(tO,{startEvents:[db.g,db.u,db.v],stopEvents:[db.e,db.c,db.n,db.b]})])}catch(e){Object(Yr.b)(e)}}var cO=n(406);function sO(e){return e.type===Zr.u}function dO(e){return e.type===Zr.n}function*lO(e){try{const t=yield Ki(h.h),n=Object(Ht.c)(t);yield Fi(e.filter(sO).map((e=>(Object(Kc.d)(n)||cO.d.emit({type:cO.a,payload:{shouldReboot:e.payload.shouldReboot}}),null))))}catch(t){Object(Yr.b)(t)}}function*uO(e){try{yield Fi(e.filter(dO).map((e=>$i({type:ua.j,payload:e.payload}))))}catch(t){Object(Yr.b)(t)}}function*bO(e){try{const{events:t}=e.payload;yield Fi([Hi(lO,t),Hi(uO,t)])}catch(t){Object(Yr.b)(t)}}function*pO(){try{yield Kr(Qr.j,bO)}catch(e){Object(Yr.b)(e)}}var fO=n(449),yO=n.n(fO),OO=n(682);function vO(e){const t=()=>{Object(OO.a)().disconnect().then((()=>{Object(m.a)("MQTT Client | Disconnected")})).catch((e=>{Object(Vs.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{Object(OO.a)().connect().catch((e=>{Object(Vs.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=Object(OO.a)();e.on("error",(()=>{Object(m.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(m.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(m.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(m.a)("MQTT Client | Closed")}))}(),Object(OO.a)().subscribe().catch((e=>{Object(Vs.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),Object(OO.a)().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(a){Object(Yr.b)(a)}}))}catch(n){Object(Yr.b)(n),t()}return t}var gO=n(842);const hO=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},jO=gf()((()=>{let e=hO();return{set:t=>{e=t||e},get:()=>e}}));let mO=!0;function IO(e,t){const n=jO();return new gO.a((function(){return Date.now(),function(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n,active:a}=e||ro.a;return(yield Gr.a.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{lastActiveDiff:n,active:a},{headers:{"x-chat-auto":!0},backoff:!0})).data}))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((t=>{const{results:a,afterCursor:o,details:i,browserTimeAtServerTime:r}=t,{SERVER_TIMESTAMP:c}=i,s={type:ua.o,payload:{serverTimestamp:c,browserTimeAtServerTime:r}};e(null,a,{isFirstCall:mO,serverTimeDifferenceAction:s}),mO=!1,n.set(o)})).catch((t=>{e(Object(Vs.c)(t)?t:null,[],{})}))}),{...t||{},pollInterval:15e3})}var CO=n(1530),EO=n(1536),TO=n(1431);const xO=Object(CO.a)(["payload","type"]),SO=Object(EO.a)("conversationId"),_O=Object(EO.a)("sender"),AO=Object(EO.a)("payload"),wO=Object(EO.a)("creationTime");class MO{}MO.getMessageType=Object(TO.a)(xO),MO.getConversationId=Object(TO.a)(SO),MO.getSender=Object(TO.a)(_O),MO.getCreationTime=Object(TO.a)(wO),MO.getPayload=e=>Object(TO.a)(AO)(e);const RO={[Zr.r]:e=>({payload:{conversationId:MO.getConversationId(e),messageId:MO.getPayload(e).messageId},type:Zr.r}),[Zr.q]:e=>({payload:{conversationId:MO.getConversationId(e),messageId:MO.getPayload(e).messageId},type:Zr.q}),[Zr.o]:e=>({payload:{...Xa()(e.payload.externalEvent,["type","action","conversationId","payload"]),actionType:MO.getPayload(e).externalEvent.action,externalParams:MO.getPayload(e).externalEvent.payload,contextId:MO.getConversationId(e)},type:Zr.o}),[Zr.s]:e=>({type:MO.getPayload(e).event.action,payload:MO.getPayload(e).event.payload?JSON.parse(MO.getPayload(e).event.payload):{}}),[Zr.k]:e=>({payload:{conversationId:MO.getConversationId(e),chatUserId:MO.getPayload(e).chatUserId},type:Zr.k}),[Zr.i]:e=>({payload:{conversationId:MO.getConversationId(e),sender:MO.getSender(e),actionTime:MO.getCreationTime(e)},type:Zr.i}),[Zr.j]:e=>({payload:{conversationId:MO.getConversationId(e),sender:MO.getSender(e),actionTime:MO.getCreationTime(e)},type:Zr.j}),[Zr.l]:e=>({payload:{conversationId:MO.getConversationId(e),sender:MO.getSender(e),closed:MO.getPayload(e).closed,deleted:MO.getPayload(e).deleted,caseNumber:MO.getPayload(e).caseNumber,caseId:MO.getPayload(e).caseId,expireAssetUntilLastMessageId:MO.getPayload(e).lastMessageId,requestClientId:null===e||void 0===e?void 0:e.requestClientId},type:Zr.l}),[Zr.d]:e=>{const t=MO.getPayload(e).audioOnly;return{payload:{videoConversationId:MO.getPayload(e).videoConversationId,conversationId:MO.getConversationId(e),participantInfos:MO.getPayload(e).participantInfos,type:t?me.b.AUDIO:me.b.VIDEO},type:Zr.d}},[Zr.c]:e=>({payload:{conversationId:MO.getConversationId(e),videoConversationId:MO.getPayload(e).videoConversationId},type:Zr.c}),[Zr.h]:e=>({payload:{conversationId:MO.getConversationId(e),videoCallEnabled:MO.getPayload(e).videoEnabled,audioCallEnabled:MO.getPayload(e).audioEnabled},type:Zr.h}),[Zr.g]:e=>({payload:{conversationId:MO.getConversationId(e),permissions:MO.getPayload(e).permissions,videoConversationId:MO.getPayload(e).videoConversationId},type:Zr.g}),[Zr.f]:e=>({payload:{conversationId:MO.getConversationId(e),videoConversationId:MO.getPayload(e).conversation.id,conversation:MO.getPayload(e).conversation,participant:MO.getPayload(e).participant},type:Zr.f}),[Zr.b]:e=>({payload:{conversationId:MO.getConversationId(e),videoConversationId:MO.getPayload(e).videoConversationId},type:Zr.b}),[Zr.e]:e=>({payload:{conversationId:MO.getConversationId(e),videoConversationId:MO.getPayload(e).videoConversationId},type:Zr.e}),[Zr.m]:e=>({payload:{status:MO.getPayload(e).status},type:Zr.m}),[Zr.a]:e=>{const{action:t}=MO.getPayload(e);return{payload:{additional:{conversationId:MO.getConversationId(e),actionIdentifier:t.params.actionIdentifier},request:{url:t.params.httpUrl,method:t.params.httpMethod,payload:t.params.httpPayload},id:t.params.requestId,type:t.actionType},type:Zr.a}},[Zr.n]:e=>{const{request:t,id:n}=e.payload;return{payload:{request:t,id:n,type:t.type},type:Zr.n}},[Zr.u]:e=>{const{shouldReboot:t}=MO.getPayload(e);return{payload:{shouldReboot:t},type:Zr.u}}};function PO(e){try{const t=MO.getMessageType(e),n=RO[t];if(n)return n(e)}catch(t){Object(Yr.b)(t)}}const NO=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),DO=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t||Object(xt.d)()?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),LO=(e,t)=>function(e,t){let n;function a(){n&&n.stop()}try{n=IO(e,t),n.start()}catch{a()}return a}(((t,n,a)=>{let{isFirstCall:o,serverTimeDifferenceAction:i}=a;if(e(Object(c.g)(!t)),t)return;i&&e(i);const r=n.filter((e=>!NO.has(e.id))).map(PO).filter((e=>!!e)).filter((e=>!o||!(e=>e.type===Zr.f||e.type===Zr.d)(e)));e(r),NO.clear()}),{...t,getLastActiveTimeDifference:DO.getLastActiveTimeDifference});function kO(){return vr((e=>{const t=(e=>vO((t=>{const n=PO(t);n&&(NO.add(t.id),e(n))})))(e);return()=>{t()}}))}function UO(){return vr((e=>{const t=LO(e);return()=>{t()}}))}function GO(){return vr((e=>{const t=LO(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const BO=e=>e.type===Qr.d,$O=e=>e.type===ua.o,FO=e=>!BO(e)&&!$O(e);function*VO(e){try{yield Fi(e.filter(BO).map((e=>$i(e))))}catch(t){Object(Yr.b)(t)}}function*zO(e){try{yield $i(yO()(e,$O))}catch(t){Object(Yr.b)(t)}}function*HO(e){try{let t=e.filter(FO);if(Object(T.E)()){const{isConversationPath:e,conversationId:n}=yield Ki(op.c);t=t.filter((t=>((e,t,n)=>{const a=ce()(e.payload,"contextId")||ce()(e.payload,"conversationId");return!!t&&(!a||!n||n.startsWith(Us.e)||a===n)})(t,e,n)))}ue()(t)||(yield $i({type:Qr.j,payload:{events:t}}),yield $i(Object(c.e)()))}catch(t){Object(Yr.b)(t)}}function*WO(e){try{const t=Xc()(e);yield Fi([Hi(VO,t),Hi(zO,t),Hi(HO,t)])}catch(t){Object(Yr.b)(t)}}function*qO(){try{let t,n;try{t=yield Hi(GO),n=yield Kr(t,WO),yield Bi(Qr.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*XO(){try{for(;;){yield Bi(Qr.b);const[e,t]=yield Vi([Bi(Qr.a),Qi(18e5)]);if(t)break}}catch(e){Object(Yr.b)(e)}}function*KO(){try{let t,n;try{t=yield Hi(UO),n=yield Kr(t,WO),yield Hi(XO)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*YO(){try{for(;;){yield Bi(Qr.b);const[e,t]=yield Vi([Bi(Qr.a),Qi(108e5)]);if(t)break}}catch(e){Object(Yr.b)(e)}}function*QO(){try{let t,n;for(;;)try{yield Vi([Bi(Qr.h),Bi(Qr.a)]),t=yield Hi(kO),n=yield Kr(t,WO),yield Hi(YO)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*ZO(){try{for(yield Vi([Bi(Qr.g),Bi(Qr.a)]);;)yield Hi(KO),yield Hi(qO)}catch(e){Object(Yr.b)(e)}}function*JO(){try{for(;;){const[e,t]=yield Vi([Bi(Qr.a),Bi(Qr.b)]);DO.setAppActive(!!e)}}catch(e){Object(Yr.b)(e)}}function*ev(){try{yield Bi(Br.c),NO.clear()}catch(e){Object(Yr.b)(e)}}function*tv(){try{yield Fi([Wi(QO),Wi(ZO),Wi(JO),Wi(ev)])}catch(e){Object(Yr.b)(e)}}var nv=n(489);function av(e){return e.type===Zr.a}function*ov(e){try{yield Fi(e.filter(av).map((e=>$i({type:nv.a,payload:e.payload}))))}catch(t){Object(Yr.b)(t)}}function*iv(e){try{const{events:t}=e.payload;yield Fi([Hi(ov,t)])}catch(t){Object(Yr.b)(t)}}function*rv(){try{yield Kr(Qr.j,iv)}catch(e){Object(Yr.b)(e)}}const cv=new(n(630).a),sv=async e=>{const{method:t="GET",url:n="",payload:a=ro.a,headers:o=ro.a}=e;let i,r;try{const e="POST"===t||"PUT"===t?await cv[t.toLowerCase()](n,a,{withCredentials:!0,headers:o}):await cv[t.toLowerCase()](n,{withCredentials:!0,headers:o});i=e.request.status,r=e.request.responseText}catch(c){Object(Yr.b)(c),Object(Vs.f)(c)?(i=c.request.status,r=c.request.responseText):(i=500,r="")}return{status:i,responseText:r}},dv=async e=>{const{status:t,responseText:n}=await sv(e.request);await Gr.a.post("livechat/conversation/process-endpoint-response",{status:t,response:n,id:e.id})},lv=async e=>{const{request:t,additional:n,id:a}=e,{status:o,responseText:i}=await sv(t);await Gr.a.post(`/livechat/cart/on-add-to-cart/${n.conversationId}`,{status:o,responseText:i,actionIdentifier:n.actionIdentifier,requestId:a})},uv=e=>Gr.a.post("/livechat/cart/update-cart",e),bv=e=>Gr.a.post("/livechat/cart/remove-from-cart",e);function*pv(e){try{const{type:t,request:n,additional:a,id:o}=e.payload;"HTTP_REQUEST"===t&&(yield Hi(lv,{request:n,additional:a,id:o}))}catch(t){Object(Yr.b)(t)}}function*fv(){try{yield Kr(nv.a,pv)}catch(e){Object(Yr.b)(e)}}var yv=n(446);const Ov={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},vv={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Ov,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},gv={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Ov,quantity:{type:"number"}}}}};function*hv(e){try{const n=(t=e.payload,Object(yv.a)(t,vv));if(n)return void Object(m.a)("Invalid payload passed to update cart, please check",n);yield Hi(uv,e.payload)}catch(n){Object(Yr.b)(n)}var t}function*jv(){try{yield Kr(nv.c,hv)}catch(e){Object(Yr.b)(e)}}function*mv(e){try{const n=(t=e.payload,Object(yv.a)(t,gv));if(n)return void Object(m.a)("Invalid payload passed to remove from cart, please check",n);yield Hi(bv,e.payload)}catch(n){Object(Yr.b)(n)}var t}function*Iv(){try{yield Kr(nv.b,mv)}catch(e){Object(Yr.b)(e)}}function*Cv(){try{yield Fi([Wi(rv),Wi(fv),Wi(jv),Wi(Iv)])}catch(e){Object(Yr.b)(e)}}function*Ev(e){try{const{type:t,request:n,id:a}=e.payload;"HTTP_REQUEST"===t&&(yield Hi(dv,{request:n,id:a}))}catch(t){Object(Yr.b)(t)}}function*Tv(){try{yield Kr(ua.j,Ev)}catch(e){Object(Yr.b)(e)}}var xv=n(19),Sv=n.n(xv),_v=n(642),Av=n(640),wv=n(810),Mv=n(566),Rv=n(809);var Pv=async e=>{let t,{applicationConfig:a,preloadedState:o}=e;try{Mv.a.reset(),Object(Av.e)(Av.a.PENDING),t=await Object(_v.b)(Object(It.a)()),Object(_v.h)({handshakeDetails:t}),Object(wv.b)(t.chatUser),a.hasPrompts&&n.e(52).then(n.bind(null,1502)).then((e=>{let{default:n}=e;n(a,t)})),Vv(null,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(It.a)(),subscribeToEvent:_v.f,preloadedState:o})}catch(i){const e=$f.a.getUserSettings(Object(It.a)());Object(Vs.e)(i)&&e&&Rv.a.getOneTimeToken(e)?Vv(i,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(It.a)(),subscribeToEvent:_v.f,preloadedState:o}):await Object(_v.e)()}};function*Nv(){try{const{payload:{applicationConfig:t}}=yield Bi(Br.a);for(;;)try{const{payload:{shouldContinueSession:e}}=yield Bi(Br.b);let n;e&&(n=yield Ki(Sv.a)),yield Pv({applicationConfig:t,preloadedState:n})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*Dv(){try{yield Fi([Wi(Sp),Wi(Ky),Wi(Bf),Wi(Xf),Wi(py),Wi(My),Wi(Py),Wi(Oy),Wi(Ay),Wi(Lp),Wi(iO),Wi(rO),Wi(pO),Wi(tv),Wi(Cv),Wi(Tv)])}catch(e){Object(Yr.b)(e)}}function*Lv(){try{yield Bi(Br.c),Object(_v.d)()}catch(e){Object(Yr.b)(e)}}function*kv(){try{yield Fi([Wi(my),Wi(Nv),Wi(Vy),Wi(ky),Wi(Lv)])}catch(e){Object(Yr.b)(e)}}function*Uv(){try{yield Wi(kv);const e=yield Wi(Dv);yield Bi(Br.c),yield Xi(e)}catch(e){Object(Yr.b)(e)}}function*Gv(){try{yield Fi([Wi(tp),Wi(Uv)])}catch(e){console.log(e)}}const Bv=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(new $r).setReducer(h.a).setSaga(Gv).setPreloadedState(a).setHTTPClient(Kf.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()};function $v(e){let{applicationConfig:t,store:n,history:a}=e;const o=Object(It.b)().document,i=Object(T.P)()?T.b:T.c;r.a.render(Object(s.jsx)(wo,{applicationConfig:t,history:a,store:n}),i(o,Oo.a))}function Fv(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:i}=t;const r=Bv(n,a,o),c=Object(np.b)({isUnauthorized:!!e});Object(OO.b)(a,n);i((t=>{e||r.dispatch(t)})),$v({applicationConfig:n,store:r,history:c})}function Vv(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:i,preloadedState:r}=t;const c=Bv(n,a,o,r),s=Object(np.b)({isUnauthorized:!!e,reset:!r});Object(OO.b)(a,n);i((t=>{e||c.dispatch(t)})),$v({applicationConfig:n,store:c,history:s}),r?s.goBack():s.go(s.entries.length-1)}},747:function(e,t,n){"use strict";n.d(t,"b",(function(){return qe})),n.d(t,"a",(function(){return Ke}));var a=n(566),o=n(253),i=n(639),r=n(640),c=n(805),s=n(352),d=n(267),l=n.n(d),u=n(31),b=n.n(u),p=n(310);const f="APP_AVAILABLE",y="APP_IN_SESSION";var O=n(0),v=n(1);function g(e,t){const n=Object(O.R)(t);if(b()(n))return;const a=l()(Object(v.a)(),{userContext:{$merge:n}});Object(v.f)(a),e({type:p.g,payload:n})}g.dependecies=[y];var h=n(806);function j(e,t){e({type:h.a,payload:t})}j.dependecies=[y];var m=n(242),I=n(220);function C(e){e({type:m.f,payload:I.a})}function E(e,t,n){new Promise(((n,a)=>{e({type:m.m,payload:null!==t&&void 0!==t?t:I.a,promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}C.dependecies=[y],E.dependecies=[f];var T=n(350),x=n.n(T),S=n(213),_=n.n(S),A=n(625);const w=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a,newSubscriber:o}=e;return Object(A.b)(_.a,{topic:t,subscriber:o}),n.push({legacySubscriber:a,newSubscriber:o}),n},M=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a}=e;const o=x()(n,(e=>{let{legacySubscriber:t}=e;return t===a}));return-1!==o&&(Object(A.c)(_.a,{topic:t,subscriber:n[o].newSubscriber}),n.splice(o,1)),n};var R=n(245);function P(e){Object(O.Q)()&&e({type:m.b,payload:I.a})}P.dependecies=[f];let N=[];var D=n(8),L=n.n(D);let k=[];let U=[];var G=n(487);function B(e,t){e({type:G.a,payload:t})}function $(e,t){e({type:G.b,payload:{promptId:t.id}})}B.dependecies=[y,f],$.dependecies=[y];let F=[];var V=n(2),z=n.n(V),H=n(5),W=n.n(H),q=n(271),X=n(488),K=n(409);function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=z()(t)?t:L()(t,"initialMessages");new Promise(((a,o)=>{e(Object(X.b)({initialMessages:n,conversationContext:L()(t,"conversationContext"),assignToUser:L()(t,"assignToUser"),createCase:!!L()(t,"autoInitiateConversation"),additional:!z()(t)&&W()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!L()(t,"silent")})({resolve:a,reject:o}))})).then((e=>{Object(q.a)({topic:K.M,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(q.a)({topic:K.M,payload:{error:e,request:t}})}))}Y.dependecies=[y,f];var Q=n(339);function Z(e,t){const n=Object(Q.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}Z.dependecies=[f];var J=n(263),ee=n.n(J),te=n(235);function ne(e,t){ee()(t.payload)?Object(q.a)({topic:K.R,payload:{error:s.a.INCORRECT_PAYLOAD,request:t}}):e({type:te.z,payload:t})}ne.dependecies=[y,f];var ae=n(641);function oe(e,t){const n={...t,context:Object(O.R)(t.context)};new Promise(((a,o)=>{const i=t.conversationId;ae.a.info({chatConversationId:i,message:`${i}: updateConversationContext SDK called`,additionalDetails:{params:n}}),e({type:te.k,payload:n,promise:{resolve:a,reject:o}})})).then((e=>{Object(q.a)({topic:K.X,payload:{data:e,request:{...n,conversationId:n.conversationId||e.conversationId},shouldLogEvent:!0}})})).catch((e=>{Object(q.a)({topic:K.X,payload:{error:e,request:n,shouldLogEvent:!0}})}))}function ie(e,t){const n=Object(O.R)(t);if(b()(n))return;const a=l()(Object(v.a)(),{clientContext:{$merge:n}});Object(v.f)(a),e({type:te.e,payload:{context:n}})}oe.dependecies=[y],ie.dependecies=[f];let re=[];let ce=[];let se=[];let de=[];function le(e){Object(O.Q)()&&e({type:m.i,payload:I.a})}function ue(e){Object(O.Q)()&&e({type:m.h,payload:I.a})}le.dependecies=[y],ue.dependecies=[f];let be=[];var pe=n(489);function fe(e,t){e({type:pe.c,payload:t})}function ye(e,t){e({type:pe.b,payload:t})}fe.dependecies=[y],ye.dependecies=[y];var Oe=n(81),ve=n.n(Oe),ge=n(255),he=n(446);he.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const je={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},me=Object.assign(Object.assign({},je),{deviceToken:{type:"string",presence:!0}});function Ie(e,t){if(t.appVersion=ve()(t.appVersion),n=t,Object(he.a)(n,me))throw Object(o.a)("Invalid device registration payload",t),new Error(s.a.INCORRECT_PAYLOAD);var n;return ge.a.post("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(s.a.NETWORK_FAILURE)}))}Ie.dependecies=[y];let Ce=[];function Ee(e,t){if(t.appVersion=ve()(t.appVersion),n=t,Object(he.a)(n,je))throw Object(o.a)("Invalid device unregistration payload",t),new Error(s.a.INCORRECT_PAYLOAD);var n;return ge.a.post("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(s.a.NETWORK_FAILURE)}))}Ee.dependecies=[y];let Te=[];let xe=[];var Se=n(311),_e=n(198);function Ae(e,t){const{type:n,...a}=t;switch(n){case Se.r:{const t=a.cId;new Promise(((n,a)=>{e(Object(X.a)({conversationId:t},{resolve:n,reject:a}))})).catch((e=>{Object(_e.b)(e)}));break}}}Ae.dependecies=[y,f];var we=n(33),Me=n.n(we);const Re=e=>{Le(_.a,e)};let Pe=null,Ne=Re;function De(e,t){Me()(t)&&(Ne=t)}function Le(e,t){Pe&&(Pe(t),Pe=null)}Object(A.b)(_.a,{topic:R.j,subscriber:e=>{let{response:t}=e;const{data:n={}}=t||{},{callBack:a,permissions:o}=n;Pe=a,Ne(o)}});const ke=(e,t,n)=>{e({type:m.a,payload:{id:t.id,filters:t.filters,cb:n}})};ke.dependecies=[y];const Ue=(e,t)=>{e({type:m.n,payload:{id:t.id}})};Ue.dependecies=[y];const Ge=e=>{ge.a.post("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(q.a)({topic:K.g,payload:{data:e.data}})})).catch((()=>{Object(q.a)({topic:K.g,payload:{error:s.a.NETWORK_FAILURE}})}))};Ge.dependecies=[y];var Be=n(408);function $e(e,t){new Promise(((n,a)=>{const o=W()(t)?t:{conversationId:t};o.externalCaseId&&o.conversationId?a(Be.a.NOT_ACCEPTABLE):e(Object(X.a)(o,{resolve:n,reject:a}))})).catch((e=>{Object(_e.b)(e)}))}$e.dependecies=[y,f];var Fe=n(808);function Ve(e,t,n){new Promise(((n,a)=>{e({type:p.f,payload:{locale:t},promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}Ve.dependecies=[y,f];var ze=n(16);const He={[K.ab]:[g],[K.bb]:[j],[K.K]:[E],[K.d]:[P],[K.J]:[function(e,t){k=w({topic:R.m,legacySubscriberMap:k,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(L()(n,"count"))}})}],[K.v]:[function(e,t){k=M({topic:R.m,legacySubscriberMap:k,legacySubscriber:t})}],[K.D]:[function(e,t){U=w({topic:R.g,legacySubscriberMap:U,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],[K.q]:[function(e,t){U=M({topic:R.g,legacySubscriberMap:U,legacySubscriber:t})}],[K.y]:[function(e,t){N=w({topic:R.d,legacySubscriberMap:N,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.l]:[function(e,t){N=M({topic:R.d,legacySubscriberMap:N,legacySubscriber:t})}],[K.f]:[le],[K.e]:[ue],[K.x]:[function(e,t){xe=w({topic:R.c,legacySubscriberMap:xe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}})}],[K.k]:[function(e,t){xe=M({topic:R.c,legacySubscriberMap:xe,legacySubscriber:t})}],[K.S]:[A.b],[K.U]:[A.c],[K.a]:[ke],[K.P]:[Ue],[K.N]:[B],[K.b]:[$],[K.G]:[function(e,t){F=w({topic:R.k,legacySubscriberMap:F,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],[K.s]:[function(e,t){F=M({topic:R.k,legacySubscriberMap:F,legacySubscriber:t})}],[K.M]:[Y],[K.R]:[ne],[K.c]:[C],[K.X]:[oe],[K.W]:[ie],[K.Z]:[function(e,t,n){new Promise(((n,a)=>{const o=Object(v.a)().skin===ze.a;!t||!O.a.includes(t)||o&&"DARK"===t?a(s.a.INCORRECT_PAYLOAD):(Object(v.f)({themeMode:t}),e({type:m.r,payload:{themeMode:t},promise:{resolve:n,reject:a}}))})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}],[K.I]:[function(e,t){se=w({topic:R.i,legacySubscriberMap:se,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.u]:[function(e,t){se=M({topic:R.i,legacySubscriberMap:se,legacySubscriber:t})}],[K.z]:[function(e,t){de=w({topic:R.h,legacySubscriberMap:de,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.m]:[function(e,t){de=M({topic:R.h,legacySubscriberMap:de,legacySubscriber:t})}],[K.C]:[function(e,t){be=w({topic:R.e,legacySubscriberMap:be,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],[K.p]:[function(e,t){be=M({topic:R.e,legacySubscriberMap:be,legacySubscriber:t})}],[K.g]:[Ge],[K.L]:[$e],[K.cb]:[function(e,t){const n=t.details.status;Fe.a[n]?e({type:m.s,payload:t}):(Object(o.a)("Invaild status code",n),Object(q.a)({topic:m.s,payload:{data:t,error:s.a.INCORRECT_PAYLOAD}}))}],[K.Y]:[Ve],[K.V]:[fe],[K.Q]:[ye],[K.O]:[Ie,function(e,t){Object(q.a)({topic:R.l,payload:{data:t,error:e}})}],[K.A]:[function(e,t){Ce=w({topic:R.l,legacySubscriberMap:Ce,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],[K.n]:[function(e,t){Ce=M({topic:R.l,legacySubscriberMap:Ce,legacySubscriber:t})}],[K.T]:[Ee,function(e,t){Object(q.a)({topic:R.n,payload:{data:t,error:e}})}],[K.B]:[function(e,t){Te=w({topic:R.n,legacySubscriberMap:Te,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],[K.o]:[function(e,t){Te=M({topic:R.n,legacySubscriberMap:Te,legacySubscriber:t})}],[K.w]:[function(e,t){re=w({topic:R.a,legacySubscriberMap:re,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.j]:[function(e,t){re=M({topic:R.a,legacySubscriberMap:re,legacySubscriber:t})}],[K.E]:[function(e,t){ce=w({topic:R.b,legacySubscriberMap:ce,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],[K.r]:[function(e,t){ce=M({topic:R.b,legacySubscriberMap:ce,legacySubscriber:t})}],[K.h]:[Z],[K.F]:[Ae],[K.H]:[De],[K.t]:[function(e){De(0,Re)}],[K.i]:[Le]},We=async()=>{if(!c.a.isEmpty()){const[e,...t]=c.a.popNextCmd();await Ke(c.a.getBufferQueue(),e,...t),await We()}},qe=async()=>{c.a.isFlushingInProgress()?c.a.setIsReFlushPending(!0):(c.a.setIsFlushingInProgress(!0),await We(),c.a.setIsFlushingInProgress(!1),c.a.isEmpty(c.a.getBufferQueue())||c.a.move(c.a.getBufferQueue(),c.a.getQueue()),c.a.isReFlushPending()&&(c.a.setIsReFlushPending(!1),await qe()))};async function Xe(e,t,n){if(!t)return;for(var i=arguments.length,r=new Array(i>3?i-3:0),c=3;c<i;c++)r[c-3]=arguments[c];const s=[a.a.emit.bind(a.a),...r];try{const e=await t(...s);n&&n(void 0,e)}catch(d){Object(o.a)(d),n&&n(d)}}async function Ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.getQueue(),t=arguments.length>1?arguments[1]:void 0;const n=He[t]&&He[t][0],a=He[t]&&He[t][1],o=n&&n.dependecies&&n.dependecies.includes(f),d=n&&n.dependecies&&n.dependecies.includes(y);for(var l=arguments.length,u=new Array(l>2?l-2:0),b=2;b<l;b++)u[b-2]=arguments[b];if(d||o)return o&&!d?Object(i.b)()?void(a&&a(s.a.CHAT_UNAVAILABLE)):Object(i.a)()?void c.a.addCmdToQueue(e,[t,...u]):void Xe(t,n,a,...u):d&&!o?Object(r.c)()||Object(r.b)()?void(a&&a(s.a.CHAT_UNAVAILABLE)):Object(r.d)()?void c.a.addCmdToQueue(e,[t,...u]):void Xe(t,n,a,...u):void(Object(r.c)()||Object(r.b)()||Object(i.b)()?a&&a(s.a.CHAT_UNAVAILABLE):Object(r.d)()||Object(i.a)()?c.a.addCmdToQueue(e,[t,...u]):Xe(t,n,a,...u));Xe(t,n,a,...u)}},761:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var a=n(277),o=n(1),i=n(292),r=n(407),c=n(633);const s=async e=>{let{ssoId:t,conversationId:n,messageId:r}=e;const c=await(async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const{appId:r}=Object(o.a)(),c=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(i.a)(r)}];return n&&c.push({key:"conversationId",value:n}),a&&c.push({key:"messageId",value:a}),c})({ssoId:t,conversationId:n,messageId:r});return`https://prod2-live-chat.sprinklr.com/api/livechat/authenticate/begin?${Object(a.f)(c)}`},d=e=>{var t,n,a;return(null===(t=Object(o.a)().user)||void 0===t?void 0:t.isSSOAuthorized)&&!(null===(n=e.otherConfigs)||void 0===n||null===(a=n.settings)||void 0===a||!a.autoLoginSSOId)},l=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const d=(e=>{const t=screen.width/2,n=screen.height/2,a=t-t/2,o=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${o},left=${a}`)})(await s({ssoId:t,conversationId:n,messageId:a}));return Object(c.a)({src:`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(o.a)().appId}`,id:"subscriberIframe"}),new Promise(((e,t)=>{let n,a;a=Object(r.d)("/logout",(()=>{s(),t()})),n=setInterval((()=>{d&&d.closed&&(s(),t())}),1500);const c=async n=>{if(n.origin.match(/(sprinklr\.com)/g)&&"string"===typeof n.data)try{const{params:t}=JSON.parse(n.data);await Object(i.l)(Object(o.a)().appId,t.authToken),e(t)}catch{t()}finally{s()}},s=()=>{clearInterval(n),a&&a(),window.removeEventListener("message",c)};window.addEventListener("message",c)})).finally((()=>{d&&d.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))}},762:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return g}));var a=n(191),o=n(197),i=n(31),r=n.n(i),c=n(208),s=n(371);var d=n(670),l=n(204),u=n(1),b=n(198),p=n(392),f=n(209),y=n(295),O=n(192);const v=Object(f.a)((()=>Promise.all([n.e(0),n.e(1),n.e(54)]).then(n.bind(null,1506)))),g=Object(f.a)((()=>Promise.all([n.e(0),n.e(5),n.e(16)]).then(n.bind(null,1516))));t.c=e=>{let{parentFrameRef:t}=e;const n=Object(o.d)(l.f),i=Object(c.a)(p.q),f=!function(e){const t=Object(a.useRef)();return Object(a.useEffect)((()=>{t.current=e}),[e]),t.current}(Object(s.a)()),{appId:h}=Object(a.useMemo)((()=>Object(u.a)()),[]);return Object(a.useEffect)((()=>{if(!f)return;(async()=>{try{const e=await d.a.get(h);if(e){const{type:t}=e;Object(u.e)()("open"),i({state:{...e,type:null!==t&&void 0!==t?t:y.a.REQUEST}})}}catch(e){Object(b.b)(e)}})()}),[i,h,f]),r()(n)?null:Object(O.jsx)(a.Suspense,{fallback:null},n.type===y.a.REQUEST?Object(O.jsx)(v,null):Object(O.jsx)(g,{parentFrameRef:t}))}},766:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return T}));var a=n(49),o=n.n(a),i=n(1221),r=n.n(i),c=n(5),s=n.n(c),d=n(31),l=n.n(d),u=n(322),b=n.n(u),p=n(255),f=n(1),y=n(277),O=n(238);const v="x-chat-token",g=e=>{let{data:t,url:n}=e,a="";return l()(t)||o()(t,(function(e,t){t!==v&&(a+=`${encodeURIComponent(t)}=${encodeURIComponent(s()(e)?JSON.stringify(e):e)}&`)})),a?`${n}?${a.slice(0,-1)}`:n};const h=e=>{var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)};async function j(e){const{webview:t}=Object(f.a)();if(t){const{url:t,data:n={}}=e,a=g({url:t,data:{...n,generateUrl:!0}}),{data:{fileName:o,url:i}}=await p.a.post(a),r=document.createElement("a");r.setAttribute("href",`livechat-app:url=${Object(y.a)(i,[{key:"fileName",value:o}])}`),r.style.display="none",document.body.appendChild(r),r.click(),setTimeout((()=>h(r)),3e4)}else{const t=function(e){let{url:t,data:n,method:a=O.a.POST,contentType:o}=e;const i=b()(),c=document.createElement("form"),{body:s}=document,d=g({data:n,url:t});return c.setAttribute("id",`spr-chat-download-form-${i}`),c.setAttribute("target","_top"),c.setAttribute("action",d),c.setAttribute("method",a),c.style.display="none",o&&(c.enctype=o),null!==n&&void 0!==n&&n[v]&&(c.innerHTML=`<input type="hidden" id="x-chat-token" name="x-chat-token" value="${r()(n[v])}">`),s.appendChild(c),c}(e);t.submit(),setTimeout((()=>h(t)),3e4)}}var m=n(292),I=n(275),C=n(50);async function E(e){const t=await Object(m.a)(I.a.getAppId(Object(f.a)()));j({url:"https://prod2-live-chat.sprinklr.com/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(C.g)(),"x-chat-token":t,conversationId:e}})}async function T(e){const t=await Object(m.a)(I.a.getAppId(Object(f.a)()));j({url:"https://prod2-live-chat.sprinklr.com/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(C.g)(),"x-chat-token":t,...e}})}},771:function(e,t,n){"use strict";var a=n(200),o=n(191),i=n.n(o),r=n(205),c=n.n(r),s=n(199),d=n(193),l=n(192),u=n(196);const b=Object(d.a)("button",{target:"e1nedcse0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",u.o,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),p={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"},f=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:r,onLoad:d,...u}=e,f=Object(o.useMemo)((()=>i?[p,i]:[p]),[i]);return Object(l.jsx)(b,Object(a.a)({},u,{ref:t,className:c()("center-x-y",e.className)}),Object(l.jsx)(s.b,{alt:r,name:n,css:f,onLoad:d,"aria-hidden":!0,focusable:!1}),e.children)}));t.a=f},805:function(e,t,n){"use strict";var a=n(31),o=n.n(a);t.a=new class{constructor(){var e=this;this.queue=void 0,this.buffer=void 0,this._isFlushingInProgress=void 0,this._isReFlushPending=void 0,this.getQueue=()=>this.queue,this.getBufferQueue=()=>this.buffer,this.isFlushingInProgress=()=>this._isFlushingInProgress,this.setIsFlushingInProgress=e=>{this._isFlushingInProgress=e},this.isReFlushPending=()=>this._isReFlushPending,this.setIsReFlushPending=e=>{this._isReFlushPending=e},this.addCmdToQueue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o()(n)||e.push(...n)},this.move=(e,t)=>{e.forEach((()=>{this.addCmdToQueue(t,this.popNextCmd(e))}))},this.isEmpty=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return o()(t)},this.popNextCmd=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return t.shift()},this.queue=[],this.buffer=[],this._isFlushingInProgress=!1,this._isReFlushPending=!1}}},806:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@user/UPDATE_USER_SETTINGS"},807:function(e,t,n){var a=n(1136),o=n(121);e.exports=function(e,t){return null!=e&&o(e,t,a)}},808:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},809:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1536),o=n(1431),i=n(1537);const r=Object(a.a)("isSSOAuthorized"),c=Object(a.a)("authToken"),s=Object(a.a)("oneTimeToken");class d{}d.isSSOAuthorized=Object(o.a)(r),d.getAuthToken=Object(o.a)(c),d.hasIsSSOAuthorized=e=>e&&Object(i.a)("isSSOAuthorized",e),d.getOneTimeToken=Object(o.a)(s)},810:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l}));var a=n(490),o=n.n(a),i=n(8),r=n.n(i),c=n(1),s=n(198);function d(e){const t=Object(s.a)();t&&t.setUser&&t.setUser({id:e.userId,username:o()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}const l=(e,t)=>{const{appId:n}=Object(c.a)(),{chatUser:a}=e;if(r()(t,"otherConfigs.settings.enableSentry")&&!Object(s.a)()){const e=window.document.createElement("script");e.src="https://live-chat-static.sprinklr.com/sentry/sentry.min.js",e.crossOrigin="anonymous",e.onload=()=>{Object(s.a)().onLoad((()=>{Object(s.a)().init({tunnel:"https://prod2-live-chat.sprinklr.com/sentry",ignoreErrors:["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","Network Error"],denyUrls:[/extension:\/\//i]}),Object(s.a)().setTag("appId",n),Object(s.a)().setTag("appVersion","Xz3kvywgU"),d(a)}))},window.document.body.appendChild(e)}}},811:function(e,t,n){var a=n(491);e.exports=function(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}},846:function(e,t,n){"use strict";var a=n(191),o=n.n(a),i=n(213),r=n.n(i);const c=o.a.createContext([null,r.a]);t.a=c},849:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(209);const o=Object(a.a)((()=>Promise.all([n.e(0),n.e(1),n.e(28)]).then(n.bind(null,1429))))},852:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(193),o=n(342),i=n(196);const r=Object(a.a)(o.a,{target:"e1yw42fw0"})("position:absolute;top:40px;height:20px;width:20px;",(e=>{let{isPhone:t}=e;return t&&"\n    height: 14px;\n    width: 14px;\n    top: 20px;\n   "}),";padding:0;",Object(i.e)(i.j,i.h),";")},854:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(191),o=n.n(a),i=n(213),r=n.n(i),c=n(666),s=n(192);const d={debug:r.a,info:r.a,error:r.a,warning:r.a,cleanup:r.a},l=o.a.createContext(d),u=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:a,children:o}=e;const i=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:a});return Object(s.jsx)(l.Provider,{value:i},o)}},855:function(e,t,n){"use strict";var a=n(191),o=n(197),i=n(230),r=n(313),c=n(207),s=n(228),d=n(238),l=n(567);const u=(new i.a).setUrl("/video-chat/conversation/log/event").setType(d.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[i]=Object(r.a)(u,{ignoreResults:!0}),d=Object(o.d)(c.h),b=Object(s.d)(d),p=Object(a.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:a}=e;return{videoConversationId:t,loggerSnUserId:b,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:a}}),[n,t,b]);return Object(a.useMemo)((()=>new l.a(i,{adapter:p,skip:!t})),[i,p,t])}},856:function(e,t,n){"use strict";var a=n(209);const o=()=>n.e(19).then(n.bind(null,1428)),i=e=>n(1210)(`./${e.toLowerCase()}/pages`),r=Object(a.a)(o);r.preload=e=>Promise.all([i(e),o()]),t.a=r},857:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(193),o=n(240),i=n(391);const r=Object(a.a)("div",{target:"e1kwqiqk0"})("width:100%;position:relative;height:",(e=>Object(o.a)(Object(i.c)(e))),";")},858:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(195),o=n(328);const i=200,r=e=>{let{theme:t,triggerWidth:n,triggerHeight:i,triggerXpadding:r,triggerYpadding:c,isTriggerHiddenWhenMaximised:s}=e;const d=Object(a.d)("frame.align")({theme:t}),l=Object(a.d)("frame.alignTo")({theme:t}),u=Object(a.d)("frame.sXMargin")({theme:t}),b=Object(a.d)("frame.sYMargin")({theme:t}),p="L"===d.slice(-1)?o.b.LEFT:o.b.RIGHT,f=(e=>{let{alignType:t,frameSXMargin:n,triggerWidth:a,triggerXpadding:i,alignTo:r=o.d.TRIGGER}=e;if(r===o.d.VIEWPORT)return n;switch(t){case o.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case o.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:case o.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case o.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return a+i+n;case o.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:case o.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return i+n}})({alignType:d,frameSXMargin:u,triggerWidth:n,triggerXpadding:r,alignTo:l}),y=(e=>{let{isTriggerHiddenWhenMaximised:t,alignType:n,frameSYMargin:a,triggerHeight:i,triggerYpadding:r,alignTo:c=o.d.TRIGGER}=e;return c===o.d.VIEWPORT?a:t?r:n===o.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||n===o.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT?r+a:i+r+a})({isTriggerHiddenWhenMaximised:s,alignType:d,frameSYMargin:b,triggerHeight:i,triggerYpadding:c,alignTo:l});return{xEdgeToAlign:p,xOffset:f,bottomOffset:y}},c=e=>{let{bottomOffset:t,xEdgeToAlign:n,xOffset:o,theme:i,isMaximized:r}=e;const c=`calc(100% - ${t}px)`;return`\n    bottom: ${t}px;\n    height: ${c};\n    max-height: ${r?c:Object(a.d)("frame.height")({theme:i})};\n    ${n}: ${o}px;\n    max-width: calc(100% - ${o}px);\n    min-width: 200px;\n    width: ${r?`${Object(a.d)("frame.maximizedWidth")({theme:i})}px`:`${Object(a.d)("frame.width")({theme:i})}px`};\n    `},s=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:o,isPhone:i,triggerPosition:s}=e;if(i)return"\n    height: 100%;\n    width: 100vw;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  ";const d=Object(a.d)("trigger.size")({theme:n}),l=r({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:d,triggerWidth:d,triggerXpadding:s[s.edge],triggerYpadding:s.bottom});return c({...l,theme:n,isMaximized:o})},d=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:i,isPhone:s,triggerPosition:d}=e;const l="L"===Object(a.d)("frame.align")({theme:n}).slice(-1)?o.b.LEFT:o.b.RIGHT,{xOffset:u,bottomOffset:b}=r({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:d.height,triggerWidth:d.width,triggerXpadding:l===o.b.LEFT?d.left:d.right,triggerYpadding:d.bottom});if(s){return`\n      top: 0;\n      bottom: ${b}px;\n      ${l}: ${u}px;\n      ${l===o.b.LEFT?o.b.RIGHT:o.b.LEFT}: 0;\n      width: calc(100vw - ${u}px);\n      height: calc(100% - ${b}px);\n      min-width: calc(100vw - ${u}px);\n      max-width:  100vh;\n      max-height: 100vh;\n    `}return c({xEdgeToAlign:l,xOffset:u,bottomOffset:b,theme:n,isMaximized:i})}},859:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(191);const o=Object(a.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1,isFrameManuallyResized:!1})},860:function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function r(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==c){var s=e.displayName||e.name,d="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+d+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",(function(){return r})),a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},861:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var a;(a=n(243))&&a.__esModule;t.timeoutsShape=null;t.classNamesShape=null},862:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(191),o=n.n(a),i=n(192);const r=o.a.createContext("MOBILE");t.b=e=>Object(i.jsx)(r.Provider,{value:e.device},e.children)},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(191),o=n.n(a),i=n(192);const r=o.a.createContext("ltr");t.b=e=>Object(i.jsx)(r.Provider,{value:e.direction},e.children)},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y}));var a=n(191),o=n(267),i=n.n(o),r=n(31),c=n.n(r),s=n(645),d=n(673),l=n(242),u=n(192);const b={byIds:{}},p=Object(a.createContext)(b),f=(e,t)=>{if(t.type===l.s){const{id:n,details:a}=t.payload;return c()(e.byIds[n])?i()(e,{byIds:{$merge:{[n]:a}}}):i()(e,{byIds:{[n]:{$merge:a}}})}return e},y=e=>{let{children:t}=e;const[n,o]=Object(a.useReducer)(f,b),i=Object(d.a)(),r=Object(a.useCallback)((e=>{const{type:t,payload:n}=e,a=null===i||void 0===i?void 0:i.find((e=>{var t,a;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(a=t.details)||void 0===a?void 0:a.id)===n.id}));a&&o({type:t,payload:{...n,id:a.id}})}),[i]);return Object(s.a)(l.s,r),Object(u.jsx)(p.Provider,{value:n},t)}},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0)},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>n.e(67).then(n.bind(null,1395))},869:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(438),o=n(675),i=n(676),r=n(457),c=n(214);const s={[c.c.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(r.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},d={[c.c.CONTACT_DETAILS_FORM]:(e,t)=>{const n=o.a.getFields(i.a.getForm(e)),a=s[c.c.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:o}=n,i=a[o];return i&&(e[o]=i(t)),e}),{})}},l=(e,t)=>{const n=d[a.a.getType(e)];return n?n(e,t):{}}},870:function(e,t,n){var a=n(1220);e.exports=p,e.exports.parse=i,e.exports.compile=function(e,t){return c(i(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=b;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,a=[],i=0,r=0,c="",l=t&&t.delimiter||"/";null!=(n=o.exec(e));){var u=n[0],b=n[1],p=n.index;if(c+=e.slice(r,p),r=p+u.length,b)c+=b[1];else{var f=e[r],y=n[2],O=n[3],v=n[4],g=n[5],h=n[6],j=n[7];c&&(a.push(c),c="");var m=null!=y&&null!=f&&f!==y,I="+"===h||"*"===h,C="?"===h||"*"===h,E=n[2]||l,T=v||g;a.push({name:O||i++,prefix:y||"",delimiter:E,optional:C,repeat:I,partial:m,asterisk:!!j,pattern:T?d(T):j?".*":"[^"+s(E)+"]+?"})}}return r<e.length&&(c+=e.substr(r)),c&&a.push(c),a}function r(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",u(t)));return function(t,o){for(var i="",c=t||{},s=(o||{}).pretty?r:encodeURIComponent,d=0;d<e.length;d++){var l=e[d];if("string"!==typeof l){var u,b=c[l.name];if(null==b){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(a(b)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(b)+"`");if(0===b.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<b.length;p++){if(u=s(b[p]),!n[d].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===p?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?encodeURI(b).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(b),!n[d].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function b(e,t,n){a(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,r="",c=0;c<e.length;c++){var d=e[c];if("string"===typeof d)r+=s(d);else{var b=s(d.prefix),p="(?:"+d.pattern+")";t.push(d),d.repeat&&(p+="(?:"+b+p+")*"),r+=p=d.optional?d.partial?b+"("+p+")?":"(?:"+b+"("+p+"))?":b+"("+p+")"}}var f=s(n.delimiter||"/"),y=r.slice(-f.length)===f;return o||(r=(y?r.slice(0,-f.length):r)+"(?:"+f+"(?=$))?"),r+=i?"$":o&&y?"":"(?="+f+"|$)",l(new RegExp("^"+r,u(n)),t)}function p(e,t,n){return a(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):a(e)?function(e,t,n){for(var a=[],o=0;o<e.length;o++)a.push(p(e[o],t,n).source);return l(new RegExp("(?:"+a.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return b(i(e,n),t,n)}(e,t,n)}},871:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@chatPrompt/PROMPT_ACTION_TRIGGER"},873:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const a={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},o={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},874:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(255);const o=async()=>a.a.post("/livechat/conversation/refresh-token")}}]);